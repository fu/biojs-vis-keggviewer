!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.biojsVisKeggviewer=e()}}(function(){var e;return function t(e,i,n){function r(o,s){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return r(i?i:t)},h,h.exports,t,e,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t){{var i=e("jquery");e("cytoscape")}e("jquery-ui");var n=e("./pathwayrender.js"),r="http://rest.kegg.jp/get/",a=null,o="hsa04910",s=null,l=null,u=null,h=null,c=null,d=function(){var e=r+o+"/kgml";e=i.isFunction(s)?s(e):e,i.ajax({dataType:"xml",url:e,success:function(e){var t=a[0].appendChild(document.createElement("div"));t.style.left=0,t.style.top=0,t.style.width="100%",t.style.height="100%",t.style.position="absolute",u=n(e,t)}})},p=function(){for(var e=u.nodes(),t=0;t<e.length;t++)for(var i=0;i<l.genes.length;i++)e[t].data().keggId==l.genes[i]&&e[t].css("background-color",e[t].data().bkg_color)},f=function(){"nocondition"==i("#condition").val()&&p();for(var e=i("#slider-range").slider("values",0),t=i("#slider-range").slider("values",1),n={},r=0;r<l.conditions.length;r++)if(l.conditions[r].name==i("#condition").val()){n=l.conditions[r];for(var a=u.nodes(),o=0;o<a.length;o++)for(var s=0;s<l.genes.length;s++){var h=i.inArray(l.genes[s],a[o].data().keggId);if(-1!=h){var c=n.values[s],d=a[o].data().bkg_color;e>c?d=l.downColor:c>t&&(d=l.upColor),a[o].css("background-color",d)}}break}},g=function(){var e='<option value="nocondition">No Condition</option>';l.conditions.forEach(function(t){e+='<option value="'+t.name+'">'+t.name+"</option>"}),i('<div id="toolbar" style="position:relative;z-index:999999;top:20px;float:right;font-size:0.8em"><select id="condition">'+e+'</select><button id="play">play</button><button       id="refresh">refresh</button><p><label for="amount">Expression range:</label><label id="amount" style=" color: #f6931f; font-weight: bold;margin-left:10px;"></label></p><div id="slider-range"></div></div>').appendTo(a),i("#play").button({text:!1,icons:{primary:"ui-icon-play"}}).click(function(){var e;"play"===i(this).text()?(e={label:"stop",icons:{primary:"ui-icon-stop"}},i("#refresh").button("disable"),c=setInterval(function(){h=i("#condition > option");for(var e,t=i("#condition").val(),n=0;n<h.length;n++)if(i(h[n]).val()==t){e=n;break}i("#condition").val(e===h.length-1?i(h[0]).val():i(h[e+1]).val()),f()},2e3)):(e={label:"play",icons:{primary:"ui-icon-play"}},i("#refresh").button("enable"),window.clearInterval(c)),i(this).button("option",e)}),i("#refresh").button({text:!1,icons:{primary:"ui-icon-refresh"}}).click(function(){f()});for(var t,n,r=0;r<l.conditions.length;r++)for(var o=l.conditions[r],s=0;s<o.values.length;s++){var u=o.values[s];void 0==t&&void 0==n?(t=u,n=u):t>u?t=u:u>n&&(n=u)}l.min=t,l.max=n,i("#slider-range").slider({range:!0,min:t,max:n,step:.01,slide:function(e,t){i("#amount").text(t.values[0]+" , "+t.values[1])}}),i("#amount").text(i("#slider-range").slider("values",0)+" , "+i("#slider-range").slider("values",1)),i("#condition").change(function(){})},v=function(){};v.target=function(e){return arguments.length?(a=i(e),v):a},v.pathway=function(e){return arguments.length?(o=e,v):o},v.proxy=function(e){return arguments.length?(s=e,v):s},v.expression=function(e){return arguments.length?(l=e,v):l},v.init=function(){null!==l&&g(),d()},t.exports=v},{"./pathwayrender.js":2,cytoscape:3,jquery:5,"jquery-ui":4}],2:[function(e,t){var i=e("jquery"),n=function(e,t){var n={},r={},a=[],o=[],s=[];i(e).find("entry").each(function(){var e=i(this),t=e.attr("type"),o=e.find("graphics"),l="center",u="rectangle",h="#99ff99",c=.9,d=0,p=i(o).attr("width"),f=i(o).attr("height");"gene"==t?d=2:"ortholog"==t?d=2:"compound"==t?(u="ellipse",h="#aaaaee",l="bottom",c=1):"map"==t?(u="roundrectangle",h="#00bfff"):"group"==t&&e.find("component").each(function(){r[i(this).attr("id")].data.parent=e.attr("id")});var g=[];void 0!==o.attr("name")&&(g=o.attr("name").split(","));var v={};v.data={id:e.attr("id"),keggId:e.attr("name").split(" "),name:g[0],names:g,type:t,link:e.attr("link"),width:p,height:f,shape:u,bkg_color:h,text_valign:l,"border-width":d},s.push(e.attr("name")),r[e.attr("id")]=v,a.push(v),n[e.attr("id")]={x:+o.attr("x"),y:+o.attr("y")}}),i(e).find("relation").each(function(){var e=i(this),t=e.attr("type");e.find("subtype").each(function(){var n=i(this),r=n.attr("name"),a="solid",s="none",l="";"maplink"==r?s="diamond":"indirect effect"==r?(a="dotted",s="diamond"):"state change"==r?a="dotted":"missing interaction"==r?(a="dotted",s="triangle"):"phosphorylation"==r?(s="triangle",l="p+"):"dephosphorylation"==r?(s="triangle",l="p-"):"glycosylation"==r?(a="dashed",s="circle"):"ubiquitination"==r?(a="dashed",s="circle"):"methylation"==r?(a="dashed",s="circle"):"activation"==r?s="triangle":"inhibition"==r?s="tee":"expression"==r?s="triangle":"repression"==r&&(s="tee"),o.push({data:{source:e.attr("entry1"),target:e.attr("entry2"),name:r,reaction:t,line_style:a,target_arrow_shape:s,text:l}})})});var l=cytoscape({container:t,elements:{nodes:a,edges:o},style:cytoscape.stylesheet().selector("node").css({content:"data(name)","text-valign":"center",width:"data(width)",shape:"data(shape)","background-color":"data(bkg_color)","text-valign":"data(text_valign)","border-color":"#000000","border-width":"data(border-width)","font-size":11}).selector("node").selector("edge").css({content:"data(text)","target-arrow-shape":"data(target_arrow_shape)","line-style":"data(line_style)","line-color":"#000000","target-arrow-color":"#000000","text-valign":"bottom"}),layout:{name:"preset",fit:!1,positions:n},ready:function(){console.log("Kegg Viewer ready")}});return l};t.exports=n},{jquery:5}],3:[function(t,i){var n;!function(t){"use strict";var r=n=function(){return n.init.apply(n,arguments)};r.version="2.3.9",r.init=function(e){return void 0===e&&(e={}),r.is.plainObject(e)?new r.Core(e):r.is.string(e)?r.extension.apply(r.extension,arguments):void 0},r.fn={},"undefined"!=typeof i&&i.exports&&(i.exports=n),"undefined"!=typeof e&&e.amd&&e("cytoscape",function(){return n}),t&&(t.cytoscape=n)}("undefined"==typeof window?null:window),function(e,t){"use strict";e.is={defined:function(e){return null!=e},string:function(e){return null!=e&&"string"==typeof e},fn:function(e){return null!=e&&"function"==typeof e},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(t){return null!=t&&typeof t==typeof{}&&!e.is.array(t)&&t.constructor===Object},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(t){return e.is.number(t)&&Math.floor(t)===t},color:function(e){return null!=e&&"string"==typeof e&&""!==$.Color(e).toString()},bool:function(e){return null!=e&&typeof e==typeof!0},elementOrCollection:function(t){return e.is.element(t)||e.is.collection(t)},element:function(t){return t instanceof e.Element&&t._private.single},collection:function(t){return t instanceof e.Collection&&!t._private.single},core:function(t){return t instanceof e.Core},style:function(t){return t instanceof e.Style},stylesheet:function(t){return t instanceof e.Stylesheet},event:function(t){return t instanceof e.Event},emptyString:function(t){return t?e.is.string(t)&&(""===t||t.match(/^\s+$/))?!0:!1:!0},nonemptyString:function(t){return t&&e.is.string(t)&&""!==t&&!t.match(/^\s+$/)?!0:!1},domElement:function(e){return"undefined"==typeof HTMLElement?!1:e instanceof HTMLElement},boundingBox:function(t){return e.is.plainObject(t)&&e.is.number(t.x1)&&e.is.number(t.x2)&&e.is.number(t.y1)&&e.is.number(t.y2)},touch:function(){return t&&("ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},khtmlEtc:function(){return e.is.khtml()||e.is.webkit()||e.is.blink()},trident:function(){return"undefined"!=typeof ActiveXObject||!1},windows:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/X11/i)}}}(n,"undefined"==typeof window?null:window),function(n,r){"use strict";n.util={extend:function(){var e,t,i,r,a,o,s=arguments[0]||{},l=1,u=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[1]||{},l=2),"object"==typeof s||n.is.fn(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(t in e)i=s[t],r=e[t],s!==r&&(h&&r&&(n.is.plainObject(r)||(a=n.is.array(r)))?(a?(a=!1,o=i&&n.is.array(i)?i:[]):o=i&&n.is.plainObject(i)?i:{},s[t]=n.util.extend(h,o,r)):void 0!==r&&(s[t]=r));return s},require:function(a,o,s){var l;s=n.util.extend({msgIfNotFound:!0},s);var u=!1,h=function(e){u=!0,o(e)},c=function(e){r&&(l=r[a]),void 0!==l&&h(l),e&&e()},d=function(){u||p(f)},p=function(e){"undefined"!=typeof i&&i.exports&&t&&(l=t(a)),void 0!==l&&h(l),e&&e()},f=function(){u||g(v)},g=function(i){"undefined"!=typeof e&&e.amd&&t&&t([a],function(e){l=e,void 0!==l&&h(l),i&&i()})},v=function(){!u&&s.msgIfNotFound&&n.util.error("Cytoscape.js tried to pull in dependency `"+a+"` but no module (i.e. CommonJS, AMD, or window) was found")};c(d)},requires:function(e,t){for(var i=[],r=[],a=function(){for(var n=0;n<e.length;n++)if(!r[n])return;t.apply(t,i)},o=0;o<e.length;o++)!function(){var t=e[o],s=o;n.util.require(t,function(e){i[s]=e,r[s]=!0,a()})}()},throttle:function(e,t,i){var r=!0,a=!0;return i===!1?r=!1:n.is.plainObject(i)&&(r="leading"in i?i.leading:r,a="trailing"in i?i.trailing:a),i=i||{},i.leading=r,i.maxWait=t,i.trailing=a,n.util.debounce(e,t,i)},now:function(){return+new Date},debounce:function(e,t,i){var r,a,o,s,l,u,h,c=0,d=!1,p=!0;if(n.is.fn(e)){if(t=Math.max(0,t)||0,i===!0){var f=!0;p=!1}else n.is.plainObject(i)&&(f=i.leading,d="maxWait"in i&&(Math.max(t,i.maxWait)||0),p="trailing"in i?i.trailing:p);var g=function(){var i=t-(n.util.now()-s);if(0>=i){a&&clearTimeout(a);var d=h;a=u=h=void 0,d&&(c=n.util.now(),o=e.apply(l,r),u||a||(r=l=null))}else u=setTimeout(g,i)},v=function(){u&&clearTimeout(u),a=u=h=void 0,(p||d!==t)&&(c=n.util.now(),o=e.apply(l,r),u||a||(r=l=null))};return function(){if(r=arguments,s=n.util.now(),l=this,h=p&&(u||!f),d===!1)var i=f&&!u;else{a||f||(c=s);var m=d-(s-c),y=0>=m;y?(a&&(a=clearTimeout(a)),c=s,o=e.apply(l,r)):a||(a=setTimeout(v,m))}return y&&u?u=clearTimeout(u):u||t===d||(u=setTimeout(g,t)),i&&(y=!0,o=e.apply(l,r)),!y||u||a||(r=l=null),o}}},error:function(e){if(!console)throw e;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw e;console.log.apply(console,arguments)}},clone:function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},copy:function(e){return null==e?e:n.is.array(e)?e.slice():n.is.plainObject(e)?n.util.clone(e):e},makeBoundingBox:function(e){if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},mapEmpty:function(e){var t=!0;if(null!=e)for(var i in e){t=!1;break}return t},pushMap:function(e){var t=n.util.getMap(e);null==t?n.util.setMap($.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t,i=e.map,r=e.keys,a=r.length,o=0;a>o;o++){var t=r[o];n.is.plainObject(t)&&n.util.error("Tried to set map with object key"),o<r.length-1?(null==i[t]&&(i[t]={}),i=i[t]):i[t]=e.value}},getMap:function(e){for(var t=e.map,i=e.keys,r=i.length,a=0;r>a;a++){var o=i[a];if(n.is.plainObject(o)&&n.util.error("Tried to get map with object key"),t=t[o],null==t)return t}return t},deleteMap:function(e){for(var t=e.map,i=e.keys,r=i.length,a=e.keepChildren,o=0;r>o;o++){var s=i[o];n.is.plainObject(s)&&n.util.error("Tried to delete map with object key");var l=o===e.keys.length-1;if(l)if(a)for(var u in t)a[u]||(t[u]=void 0);else t[s]=void 0;else t=t[s]}},capitalize:function(e){return n.is.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},camel2dash:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=n.toLowerCase(),a=n!==r;a?(t.push("-"),t.push(r)):t.push(n)}var o=t.length===e.length;return o?e:t.join("")},dash2camel:function(e){for(var t=[],i=!1,n=0;n<e.length;n++){var r=e[n],a="-"===r;a?i=!0:(t.push(i?r.toUpperCase():r),i=!1)}return t.join("")},trim:function(e){var t,i;for(t=0;t<e.length&&" "===e[t];t++);for(i=e.length-1;i>t&&" "===e[i];i--);return e.substring(t,i+1)},hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,i,n,r=4===e.length,a=16;return r?(t=parseInt(e[1]+e[1],a),i=parseInt(e[2]+e[2],a),n=parseInt(e[3]+e[3],a)):(t=parseInt(e[1]+e[2],a),i=parseInt(e[3]+e[4],a),n=parseInt(e[5]+e[6],a)),[t,i,n]}},hsl2tuple:function(e){function t(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+(t-e)*(2/3-i)*6:e}var i,r,a,o,s,l,u,h,c=new RegExp("^"+n.util.regex.hsla+"$").exec(e);if(c){if(r=parseInt(c[1]),0>r?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,a=parseFloat(c[2]),0>a||a>100)return;if(a/=100,o=parseFloat(c[3]),0>o||o>100)return;if(o/=100,s=c[4],void 0!==s&&(s=parseFloat(s),0>s||s>1))return;if(0===a)l=u=h=Math.round(255*o);else{var d=.5>o?o*(1+a):o+a-o*a,p=2*o-d;l=Math.round(255*t(p,d,r+1/3)),u=Math.round(255*t(p,d,r)),h=Math.round(255*t(p,d,r-1/3))}i=[l,u,h,s]}return i},rgb2tuple:function(e){var t,i=new RegExp("^"+n.util.regex.rgba+"$").exec(e);if(i){t=[];for(var r=[],a=1;3>=a;a++){var o=i[a];if("%"===o[o.length-1]&&(r[a]=!0),o=parseFloat(o),r[a]&&(o=o/100*255),0>o||o>255)return;t.push(Math.floor(o))}var s=r[1]||r[2]||r[3],l=r[1]&&r[2]&&r[3];if(s&&!l)return;var u=i[4];if(void 0!==u){if(u=parseFloat(u),0>u||u>1)return;t.push(u)}}return t},colorname2tuple:function(e){return n.util.colors[e.toLowerCase()]},color2tuple:function(e){return(n.is.array(e)?e:null)||n.util.colorname2tuple(e)||n.util.hex2tuple(e)||n.util.rgb2tuple(e)||n.util.hsl2tuple(e)},tuple2hex:function(e){function t(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}var i=e[0],n=e[1],r=e[2];return"#"+t(i)+t(n)+t(r)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},n.util.regex={},n.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)",n.util.regex.rgba="rgb[a]?\\(("+n.util.regex.number+"[%]?)\\s*,\\s*("+n.util.regex.number+"[%]?)\\s*,\\s*("+n.util.regex.number+"[%]?)(?:\\s*,\\s*("+n.util.regex.number+"))?\\)",n.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+n.util.regex.number+"[%]?)\\s*,\\s*(?:"+n.util.regex.number+"[%]?)\\s*,\\s*(?:"+n.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+n.util.regex.number+"))?\\)",n.util.regex.hsla="hsl[a]?\\(("+n.util.regex.number+")\\s*,\\s*("+n.util.regex.number+"[%])\\s*,\\s*("+n.util.regex.number+"[%])(?:\\s*,\\s*("+n.util.regex.number+"))?\\)",n.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+n.util.regex.number+")\\s*,\\s*(?:"+n.util.regex.number+"[%])\\s*,\\s*(?:"+n.util.regex.number+"[%])(?:\\s*,\\s*(?:"+n.util.regex.number+"))?\\)",n.util.regex.hex3="\\#[0-9a-fA-F]{3}",n.util.regex.hex6="\\#[0-9a-fA-F]{6}";var a=r?r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame:null;a=a||function(e){e&&setTimeout(e,1e3/60)},n.util.requestAnimationFrame=function(e){a(e)}}(n,"undefined"==typeof window?null:window),function(e){"use strict";e.math={},e.math.signum=function(e){return e>0?1:0>e?-1:0},e.math.distance=function(e,t){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},e.math.qbezierAt=function(e,t,i,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*i},e.math.qbezierPtAt=function(t,i,n,r){return{x:e.math.qbezierAt(t.x,i.x,n.x,r),y:e.math.qbezierAt(t.y,i.y,n.y,r)}},e.math.boundingBoxesIntersect=function(e,t){return e.x1>t.x2?!1:t.x1>e.x2?!1:e.x2<t.x1?!1:t.x2<e.x1?!1:e.y2<t.y1?!1:t.y2<e.y1?!1:e.y1>t.y2?!1:t.y1>e.y2?!1:!0},e.math.inBoundingBox=function(e,t,i){return e.x1<=t&&t<=e.x2&&e.y1<=i&&i<=e.y2},e.math.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},e.math.roundRectangleIntersectLine=function(e,t,i,n,r,a,o){var s,l=this.getRoundRectangleRadius(r,a),u=r/2,h=a/2,c=i-u+l-o,d=n-h-o,p=i+u-l+o,f=d;if(s=this.finiteLinesIntersect(e,t,i,n,c,d,p,f,!1),s.length>0)return s;var g=i+u+o,v=n-h+l-o,m=g,y=n+h-l+o;if(s=this.finiteLinesIntersect(e,t,i,n,g,v,m,y,!1),s.length>0)return s;var b=i-u+l-o,x=n+h+o,_=i+u-l+o,w=x;if(s=this.finiteLinesIntersect(e,t,i,n,b,x,_,w,!1),s.length>0)return s;var k=i-u-o,C=n-h+l-o,D=k,T=n+h-l+o;if(s=this.finiteLinesIntersect(e,t,i,n,k,C,D,T,!1),s.length>0)return s;var S,E=i-u+l,P=n-h+l;if(S=this.intersectLineCircle(e,t,i,n,E,P,l+o),S.length>0&&S[0]<=E&&S[1]<=P)return[S[0],S[1]];var N=i+u-l,M=n-h+l;if(S=this.intersectLineCircle(e,t,i,n,N,M,l+o),S.length>0&&S[0]>=N&&S[1]<=M)return[S[0],S[1]];var I=i+u-l,z=n+h-l;if(S=this.intersectLineCircle(e,t,i,n,I,z,l+o),S.length>0&&S[0]>=I&&S[1]>=z)return[S[0],S[1]];var A=i-u+l,O=n+h-l;return S=this.intersectLineCircle(e,t,i,n,A,O,l+o),S.length>0&&S[0]<=A&&S[1]>=O?[S[0],S[1]]:[]},e.math.roundRectangleIntersectBox=function(e,t,i,n,r,a,o,s,l){var u=this.getRoundRectangleRadius(r,a),h=o-r/2-l,c=s-a/2+u-l,d=o+r/2+l,p=s+a/2-u+l,f=o-r/2+u-l,g=s-a/2-l,v=o+r/2-u+l,m=s+a/2+l,y=Math.min(e,i),b=Math.max(e,i),x=Math.min(t,n),_=Math.max(t,n);return h>b?!1:y>d?!1:g>_?!1:x>m?!1:h>=y&&b>=h&&c>=x&&_>=c?!0:d>=y&&b>=d&&c>=x&&_>=c?!0:d>=y&&b>=d&&p>=x&&_>=p?!0:h>=y&&b>=h&&p>=x&&_>=p?!0:y>=h&&d>=y&&x>=c&&p>=x?!0:b>=h&&d>=b&&x>=c&&p>=x?!0:b>=h&&d>=b&&_>=c&&p>=_?!0:y>=h&&d>=y&&_>=c&&p>=_?!0:f>=y&&b>=f&&g>=x&&_>=g?!0:v>=y&&b>=v&&g>=x&&_>=g?!0:v>=y&&b>=v&&m>=x&&_>=m?!0:f>=y&&b>=f&&m>=x&&_>=m?!0:y>=f&&v>=y&&x>=g&&m>=x?!0:b>=f&&v>=b&&x>=g&&m>=x?!0:b>=f&&v>=b&&_>=g&&m>=_?!0:y>=f&&v>=y&&_>=g&&m>=_?!0:this.boxIntersectEllipse(y,x,b,_,l,2*u,2*u,f+l,c+l)?!0:this.boxIntersectEllipse(y,x,b,_,l,2*u,2*u,v-l,c+l)?!0:this.boxIntersectEllipse(y,x,b,_,l,2*u,2*u,v-l,p-l)?!0:this.boxIntersectEllipse(y,x,b,_,l,2*u,2*u,f+l,p-l)?!0:!1},e.math.checkInBoundingCircle=function(e,t,i,n,r,a,o,s){return e=(e-o)/(r+n),t=(t-s)/(a+n),i>=e*e+t*t},e.math.boxInBezierVicinity=function(e,t,i,n,r,a,o,s,l,u,h){var c=.25*r+.5*o+.25*l,d=.25*a+.5*s+.25*u,p=Math.min(e,i)-h,f=Math.min(t,n)-h,g=Math.max(e,i)+h,v=Math.max(t,n)+h;if(r>=p&&g>=r&&a>=f&&v>=a)return 1;if(l>=p&&g>=l&&u>=f&&v>=u)return 1;if(c>=p&&g>=c&&d>=f&&v>=d)return 1;if(o>=p&&g>=o&&s>=f&&v>=s)return 1;var m=Math.min(r,c,l),y=Math.min(a,d,u),b=Math.max(r,c,l),x=Math.max(a,d,u);return m>g||p>b||y>v||f>x?0:1},e.math.checkBezierInBox=function(t,i,n,r,a,o,s,l,u,h){function c(c){var d=e.math.qbezierAt(a,s,u,c),p=e.math.qbezierAt(o,l,h,c);return d>=t&&n>=d&&p>=i&&r>=p}for(var d=0;1>=d;d+=.25)if(!c(d))return!1;return!0},e.math.checkStraightEdgeInBox=function(e,t,i,n,r,a,o,s){return r>=e&&i>=r&&o>=e&&i>=o&&a>=t&&n>=a&&s>=t&&n>=s},e.math.checkStraightEdgeCrossesBox=function(e,t,i,n,r,a,o,s,l){var u,h,c=Math.min(e,i)-l,d=Math.min(t,n)-l,p=Math.max(e,i)+l,f=Math.max(t,n)+l,g=o-r,v=r,m=s-a,y=a;if(Math.abs(g)<1e-4)return r>=c&&p>=r&&Math.min(a,s)<=d&&Math.max(a,s)>=f;var b=(c-v)/g;if(b>0&&1>=b&&(u=m*b+y,u>=d&&f>=u))return!0;var x=(p-v)/g;if(x>0&&1>=x&&(u=m*x+y,u>=d&&f>=u))return!0;var _=(d-y)/m;if(_>0&&1>=_&&(h=g*_+v,h>=c&&p>=h))return!0;var w=(f-y)/m;return w>0&&1>=w&&(h=g*w+v,h>=c&&p>=h)?!0:!1},e.math.checkBezierCrossesBox=function(e,t,i,n,r,a,o,s,l,u,h){var c=Math.min(e,i)-h,d=Math.min(t,n)-h,p=Math.max(e,i)+h,f=Math.max(t,n)+h;if(r>=c&&p>=r&&a>=d&&f>=a)return!0;if(l>=c&&p>=l&&u>=d&&f>=u)return!0;var g=r-2*o+l,v=-2*r+2*o,m=r,y=[];if(Math.abs(g)<1e-4){var b=(c-r)/v,x=(p-r)/v;y.push(b,x)}else{var _,w,k=v*v-4*g*(m-c);if(k>0){var C=Math.sqrt(k);_=(-v+C)/(2*g),w=(-v-C)/(2*g),y.push(_,w)}var D,T,S=v*v-4*g*(m-p);if(S>0){var C=Math.sqrt(S);D=(-v+C)/(2*g),T=(-v-C)/(2*g),y.push(D,T)}}y.sort(function(e,t){return e-t});var E=a-2*s+u,P=-2*a+2*s,N=a,M=[];if(Math.abs(E)<1e-4){var I=(d-a)/P,z=(f-a)/P;M.push(I,z)}else{var A,O,L=P*P-4*E*(N-d);if(L>0){var C=Math.sqrt(L);A=(-P+C)/(2*E),O=(-P-C)/(2*E),M.push(A,O)}var B,R,H=P*P-4*E*(N-f);if(H>0){var C=Math.sqrt(H);B=(-P+C)/(2*E),R=(-P-C)/(2*E),M.push(B,R)}}M.sort(function(e,t){return e-t});for(var W=0;W<y.length;W+=2)for(var F=1;F<M.length;F+=2)if(y[W]<M[F]&&M[F]>=0&&y[W]<=1&&y[W+1]>M[F-1]&&M[F-1]<=1&&y[W+1]>=0)return!0;return!1},e.math.inLineVicinity=function(e,t,i,n,r,a,o){var s=o,l=Math.min(i,r),u=Math.max(i,r),h=Math.min(n,a),c=Math.max(n,a);return e>=l-s&&u+s>=e&&t>=h-s&&c+s>=t},e.math.inBezierVicinity=function(e,t,i,n,r,a,o,s){var l={x1:Math.min(i,o,r),x2:Math.max(i,o,r),y1:Math.min(n,s,a),y2:Math.max(n,s,a)};return e<l.x1||e>l.x2||t<l.y1||t>l.y2?!1:!0},e.math.solveCubic=function(e,t,i,n,r){t/=e,i/=e,n/=e;var a,o,s,l,u,h,c,d;return o=(3*i-t*t)/9,s=-(27*n)+t*(9*i-2*t*t),s/=54,a=o*o*o+s*s,r[1]=0,c=t/3,a>0?(u=s+Math.sqrt(a),u=0>u?-Math.pow(-u,1/3):Math.pow(u,1/3),h=s-Math.sqrt(a),h=0>h?-Math.pow(-h,1/3):Math.pow(h,1/3),r[0]=-c+u+h,c+=(u+h)/2,r[4]=r[2]=-c,c=Math.sqrt(3)*(-h+u)/2,r[3]=c,void(r[5]=-c)):(r[5]=r[3]=0,0===a?(d=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3),r[0]=-c+2*d,void(r[4]=r[2]=-(d+c))):(o=-o,l=o*o*o,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(o),r[0]=-c+d*Math.cos(l/3),r[2]=-c+d*Math.cos((l+2*Math.PI)/3),void(r[4]=-c+d*Math.cos((l+4*Math.PI)/3))))},e.math.sqDistanceToQuadraticBezier=function(e,t,i,n,r,a,o,s){var l=1*i*i-4*i*r+2*i*o+4*r*r-4*r*o+o*o+n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s,u=9*i*r-3*i*i-3*i*o-6*r*r+3*r*o+9*n*a-3*n*n-3*n*s-6*a*a+3*a*s,h=3*i*i-6*i*r+i*o-i*e+2*r*r+2*r*e-o*e+3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t,c=1*i*r-i*i+i*e-r*e+n*a-n*n+n*t-a*t,d=[];this.solveCubic(l,u,h,c,d);for(var p=1e-7,f=[],g=0;6>g;g+=2)Math.abs(d[g+1])<p&&d[g]>=0&&d[g]<=1&&f.push(d[g]);f.push(1),f.push(0);for(var v,m,y,b,x=-1,_=0;_<f.length;_++)m=Math.pow(1-f[_],2)*i+2*(1-f[_])*f[_]*r+f[_]*f[_]*o,y=Math.pow(1-f[_],2)*n+2*(1-f[_])*f[_]*a+f[_]*f[_]*s,b=Math.pow(m-e,2)+Math.pow(y-t,2),x>=0?x>b&&(x=b,v=f[_]):(x=b,v=f[_]);return x},e.math.sqDistanceToFiniteLine=function(e,t,i,n,r,a){var o=[e-i,t-n],s=[r-i,a-n],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],h=o[0]*s[0]+o[1]*s[1],c=h*h/l;return 0>h?u:c>l?(e-r)*(e-r)+(t-a)*(t-a):u-c},e.math.pointInsidePolygon=function(e,t,i,n,r,a,o,s,l){var u=new Array(i.length),h=Math.asin(s[1]/Math.sqrt(s[0]*s[0]+s[1]*s[1]));s[0]<0?h+=Math.PI/2:h=-h-Math.PI/2;for(var c=Math.cos(-h),d=Math.sin(-h),p=0;p<u.length/2;p++)u[2*p]=a/2*(i[2*p]*c-i[2*p+1]*d),u[2*p+1]=o/2*(i[2*p+1]*c+i[2*p]*d),u[2*p]+=n,u[2*p+1]+=r;var f;if(l>0){var g=this.expandPolygon(u,-l);f=this.joinLines(g)}else f=u;for(var v,m,y,b,x,_=0,w=0,p=0;p<f.length/2;p++)if(v=f[2*p],m=f[2*p+1],p+1<f.length/2?(y=f[2*(p+1)],b=f[2*(p+1)+1]):(y=f[2*(p+1-f.length/2)],b=f[2*(p+1-f.length/2)+1]),v==e&&y==e);else{if(!(v>=e&&e>=y||e>=v&&y>=e))continue;x=(e-v)/(y-v)*(b-m)+m,x>t&&_++,t>x&&w++}return _%2===0?!1:!0},e.math.joinLines=function(e){for(var t,i,n,r,a,o,s,l,u=new Array(e.length/2),h=0;h<e.length/4;h++){t=e[4*h],i=e[4*h+1],n=e[4*h+2],r=e[4*h+3],h<e.length/4-1?(a=e[4*(h+1)],o=e[4*(h+1)+1],s=e[4*(h+1)+2],l=e[4*(h+1)+3]):(a=e[0],o=e[1],s=e[2],l=e[3]);var c=this.finiteLinesIntersect(t,i,n,r,a,o,s,l,!0);u[2*h]=c[0],u[2*h+1]=c[1]}return u},e.math.expandPolygon=function(e,t){for(var i,n,r,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){i=e[2*s],n=e[2*s+1],s<e.length/2-1?(r=e[2*(s+1)],a=e[2*(s+1)+1]):(r=e[0],a=e[1]);var l=a-n,u=-(r-i),h=Math.sqrt(l*l+u*u),c=l/h,d=u/h;o[4*s]=i+c*t,o[4*s+1]=n+d*t,o[4*s+2]=r+c*t,o[4*s+3]=a+d*t}return o},e.math.intersectLineEllipse=function(e,t,i,n,r,a){var o=i-e,s=n-t;o/=r,s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(0>u)return[];var h=u/l;return[(i-e)*h+e,(n-t)*h+t]},e.math.dotProduct=function(e,t){if(2!=e.length||2!=t.length)throw"dot product: arguments are not vectors";return e[0]*t[0]+e[1]*t[1]},e.math.intersectLineCircle=function(e,t,i,n,r,a,o){var s=[i-e,n-t],l=[r,a],u=[e-r,t-a],h=s[0]*s[0]+s[1]*s[1],c=2*(u[0]*s[0]+u[1]*s[1]),l=u[0]*u[0]+u[1]*u[1]-o*o,d=c*c-4*h*l;if(0>d)return[];var p=(-c+Math.sqrt(d))/(2*h),f=(-c-Math.sqrt(d))/(2*h),g=Math.min(p,f),v=Math.max(p,f),m=[];if(g>=0&&1>=g&&m.push(g),v>=0&&1>=v&&m.push(v),0===m.length)return[];var y=m[0]*s[0]+e,b=m[0]*s[1]+t;if(m.length>1){if(m[0]==m[1])return[y,b];var x=m[1]*s[0]+e,_=m[1]*s[1]+t;return[y,b,x,_]}return[y,b]},e.math.findCircleNearPoint=function(e,t,i,n,r){var a=n-e,o=r-t,s=Math.sqrt(a*a+o*o),l=a/s,u=o/s;return[e+l*i,t+u*i]},e.math.findMaxSqDistanceToOrigin=function(e){for(var t,i=1e-6,n=0;n<e.length/2;n++)t=e[2*n]*e[2*n]+e[2*n+1]*e[2*n+1],t>i&&(i=t);return i},e.math.finiteLinesIntersect=function(e,t,i,n,r,a,o,s,l){var u=(o-r)*(t-a)-(s-a)*(e-r),h=(i-e)*(t-a)-(n-t)*(e-r),c=(s-a)*(i-e)-(o-r)*(n-t);if(0!==c){var d=u/c,p=h/c;return d>=0&&1>=d&&p>=0&&1>=p?[e+d*(i-e),t+d*(n-t)]:l?[e+d*(i-e),t+d*(n-t)]:[]}return 0===u||0===h?[e,i,o].sort()[1]===o?[o,s]:[e,i,r].sort()[1]===r?[r,a]:[r,o,i].sort()[1]===i?[i,n]:[]:[]},e.math.boxIntersectEllipse=function(e,t,i,n,r,a,o,s,l){if(e>i){var u=e;e=i,i=u}if(t>n){var h=t;t=n,n=h}var c=[s-a/2-r,l],d=[s+a/2+r,l],p=[s,l-o/2-r],f=[s,l+o/2+r];return i<c[0]?!1:e>d[0]?!1:t>f[1]?!1:n<p[1]?!1:e<=d[0]&&d[0]<=i&&t<=d[1]&&d[1]<=n?!0:e<=c[0]&&c[0]<=i&&t<=c[1]&&c[1]<=n?!0:e<=p[0]&&p[0]<=i&&t<=p[1]&&p[1]<=n?!0:e<=f[0]&&f[0]<=i&&t<=f[1]&&f[1]<=n?!0:(e=(e-s)/(a/2+r),i=(i-s)/(a/2+r),t=(t-l)/(o/2+r),n=(n-l)/(o/2+r),1>=e*e+t*t?!0:1>=i*i+t*t?!0:1>=i*i+n*n?!0:1>=e*e+n*n?!0:!1)},e.math.boxIntersectPolygon=function(t,i,n,r,a,o,s,l,u,h,c){if(t>n){var d=t;t=n,n=d}if(i>r){var p=i;i=r,r=p}var f=new Array(a.length),g=Math.asin(h[1]/Math.sqrt(h[0]*h[0]+h[1]*h[1]));h[0]<0?g+=Math.PI/2:g=-g-Math.PI/2;for(var v=Math.cos(-g),m=Math.sin(-g),y=0;y<f.length/2;y++)f[2*y]=o/2*(a[2*y]*v-a[2*y+1]*m),f[2*y+1]=s/2*(a[2*y+1]*v+a[2*y]*m),f[2*y]+=l,f[2*y+1]+=u;for(var b=f[0],x=f[0],_=f[1],w=f[1],y=1;y<f.length/2;y++)f[2*y]>x&&(x=f[2*y]),f[2*y]<b&&(b=f[2*y]),f[2*y+1]>w&&(w=f[2*y+1]),f[2*y+1]<_&&(_=f[2*y+1]);if(b-c>n)return!1;if(t>x+c)return!1;if(_-c>r)return!1;if(i>w+c)return!1;var k;if(c>0){var C=e.math.expandPolygon(f,-c);k=e.math.joinLines(C)}else k=f;for(var y=0;y<f.length/2;y++)if(t<=f[2*y]&&f[2*y]<=n&&i<=f[2*y+1]&&f[2*y+1]<=r)return!0;for(var y=0;y<k.length/2;y++){var D,T,S=k[2*y],E=k[2*y+1];if(y<k.length/2-1?(D=k[2*(y+1)],T=k[2*(y+1)+1]):(D=k[0],T=k[1]),e.math.finiteLinesIntersect(S,E,D,T,t,i,n,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(S,E,D,T,t,r,n,r,!1).length>0)return!0;if(e.math.finiteLinesIntersect(S,E,D,T,t,i,t,r,!1).length>0)return!0;if(e.math.finiteLinesIntersect(S,E,D,T,n,i,n,r,!1).length>0)return!0}return!1},e.math.polygonIntersectLine=function(t,i,n,r,a,o,s,l){for(var u,h=[],c=new Array(n.length),d=0;d<c.length/2;d++)c[2*d]=n[2*d]*o+r,c[2*d+1]=n[2*d+1]*s+a;var p;if(l>0){var f=e.math.expandPolygon(c,-l);p=e.math.joinLines(f)}else p=c;for(var g,v,m,y,d=0;d<p.length/2;d++)g=p[2*d],v=p[2*d+1],d<p.length/2-1?(m=p[2*(d+1)],y=p[2*(d+1)+1]):(m=p[0],y=p[1]),u=this.finiteLinesIntersect(t,i,r,a,g,v,m,y),0!==u.length&&h.push(u[0],u[1]);return h},e.math.shortenIntersection=function(e,t,i){var n=[e[0]-t[0],e[1]-t[1]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(r-i)/r;return 0>a&&(a=1e-5),[t[0]+a*n[0],t[1]+a*n[1]]},e.math.generateUnitNgonPointsFitToSquare=function(t,i){var n=e.math.generateUnitNgonPoints(t,i);return n=e.math.fitPolygonToSquare(n)},e.math.fitPolygonToSquare=function(e){for(var t,i,n=e.length/2,r=1/0,a=1/0,o=-1/0,s=-1/0,l=0;n>l;l++)t=e[2*l],i=e[2*l+1],r=Math.min(r,t),o=Math.max(o,t),a=Math.min(a,i),s=Math.max(s,i);for(var u=2/(o-r),h=2/(s-a),l=0;n>l;l++)t=e[2*l]=e[2*l]*u,i=e[2*l+1]=e[2*l+1]*h,r=Math.min(r,t),o=Math.max(o,t),a=Math.min(a,i),s=Math.max(s,i);if(-1>a)for(var l=0;n>l;l++)i=e[2*l+1]=e[2*l+1]+(-1-a);return e},e.math.generateUnitNgonPoints=function(e,t){var i=1/e*2*Math.PI,n=e%2===0?Math.PI/2+i/2:Math.PI/2;n+=t;for(var r,a,o,s=new Array(2*e),l=0;e>l;l++)r=l*i+n,a=s[2*l]=Math.cos(r),o=s[2*l+1]=Math.sin(-r);return s},e.math.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)}}(n),function(e){"use strict";function t(t,i,n){var r={};switch(r[i]=n,t){case"core":case"collection":e.fn[t](r)}if("layout"===t){for(var o=n.prototype,s=["stop"],l=0;l<s.length;l++){var u=s[l];
o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this}),o.on=e.define.on({layout:!0}),o.one=e.define.on({layout:!0,unbindSelfOnTrigger:!0}),o.once=e.define.on({layout:!0,unbindAllBindersOnTrigger:!0}),o.off=e.define.off({layout:!0}),o.trigger=e.define.trigger({layout:!0}),o.bind=o.on,o.unbind=o.off}return e.util.setMap({map:a,keys:[t,i],value:n})}function i(t,i){return e.util.getMap({map:a,keys:[t,i]})}function n(t,i,n,r,a){return e.util.setMap({map:o,keys:[t,i,n,r],value:a})}function r(t,i,n,r){return e.util.getMap({map:o,keys:[t,i,n,r]})}var a={};e.extensions=a;var o={};e.modules=o,e.extension=function(){return 2==arguments.length?i.apply(this,arguments):3==arguments.length?t.apply(this,arguments):4==arguments.length?r.apply(this,arguments):5==arguments.length?n.apply(this,arguments):void e.util.error("Invalid extension access syntax")}}(n),function(e,t){"use strict";if(e){var i=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t};e.fn.cytoscape=function(r){var a=e(this);if("get"===r)return i(a).cy;if(t.is.fn(r)){var o=r,s=i(a).cy;if(s&&s.isReady())s.trigger("ready",[],o);else{var l=i(a),u=l.readies=l.readies||[];u.push(o)}}else if(t.is.plainObject(r))return a.each(function(){var t=e.extend({},r,{container:e(this)[0]});n(t)})},e.cytoscape=n,null==e.fn.cy&&null==e.cy&&(e.fn.cy=e.fn.cytoscape,e.cy=e.cytoscape)}}("undefined"!=typeof jQuery?jQuery:null,n),function(e){"use strict";function t(){return!1}function i(){return!0}e.Event=function(n,r){return this instanceof e.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented?i:t):this.type=n,r&&(this.type=void 0!==r.type?r.type:this.type,this.cy=r.cy,this.cyTarget=r.cyTarget,this.cyPosition=r.cyPosition,this.cyRenderedPosition=r.cyRenderedPosition,this.namespace=r.namespace,this.layout=r.layout,this.data=r.data),void(this.timeStamp=n&&n.timeStamp||+new Date)):new e.Event(n,r)},e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=i;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=i;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t}}(n),function(e){"use strict";e.define={data:function(t){var i={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(){},canSet:function(){return!0}};return t=e.util.extend({},i,t),function(i,n){var r=t,a=this,o=void 0!==a.length,s=o?a:[a],l=o?a[0]:a;if(e.is.string(i)){if(r.allowGetting&&void 0===n){var u;return l&&(u=l._private[r.field][i]),u}if(r.allowSetting&&void 0!==n){var h=!r.immutableKeys[i];if(h){for(var c=0,d=s.length;d>c;c++)r.canSet(s[c])&&(s[c]._private[r.field][i]=n);r.updateStyle&&a.updateStyle(),r.onSet(a),r.settingTriggersEvent&&a[r.triggerFnName](r.settingEvent)}}}else if(r.allowSetting&&e.is.plainObject(i)){var p,f,g=i;for(p in g){f=g[p];var h=!r.immutableKeys[p];if(h)for(var c=0,d=s.length;d>c;c++)r.canSet(s[c])&&(s[c]._private[r.field][p]=f)}r.updateStyle&&a.updateStyle(),r.onSet(a),r.settingTriggersEvent&&a[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&e.is.fn(i)){var v=i;a.bind(r.bindingEvent,v)}else if(r.allowGetting&&void 0===i){var u;return l&&(u=l._private[r.field]),u}return a}},removeData:function(t){var i={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=e.util.extend({},i,t),function(i){var n=t,r=this,a=void 0!==r.length,o=a?r:[r];if(e.is.string(i)){for(var s=i.split(/\s+/),l=s.length,u=0;l>u;u++){var h=s[u];if(!e.is.emptyString(h)){var c=!n.immutableKeys[h];if(c)for(var d=0,p=o.length;p>d;d++)o[d]._private[n.field][h]=void 0}}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===i){for(var d=0,p=o.length;p>d;d++){var f=o[d]._private[n.field];for(var h in f){var g=!n.immutableKeys[h];g&&(f[h]=void 0)}}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(t){var i={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return t=e.util.extend({},i,t),function(i,n,r,a){var o=this,s=void 0!==o.length,l=s?o:[o],u=e.is.string(i),h=t;if(e.is.plainObject(n)?(a=r,r=n,n=void 0):(e.is.fn(n)||n===!1)&&(a=n,r=void 0,n=void 0),(e.is.fn(r)||r===!1)&&(a=r,r=void 0),!e.is.fn(a)&&a!==!1&&u)return o;if(u){var c={};c[i]=a,i=c}for(var d in i)if(a=i[d],a===!1&&(a=e.define.event.falseCallback),e.is.fn(a)){d=d.split(/\s+/);for(var p=0;p<d.length;p++){var f=d[p];if(!e.is.emptyString(f)){var g=f.match(e.define.event.regex);if(g)for(var v=g[1],m=g[2]?g[2]:void 0,y={callback:a,data:r,delegated:n?!0:!1,selector:n,selObj:new e.Selector(n),type:v,namespace:m,unbindSelfOnTrigger:h.unbindSelfOnTrigger,unbindAllBindersOnTrigger:h.unbindAllBindersOnTrigger,binders:l},b=0;b<l.length;b++)l[b]._private.listeners.push(y)}}}return o}},off:function(t){var i={};return t=e.util.extend({},i,t),function(t,i,n){var r=this,a=void 0!==r.length,o=a?r:[r],s=e.is.string(t);if(0===arguments.length){for(var l=0;l<o.length;l++)o[l]._private.listeners=[];return r}if((e.is.fn(i)||i===!1)&&(n=i,i=void 0),s){var u={};u[t]=n,t=u}for(var h in t){n=t[h],n===!1&&(n=e.define.event.falseCallback),h=h.split(/\s+/);for(var c=0;c<h.length;c++){var d=h[c];if(!e.is.emptyString(d)){var p=d.match(e.define.event.optionalTypeRegex);if(p)for(var f=p[1]?p[1]:void 0,g=p[2]?p[2]:void 0,l=0;l<o.length;l++)for(var v=o[l]._private.listeners,m=0;m<v.length;m++){var y=v[m],b=!g||g===y.namespace,x=!f||y.type===f,_=!n||n===y.callback,w=b&&x&&_;w&&(v.splice(m,1),m--)}}}}return r}},trigger:function(t){var i={};return t=e.util.extend({},i,t),function(i,n,r){var a=this,o=void 0!==a.length,s=o?a:[a],l=e.is.string(i),u=e.is.plainObject(i),h=e.is.event(i),c=this._private.cy||this,d=c.hasCompoundNodes();if(l){var p=i.split(/\s+/);i=[];for(var f=0;f<p.length;f++){var g=p[f];if(!e.is.emptyString(g)){var v=g.match(e.define.event.regex),m=v[1],y=v[2]?v[2]:void 0;i.push({type:m,namespace:y})}}}else if(u){var b=i;i=[b]}n?e.is.array(n)||(n=[n]):n=[];for(var f=0;f<i.length;f++)for(var x=i[f],_=0;_<s.length;_++){var g,w=s[_],k=w._private.listeners,C=e.is.element(w),D=C||t.layout;if(h?(g=x,g.cyTarget=g.cyTarget||w,g.cy=g.cy||c):g=new e.Event(x,{cyTarget:w,cy:c,namespace:x.namespace}),x.layout&&(g.layout=x.layout),t.layout&&(g.layout=w),g.cyPosition){var T=g.cyPosition,S=c.zoom(),E=c.pan();g.cyRenderedPosition={x:T.x*S+E.x,y:T.y*S+E.y}}r&&(k=[{namespace:g.namespace,type:g.type,callback:r}]);for(var P=0;P<k.length;P++){var N=k[P],M=!N.namespace||N.namespace===g.namespace,I=N.type===g.type,z=N.delegated?w!==g.cyTarget&&e.is.element(g.cyTarget)&&N.selObj.matches(g.cyTarget):!0,A=M&&I&&z;if(A){var O=[g];if(O=O.concat(n),g.data=N.data?N.data:void 0,(N.unbindSelfOnTrigger||N.unbindAllBindersOnTrigger)&&(k.splice(P,1),P--),N.unbindAllBindersOnTrigger)for(var L=N.binders,B=0;B<L.length;B++){var R=L[B];if(R&&R!==w)for(var H=R._private.listeners,W=0;W<H.length;W++){var F=H[W];F===N&&(H.splice(W,1),W--)}}var j=N.delegated?g.cyTarget:w,Y=N.callback.apply(j,O);(Y===!1||g.isPropagationStopped())&&(D=!1,Y===!1&&(g.stopPropagation(),g.preventDefault()))}}if(D){var q=d?w._private.parent:null,X=null!=q&&0!==q.length;X?(q=q[0],q.trigger(g)):c.trigger(g)}}return a}},animated:function(t){var i={};return t=e.util.extend({},i,t),function(){var e=this,t=void 0!==e.length,i=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return!1;var r=i[0];return r?r._private.animation.current.length>0:void 0}},clearQueue:function(t){var i={};return t=e.util.extend({},i,t),function(){var e=this,t=void 0!==e.length,i=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var r=0;r<i.length;r++){var a=i[r];a._private.animation.queue=[]}return this}},delay:function(t){var i={};return t=e.util.extend({},i,t),function(e,t){var i=this._private.cy||this;return i.styleEnabled()?(this.animate({delay:e},{duration:e,complete:t}),this):this}},animate:function(t){var i={};return t=e.util.extend({},i,t),function(e,t){var i=this,n=void 0!==i.length,r=n?i:[i],a=this._private.cy||this,o=!n,s=!o;if(!a.styleEnabled())return this;var l,u=+new Date,h=a.style();switch(void 0===t&&(t={}),void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}var c=!0;if(e)for(var d in e){c=!1;break}if(c)return this;if(e.css&&s&&(e.css=h.getValueStyle(e.css,{array:!0})),e.renderedPosition&&s){var p=e.renderedPosition,f=a.pan(),g=a.zoom();e.position={x:(p.x-f.x)/g,y:(p.y-f.y)/g}}if(e.panBy&&o){var v=e.panBy,m=a.pan();e.pan={x:m.x+v.x,y:m.y+v.y}}var y=e.center||e.centre;if(y&&o){var b=a.getCenterPan(y.eles,e.zoom);b&&(e.pan=b)}if(e.fit&&o){var x=e.fit,_=a.getFitViewport(x.eles||x.boundingBox,x.padding);_&&(e.pan=_.pan,e.zoom=_.zoom)}for(var d=0;d<r.length;d++){var w=r[d];l=w.animated()&&(void 0===t.queue||t.queue)?w._private.animation.queue:w._private.animation.current,l.push({properties:e,duration:t.duration,params:t,callTime:u})}return s&&a.addToAnimationPool(this),this}},stop:function(t){var i={};return t=e.util.extend({},i,t),function(e,t){var i=this,n=void 0!==i.length,r=n?i:[i],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<r.length;o++){for(var s=r[o],l=s._private.animation.current,u=0;u<l.length;u++){var h=l[u];t&&(h.duration=0)}e&&(s._private.animation.queue=[]),t||(s._private.animation.current=[])}return a.notify({collection:this,type:"draw"}),this}}}}(n),function(e){"use strict";e.fn.selector=function(t){for(var i in t){var n=t[i];e.Selector.prototype[i]=n}},e.Selector=function(t,i){if(!(this instanceof e.Selector))return new e.Selector(t,i);void 0===i&&void 0!==t&&(i=t,t=void 0);var n=this;if(n._private={selectorText:null,invalid:!0},!i||e.is.string(i)&&i.match(/^\s*$/))null==t?n.length=0:(n[0]=o(),n[0].group=t,n.length=1);else if(e.is.element(i)){var r=new e.Collection(n.cy(),[i]);n[0]=o(),n[0].collection=r,n.length=1}else if(e.is.collection(i))n[0]=o(),n[0].collection=i,n.length=1;else if(e.is.fn(i))n[0]=o(),n[0].filter=i,n.length=1;else{if(!e.is.string(i))return void e.util.error("A selector must be created from a string; found "+i);var a=null,o=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},s={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:e.util.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};s.variable="(?:[\\w-]|(?:\\\\"+s.metaChar+"))+",s.value=s.string+"|"+s.number,s.className=s.variable,s.id=s.variable;for(var l=function(e){return e.replace(new RegExp("\\\\("+s.metaChar+")","g"),function(e,t){return t})},u=s.comparatorOp.split("|"),h=0;h<u.length;h++){var c=u[h];s.comparatorOp+="|@"+c}for(var u=s.comparatorOp.split("|"),h=0;h<u.length;h++){var c=u[h];c.indexOf("!")>=0||"="!==c&&(s.comparatorOp+="|\\!"+c)}var d={group:{query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"==e?e:e+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch)",populate:function(e){this.colonSelectors.push(e)}},id:{query:!0,regex:"\\#("+s.id+")",populate:function(e){this.ids.push(l(e))}},className:{query:!0,regex:"\\.("+s.className+")",populate:function(e){this.classes.push(l(e))}},dataExists:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*\\]",populate:function(e){this.data.push({field:l(e)})}},dataCompare:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*("+s.comparatorOp+")\\s*("+s.value+")\\s*\\]",populate:function(e,t,i){var n=null!=new RegExp("^"+s.string+"$").exec(i);i=n?i.substring(1,i.length-1):parseFloat(i),this.data.push({field:l(e),operator:t,value:i})}},dataBool:{query:!0,regex:"\\[\\s*("+s.boolOp+")\\s*("+s.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:l(t),operator:e})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+s.meta+")\\s*("+s.comparatorOp+")\\s*("+s.number+")\\s*\\]\\]",populate:function(e,t,i){this.meta.push({field:l(e),operator:t,value:parseFloat(i)})}},nextQuery:{separator:!0,regex:s.separator,populate:function(){n[++h]=o(),a=null}},child:{separator:!0,regex:s.child,populate:function(){var e=o();e.parent=this,e.subject=a,n[h]=e}},descendant:{separator:!0,regex:s.descendant,populate:function(){var e=o();e.ancestor=this,e.subject=a,n[h]=e}},subject:{modifier:!0,regex:s.subject,populate:function(){return null!=a&&this.subject!=this?(e.util.error("Redefinition of subject in selector `"+i+"`"),!1):(a=this,void(this.subject=this))}}},p=0;for(var f in d)d[p]=d[f],d[p].name=f,p++;d.length=p,n._private.selectorText=i;var g=i,h=0,v=function(t){for(var i,n,r,a=0;a<d.length;a++){var o=d[a],s=o.name;if(!e.is.fn(t)||t(s,o)){var l=g.match(new RegExp("^"+o.regex));if(null!=l){n=l,i=o,r=s;var u=l[0];g=g.substring(u.length);break}}}return{expr:i,match:n,name:r}},m=function(){var e=g.match(/^\s+/);if(e){var t=e[0];g=g.substring(t.length)}};for(n[0]=o(),m();;){var y=v();if(null==y.expr)return void e.util.error("The selector `"+i+"`is invalid");for(var b=[],p=1;p<y.match.length;p++)b.push(y.match[p]);var x=y.expr.populate.apply(n[h],b);if(x===!1)return;if(g.match(/^\s*$/))break}for(n.length=h+1,p=0;p<n.length;p++){var _=n[p];if(null!=_.subject){for(;_.subject!=_;)if(null!=_.parent){var w=_.parent,k=_;k.parent=null,w.child=k,_=w}else{if(null==_.ancestor){e.util.error("When adjusting references for the selector `"+_+"`, neither parent nor ancestor was found");break}var C=_.ancestor,D=_;D.ancestor=null,C.descendant=D,_=C}n[p]=_.subject}}if(null!=t)for(var p=0;p<n.length;p++){if(null!=n[p].group&&n[p].group!=t)return void e.util.error("Group `"+n[p].group+"` conflicts with implicit group `"+t+"` in selector `"+i+"`");n[p].group=t}}n._private.invalid=!1},e.selfn=e.Selector.prototype,e.selfn.size=function(){return this.length},e.selfn.eq=function(e){return this[e]},e.selfn.find=function(){};var t=function(i,n){if(null!=i.group&&"*"!=i.group&&i.group!=n._private.group)return!1;for(var r=n.cy(),a=!0,o=0;o<i.colonSelectors.length;o++){var s=i.colonSelectors[o];switch(s){case":selected":a=n.selected();break;case":unselected":a=!n.selected();break;case":selectable":a=n.selectable();break;case":unselectable":a=!n.selectable();break;case":locked":a=n.locked();break;case":unlocked":a=!n.locked();break;case":visible":a=n.visible();break;case":hidden":a=!n.visible();break;case":transparent":a=n.transparent();break;case":grabbed":a=n.grabbed();break;case":free":a=!n.grabbed();break;case":removed":a=n.removed();break;case":inside":a=!n.removed();break;case":grabbable":a=n.grabbable();break;case":ungrabbable":a=!n.grabbable();break;case":animated":a=n.animated();break;case":unanimated":a=!n.animated();break;case":parent":a=n.isNode()&&n.children().nonempty();break;case":child":case":nonorphan":a=n.isNode()&&n.parent().nonempty();break;case":orphan":a=n.isNode()&&n.parent().empty();break;case":loop":a=n.isEdge()&&n.data("source")===n.data("target");break;case":simple":a=n.isEdge()&&n.data("source")!==n.data("target");break;case":active":a=n.active();break;case":inactive":a=!n.active();break;case":touch":a=e.is.touch()}if(!a)break}if(!a)return!1;for(var l=!0,o=0;o<i.ids.length;o++){var u=i.ids[o],h=n._private.data.id;if(l=l&&u==h,!l)break}if(!l)return!1;for(var c=!0,o=0;o<i.classes.length;o++){var d=i.classes[o];if(c=c&&n.hasClass(d),!c)break}if(!c)return!1;var p=function(t){for(var n=!0,r=0;r<i[t.name].length;r++){var a,o=i[t.name][r],s=o.operator,l=o.value,u=o.field;if(null!=s&&null!=l){var h=t.fieldValue(u),c=e.is.string(h)||e.is.number(h)?""+h:"",d=""+l,p=!1;s.indexOf("@")>=0&&(c=c.toLowerCase(),d=d.toLowerCase(),s=s.replace("@",""),p=!0);var f=!1,g=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),f=!0),p&&(l=d.toLowerCase(),h=c.toLowerCase()),s){case"*=":a=c.search(d)>=0;break;case"$=":a=null!=new RegExp(d+"$").exec(c);break;case"^=":a=null!=new RegExp("^"+d).exec(c);break;case"=":a=h===l;break;case"!=":a=h!==l;break;case">":a=f?l>=h:h>l,g=!0;break;case">=":a=f?l>h:h>=l,g=!0;break;case"<":a=f?h>=l:l>h,g=!0;break;case"<=":a=f?h>l:l>=h,g=!0;break;default:a=!1}}else if(null!=s)switch(s){case"?":a=t.fieldTruthy(u);break;case"!":a=!t.fieldTruthy(u);break;case"^":a=t.fieldUndefined(u)}else a=!t.fieldUndefined(u);if(f&&!g&&(a=!a,g=!0),!a){n=!1;break}}return n},f=p({name:"data",fieldValue:function(e){return n._private.data[e]},fieldRef:function(e){return"element._private.data."+e},fieldUndefined:function(e){return void 0===n._private.data[e]},fieldTruthy:function(e){return n._private.data[e]?!0:!1}});if(!f)return!1;var g=p({name:"meta",fieldValue:function(e){return n[e]()},fieldRef:function(e){return"element."+e+"()"},fieldUndefined:function(e){return null==n[e]()},fieldTruthy:function(e){return n[e]()?!0:!1}});if(!g)return!1;if(null!=i.collection){var v=null!=i.collection._private.ids[n.id()];if(!v)return!1}if(null!=i.filter&&0===n.collection().filter(i.filter).size())return!1;var m=function(e,i){if(null!=e){var n=!1;if(!r.hasCompoundNodes())return!1;i=i();for(var a=0;a<i.length;a++)if(t(e,i[a])){n=!0;break}return n}return!0};return m(i.parent,function(){return n.parent()})&&m(i.ancestor,function(){return n.parents()})&&m(i.child,function(){return n.children()})&&m(i.descendant,function(){return n.descendants()})?!0:!1};e.selfn.filter=function(i){var n=this,r=i.cy();if(n._private.invalid)return new e.Collection(r);var a=function(e,i){for(var r=0;r<n.length;r++){var a=n[r];if(t(a,i))return!0}return!1};null==n._private.selectorText&&(a=function(){return!0});var o=i.filter(a);return o},e.selfn.matches=function(e){var i=this;if(i._private.invalid)return!1;for(var n=0;n<i.length;n++){var r=i[n];if(t(r,e))return!0}return!1},e.selfn.toString=e.selfn.selector=function(){for(var t="",i=function(t,i){return e.is.string(t)?i?'"'+t+'"':t:""},n=function(e){var t="";e.subject===e&&(t+="$");var a=i(e.group);t+=a.substring(0,a.length-1);for(var o=0;o<e.data.length;o++){var s=e.data[o];t+=s.value?"["+s.field+i(s.operator)+i(s.value,!0)+"]":"["+i(s.operator)+s.field+"]"}for(var o=0;o<e.meta.length;o++){var l=e.meta[o];t+="[["+l.field+i(l.operator)+i(l.value,!0)+"]]"}for(var o=0;o<e.colonSelectors.length;o++){var u=e.colonSelectors[r];t+=u}for(var o=0;o<e.ids.length;o++){var u="#"+e.ids[r];t+=u}for(var o=0;o<e.classes.length;o++){var u="."+e.classes[r];t+=u}return null!=e.parent&&(t=n(e.parent)+" > "+t),null!=e.ancestor&&(t=n(e.ancestor)+" "+t),null!=e.child&&(t+=" > "+n(e.child)),null!=e.descendant&&(t+=" "+n(e.descendant)),t},r=0;r<this.length;r++){var a=this[r];t+=n(a),this.length>1&&r<this.length-1&&(t+=", ")}return t}}(n),function(e){"use strict";e.Style=function(t){return this instanceof e.Style?e.is.core(t)?(this._private={cy:t,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void e.util.error("A style must have a core reference"):new e.Style(t)},e.style=e.Style,e.styfn=e.Style.prototype,e.fn.style=function(t){for(var i in t){var n=t[i];e.Style.prototype=n}},function(){var t=e.util.regex.number,i=e.util.regex.rgbaNoBackRefs,n=e.util.regex.hslaNoBackRefs,r=e.util.regex.hex3,a=e.util.regex.hex6,o=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(e){return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+t+"|\\w+|"+i+"|"+n+"|"+r+"|"+a+")\\s*\\,\\s*("+t+"|\\w+|"+i+"|"+n+"|"+r+"|"+a+")\\)$"};e.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack"]},fontFamily:{regex:"^([\\w- ]+(?:\\s*,\\s*[\\w- ]+)*)$"},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"}};var l=e.style.types,u=e.style.properties=[{name:"text-valign",type:l.valign},{name:"text-halign",type:l.halign},{name:"color",type:l.color},{name:"content",type:l.text},{name:"text-outline-color",type:l.color},{name:"text-outline-width",type:l.size},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-opacity",type:l.zeroOneNumber},{name:"text-transform",type:l.textTransform},{name:"font-family",type:l.fontFamily},{name:"font-style",type:l.fontStyle},{name:"font-weight",type:l.fontWeight},{name:"font-size",type:l.size},{name:"min-zoomed-font-size",type:l.size},{name:"display",type:l.display},{name:"visibility",type:l.visibility},{name:"opacity",type:l.zeroOneNumber},{name:"z-index",type:l.nonNegativeInt},{name:"overlay-padding",type:l.size},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber},{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"height",type:l.autoSize},{name:"width",type:l.autoSize},{name:"shape",type:l.nodeShape},{name:"background-color",type:l.color},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size},{name:"border-style",type:l.borderStyle},{name:"background-image",type:l.url},{name:"background-image-opacity",type:l.zeroOneNumber},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"padding-left",type:l.size},{name:"padding-right",type:l.size},{name:"padding-top",type:l.size},{name:"padding-bottom",type:l.size},{name:"position",type:l.position},{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"control-point-step-size",type:l.size},{name:"control-point-distance",type:l.number},{name:"control-point-weight",type:l.zeroOneNumber},{name:"curve-style",type:l.curveStyle},{name:"haystack-radius",type:l.zeroOneNumber},{name:"source-arrow-shape",type:l.arrowShape},{name:"target-arrow-shape",type:l.arrowShape},{name:"mid-source-arrow-shape",type:l.arrowShape},{name:"mid-target-arrow-shape",type:l.arrowShape},{name:"source-arrow-color",type:l.color},{name:"target-arrow-color",type:l.color},{name:"mid-source-arrow-color",type:l.color},{name:"mid-target-arrow-color",type:l.color},{name:"source-arrow-fill",type:l.arrowFill},{name:"target-arrow-fill",type:l.arrowFill},{name:"mid-source-arrow-fill",type:l.arrowFill},{name:"mid-target-arrow-fill",type:l.arrowFill},{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}];e.style.pieBackgroundN=16,u.push({name:"pie-size",type:l.bgSize});for(var h=1;h<=e.style.pieBackgroundN;h++)u.push({name:"pie-"+h+"-background-color",type:l.color}),u.push({name:"pie-"+h+"-background-size",type:l.percent}),u.push({name:"pie-"+h+"-background-opacity",type:l.zeroOneNumber});for(var h=0;h<u.length;h++){var c=u[h];u[c.name]=c}}(),e.styfn.addDefaultStylesheet=function(){var t="Helvetica",i="normal",n="normal",r="#000",a="none",o=16;this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:r,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":a,"font-family":t,"font-style":i,"font-weight":n,"font-size":o,"min-zoomed-font-size":0,visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black","pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%","pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled","mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":e.is.touch()?40:15,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.styfn.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},e.styfn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},e.styfn.core=function(){return this._private.coreStyle},e.styfn.parse=function(t,i,n,r){t=e.util.camel2dash(t);var a=e.style.properties[t],o=i;if(!a)return null;if(void 0===i||null===i)return null;var s=e.is.string(i);s&&(i=e.util.trim(i));var l=a.type;if(!l)return null;if(n&&(""===i||null===i))return{name:t,value:i,bypass:!0,deleteBypass:!0};var u,h,c,d;if(!s||r);else{if((u=new RegExp(e.style.types.data.regex).exec(i))||(c=new RegExp(e.style.types.layoutData.regex).exec(i))){if(n)return!1;var p=void 0!==c;return u=u||c,{name:t,value:u,strValue:""+i,mapped:p?e.style.types.layoutData:e.style.types.data,field:u[1],bypass:n,hasPie:t.match(/pie-(\d+)-background-size/)}}if((h=new RegExp(e.style.types.mapData.regex).exec(i))||(d=new RegExp(e.style.types.mapLayoutData.regex).exec(i))){if(n)return!1;var p=void 0!==d;if(h=h||d,!l.color&&!l.number)return!1;var f=this.parse(t,h[4]);if(!f||f.mapped)return!1;var g=this.parse(t,h[5]);if(!g||g.mapped)return!1;if(f.value===g.value)return!1;if(l.color){var v=f.value,m=g.value,y=!(v[0]!==m[0]||v[1]!==m[1]||v[2]!==m[2]||v[3]!==m[3]&&(null!=v[3]&&1!==v[3]||null!=m[3]&&1!==m[3]));if(y)return!1}return{name:t,value:h,strValue:""+i,mapped:p?e.style.types.mapLayoutData:e.style.types.mapData,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:f.value,valueMax:g.value,bypass:n,hasPie:t.match(/pie-(\d+)-background-size/)}}}if(l.number){var b,x="px";if(l.units&&(b=l.units),l.implicitUnits&&(x=l.implicitUnits),!l.unitless)if(s){var _="px|em"+(l.allowPercent?"|\\%":"");b&&(_=b);var w=i.match("^("+e.util.regex.number+")("+_+")?$");w&&(i=w[1],b=w[2]||x)}else(!b||l.implicitUnits)&&(b=x);if(i=parseFloat(i),isNaN(i)&&void 0===l.enums)return null;if(isNaN(i)&&void 0!==l.enums){i=o;for(var k=0;k<l.enums.length;k++){var C=l.enums[k];if(C===i)return{name:t,value:i,strValue:""+i,bypass:n}}return null}if(l.integer&&!e.is.integer(i))return null;if(void 0!==l.min&&i<l.min||void 0!==l.max&&i>l.max)return null;var D={name:t,value:i,strValue:""+i+(b?b:""),units:b,bypass:n,hasPie:t.match(/pie-(\d+)-background-size/)&&null!=i&&0!==i&&""!==i};return l.unitless||"px"!==b&&"em"!==b||(D.pxValue="px"!==b&&b?this.getEmSizeInPixels()*i:i),("ms"===b||"s"===b)&&(D.msValue="ms"===b?i:1e3*i),D}if(l.propList){var T=[],S=""+i;if("none"===S);else{for(var E=S.split(","),k=0;k<E.length;k++){var P=e.util.trim(E[k]);e.style.properties[P]&&T.push(P)}if(0===T.length)return null}return{name:t,value:T,strValue:0===T.length?"none":T.join(", "),bypass:n}}if(l.color){var N=e.util.color2tuple(i);return N?{name:t,value:N,strValue:""+i,bypass:n}:null}if(l.enums){for(var k=0;k<l.enums.length;k++){var C=l.enums[k];
if(C===i)return{name:t,value:i,strValue:""+i,bypass:n}}return null}if(l.regex){var M=new RegExp(l.regex),I=M.exec(i);return I?{name:t,value:I,strValue:""+i,bypass:n}:null}return l.string?{name:t,value:i,strValue:""+i,bypass:n}:null},e.styfn.selector=function(t){var i="core"===t?null:new e.Selector(t),n=this.length++;return this[n]={selector:i,properties:[],mappedProperties:[],index:n},this},e.styfn.css=function(){var t=arguments;switch(t.length){case 1:for(var i=t[0],n=0;n<e.style.properties.length;n++){var r=e.style.properties[n],a=i[r.name];void 0===a&&(a=i[e.util.dash2camel(r.name)]),void 0!==a&&this.cssRule(r.name,a)}break;case 2:this.cssRule(t[0],t[1])}return this},e.styfn.cssRule=function(e,t){var i=this.parse(e,t);if(i){var n=this.length-1;this[n].properties.push(i),this[n].properties[i.name]=i,i.hasPie&&(this._private.hasPie=!0),i.mapped&&this[n].mappedProperties.push(i);var r=!this[n].selector;r&&(this._private.coreStyle[i.name]=i)}return this}}(n),function(e){"use strict";e.styfn.apply=function(e){var t=this;t._private.newStyle&&(this._private.contextStyles={},this._private.propDiffs={});for(var i=0;i<e.length;i++){var n=e[i],r=t.getContextMeta(n),a=t.getContextStyle(r),o=t.applyContextStyle(r,a,n);t.updateTransitions(n,o.diffProps),t.updateStyleHints(n)}t._private.newStyle=!1},e.styfn.getPropertiesDiff=function(e,t){var i=this,n=i._private.propDiffs=i._private.propDiffs||{},r=e+"-"+t,a=n[r];if(a)return a;for(var o=[],s={},l=0;l<i.length;l++){var u=i[l],h="t"===e[l],c="t"===t[l],d=h!==c,p=u.mappedProperties.length>0;if(d||p){var f;d&&p?f=u.properties:d?f=u.properties:p&&(f=u.mappedProperties);for(var g=0;g<f.length;g++){for(var v=f[g],m=v.name,y=!1,b=l+1;b<i.length;b++){var x=i[b],_="t"===t[b];if(_&&(y=null!=x.properties[v.name]))break}s[m]||y||(s[m]=!0,o.push(m))}}}return n[r]=o,o},e.styfn.getContextMeta=function(e){var t,i=this,n="",r=e._private.styleCxtKey||"";i._private.newStyle&&(r="");for(var a=0;a<i.length;a++){var o=i[a],s=o.selector&&o.selector.matches(e);n+=s?"t":"f"}return t=i.getPropertiesDiff(r,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t}},e.styfn.getContextStyle=function(e){var t=e.key,i=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},a=0;a<i.length;a++){var o=i[a],s="t"===t[a];if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l],h=r[u.name]=u;h.context=o}}return n[t]=r,r},e.styfn.applyContextStyle=function(e,t,i){for(var n=this,r=e.diffPropNames,a={},o=0;o<r.length;o++){var s=r[o],l=t[s],u=i._private.style[s];if(l&&u!==l){var h=a[s]={prev:u};n.applyParsedProperty(i,l),h.next=i._private.style[s],h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:a}},e.styfn.updateStyleHints=function(t){var i=t._private,n=this,r=i.style,a=!1;if("nodes"===i.group&&n._private.hasPie)for(var o=1;o<=e.style.pieBackgroundN;o++){var s=i.style["pie-"+o+"-background-size"].value;if(s>0){a=!0;break}}i.hasPie=a;var l=r["text-transform"].strValue,u=r.content.strValue,h=r["font-style"].strValue,s=r["font-size"].pxValue+"px",c=r["font-family"].strValue,d=r["font-weight"].strValue,p=r["text-valign"].strValue,f=r["text-valign"].strValue,g=r["text-outline-width"].pxValue;i.labelKey=h+"$"+s+"$"+c+"$"+d+"$"+u+"$"+l+"$"+p+"$"+f+"$"+g,i.fontKey=h+"$"+d+"$"+s+"$"+c;var v=r.width.pxValue,m=r.height.pxValue,y=r["border-width"].pxValue;if(i.boundingBoxKey=v+"$"+m+"$"+y,"edges"===t._private.group){var b=r["control-point-step-size"].pxValue,x=r["control-point-distance"]?r["control-point-distance"].pxValue:void 0,_=r["control-point-weight"].value,w=r["curve-style"].strValue;i.boundingBoxKey+="$"+b+"$"+x+"$"+_+"$"+w}i.styleKey=Date.now()},e.styfn.applyParsedProperty=function(t,i){var n,r,a=i,o=t._private.style,s=e.style.properties[a.name].type,l=a.bypass,u=o[a.name],h=u&&u.bypass;if(("height"===i.name||"width"===i.name)&&"auto"===i.value&&t.isNode()&&!t.isParent())return!1;if(l&&a.deleteBypass){var c=o[a.name];return c?c.bypass&&c.bypassed?(o[a.name]=c.bypassed,!0):!1:!0}var d=function(){e.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+t.id()+"` for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case e.style.types.mapData:case e.style.types.mapLayoutData:for(var p=a.mapped===e.style.types.mapLayoutData,f=a.field.split("."),n=p?t._private.layoutData:t._private.data,g=0;g<f.length&&n;g++){var v=f[g];n=n[v]}var m;if(m=e.is.number(n)?(n-a.fieldMin)/(a.fieldMax-a.fieldMin):0,0>m?m=0:m>1&&(m=1),s.color){var y=a.valueMin[0],b=a.valueMax[0],x=a.valueMin[1],_=a.valueMax[1],w=a.valueMin[2],k=a.valueMax[2],C=null==a.valueMin[3]?1:a.valueMin[3],D=null==a.valueMax[3]?1:a.valueMax[3],T=[Math.round(y+(b-y)*m),Math.round(x+(_-x)*m),Math.round(w+(k-w)*m),Math.round(C+(D-C)*m)];r={bypass:a.bypass,name:a.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else{if(!s.number)return!1;var S=a.valueMin+(a.valueMax-a.valueMin)*m;r=this.parse(a.name,S,a.bypass,!0)}r||(r=this.parse(a.name,u.strValue,a.bypass,!0)),r||d(),r.mapping=a,a=r;break;case e.style.types.data:case e.style.types.layoutData:for(var p=a.mapped===e.style.types.layoutData,f=a.field.split("."),n=p?t._private.layoutData:t._private.data,g=0;g<f.length&&n;g++){var v=f[g];n=n[v]}if(r=this.parse(a.name,n,a.bypass,!0),!r){var E=u?u.strValue:"";r=this.parse(a.name,E,a.bypass,!0)}r||d(),r.mapping=a,a=r;break;case void 0:break;default:return!1}return l?(a.bypassed=h?u.bypassed:u,o[a.name]=a):h?u.bypassed=a:o[a.name]=a,!0},e.styfn.update=function(){var e=this._private.cy,t=e.elements();t.updateStyle()},e.styfn.updateMappers=function(t){for(var i=0;i<t.length;i++){for(var n=t[i],r=n._private.style,a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=r[o.name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(n,l)}}this.updateStyleHints(n)}},e.styfn.updateTransitions=function(t,i,n){var r=this,a=t._private.style,o=a["transition-property"].value,s=a["transition-duration"].msValue,l=a["transition-delay"].msValue,u={};if(o.length>0&&s>0){for(var h=!1,c=0;c<o.length;c++){var d=o[c],p=a[d],f=i[d];if(f){var g=f.prev,v=g,m=null!=f.next?f.next:p,y=!1;v&&(e.is.number(v.pxValue)&&e.is.number(m.pxValue)?y=v.pxValue!==m.pxValue:e.is.number(v.value)&&e.is.number(m.value)?y=v.value!==m.value:e.is.array(v.value)&&e.is.array(m.value)&&(y=v.value[0]!==m.value[0]||v.value[1]!==m.value[1]||v.value[2]!==m.value[2]),y&&(u[d]=m.strValue,this.applyBypass(t,d,v.strValue),h=!0))}}if(!h)return;t._private.transitioning=!0,t.stop(),l>0&&t.delay(l),t.animate({css:u},{duration:s,queue:!1,complete:function(){n||r.removeBypasses(t,o),t._private.transitioning=!1}})}else t._private.transitioning&&(t.stop(),this.removeBypasses(t,o),t._private.transitioning=!1)}}(n),function(e){"use strict";e.styfn.applyBypass=function(t,i,n,r){var a=[],o=!0;if("*"===i||"**"===i){if(void 0!==n)for(var s=0;s<e.style.properties.length;s++){var l=e.style.properties[s],i=l.name,u=this.parse(i,n,!0);u&&a.push(u)}}else if(e.is.string(i)){var u=this.parse(i,n,!0);u&&a.push(u)}else{if(!e.is.plainObject(i))return!1;var h=i;r=n;for(var s=0;s<e.style.properties.length;s++){var l=e.style.properties[s],i=l.name,n=h[i];if(void 0===n&&(n=h[e.util.dash2camel(i)]),void 0!==n){var u=this.parse(i,n,!0);u&&a.push(u)}}}if(0===a.length)return!1;for(var c=!1,s=0;s<t.length;s++){for(var d,p=t[s],f=p._private.style,g={},v=0;v<a.length;v++){var l=a[v];if(r){var m=f[l.name];d=g[l.name]={prev:m}}c=this.applyParsedProperty(p,l)||c,r&&(d.next=f[l.name])}r&&this.updateTransitions(p,g,o)}return c},e.styfn.overrideBypass=function(t,i,n){for(var r=0;r<t.length;r++){var a=t[r],o=a._private.style[e.util.camel2dash(i)];o.bypass?(o.value=n,o.pxValue=n):this.applyBypass(a,i,n)}},e.styfn.removeAllBypasses=function(t,i){for(var n=!0,r=0;r<t.length;r++){for(var a=t[r],o={},s=a._private.style,l=0;l<e.style.properties.length;l++){var u=e.style.properties[l],h=u.name,c="",d=this.parse(h,c,!0),p=s[u.name],f=o[u.name]={prev:p};this.applyParsedProperty(a,d),f.next=s[u.name]}i&&this.updateTransitions(a,o,n)}},e.styfn.removeBypasses=function(t,i,n){for(var r=!0,a=0;a<t.length;a++){for(var o=t[a],s={},l=o._private.style,u=0;u<i.length;u++){var h=i[u],c=e.style.properties[h],d="",p=this.parse(h,d,!0),f=l[c.name],g=s[c.name]={prev:f};this.applyParsedProperty(o,p),g.next=l[c.name]}n&&this.updateTransitions(o,s,r)}}}(n),function(e,t){"use strict";e.styfn.getEmSizeInPixels=function(){var e=this._private.cy,i=e.container();if(t&&i&&t.getComputedStyle){var n=t.getComputedStyle(i).getPropertyValue("font-size"),r=parseFloat(n);return r}return 1},e.styfn.containerCss=function(e){var i=this._private.cy,n=i.container();return t&&n&&t.getComputedStyle?t.getComputedStyle(n).getPropertyValue(e):void 0},e.styfn.containerProperty=function(e){var t=this.containerCss(e),i=this.parse(e,t);return i},e.styfn.containerPropertyAsString=function(e){var t=this.containerProperty(e);return t?t.strValue:void 0}}(n,"undefined"==typeof window?null:window),function(e){"use strict";e.styfn.getRenderedStyle=function(t){var t=t[0];if(t){for(var i={},n=t._private.style,r=this._private.cy,a=r.zoom(),o=0;o<e.style.properties.length;o++){var s=e.style.properties[o],l=n[s.name];if(l){var u=l.unitless?l.strValue:l.pxValue*a+"px";i[s.name]=u,i[e.util.dash2camel(s.name)]=u}}return i}},e.styfn.getRawStyle=function(t){var t=t[0];if(t){for(var i={},n=t._private.style,r=0;r<e.style.properties.length;r++){var a=e.style.properties[r],o=n[a.name];o&&(i[a.name]=o.strValue,i[e.util.dash2camel(a.name)]=o.strValue)}return i}},e.styfn.getValueStyle=function(t,i){i=i||{};var n,r=i.array?[]:{};if(n=e.is.element(t)?t._private.style:t)for(var a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=n[o.name]||n[e.util.dash2camel(o.name)];void 0===s||e.is.plainObject(s)||(s=this.parse(o.name,s)),s&&(i.array?r.push(s):(r[o.name]=s,r[e.util.dash2camel(o.name)]=s))}return r}}(n),function(e){"use strict";e.style.applyFromJson=function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.selector,a=n.css;e.selector(r);for(var o in a){var s=a[o];e.css(o,s)}}return e},e.style.fromJson=function(t,i){var n=new e.Style(t);return e.style.applyFromJson(n,i),n},e.styfn.fromJson=function(t){var i=this;return i.resetToDefault(),e.style.applyFromJson(i,t),i},e.styfn.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var i=this[t],n=i.selector,r=i.properties,a={},o=0;o<r.length;o++){var s=r[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",css:a})}return e}}(n),function(e){"use strict";e.style.applyFromString=function(t,i){function n(){l=l.length>a.length?l.substr(a.length):""}function r(){o=o.length>s.length?o.substr(s.length):""}var a,o,s,l=""+i;for(l=l.replace(/[/][*](\s|.)+?[*][/]/g,"");;){var u=l.match(/^\s*$/);if(u)break;var h=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){e.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}a=h[0];var c=h[1],d=new e.Selector(c);if(d._private.invalid&&"core"!==c)e.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),n();else{var p=h[2],f=!1;o=p;for(var g=[];;){var u=o.match(/^\s*$/);if(u)break;var v=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!v){e.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),f=!0;break}s=v[0];var m=v[1],y=v[2],b=e.style.properties[m];if(b){var x=t.parse(m,y);x?(g.push({name:m,val:y}),r()):(e.util.error("Skipping property: Invalid property definition in: "+s),r())}else e.util.error("Skipping property: Invalid property name in: "+s),r()}if(f){n();break}t.selector(c);for(var _=0;_<g.length;_++){var b=g[_];t.css(b.name,b.val)}n()}}return t},e.style.fromString=function(t,i){var n=new e.Style(t);return e.style.applyFromString(n,i),n},e.styfn.fromString=function(t){var i=this;return i.resetToDefault(),e.style.applyFromString(i,t),i}}(n),function(e){"use strict";e.stylesheet=e.Stylesheet=function(){return this instanceof e.Stylesheet?void(this.length=0):new e.Stylesheet},e.Stylesheet.prototype.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},e.Stylesheet.prototype.css=function(t,i){var n=this.length-1;if(e.is.string(t))this[n].properties.push({name:t,value:i});else if(e.is.plainObject(t))for(var r=t,a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=r[o.name];if(void 0===s&&(s=r[e.util.dash2camel(o.name)]),void 0!==s){var t=o.name,i=s;this[n].properties.push({name:t,value:i})}}return this},e.Stylesheet.prototype.generateStyle=function(t){for(var i=new e.Style(t),n=0;n<this.length;n++){var r=this[n],a=r.selector,o=r.properties;i.selector(a);for(var s=0;s<o.length;s++){var l=o[s];i.css(l.name,l.value)}}return i}}(n),function(e,t){"use strict";var i=e.is.touch(),n={},r=e.util.copy(n);e.defaults=function(t){n=e.util.extend({},r,t)},e.fn.core=function(t){for(var i in t){var n=t[i];e.Core.prototype[i]=n}},e.Core=function(r){if(!(this instanceof e.Core))return new e.Core(r);var a=this;r=e.util.extend({},n,r);var o=r.container,s=o?o._cyreg:null;if(s=s||{},s&&s.cy){if(o)for(;o.firstChild;)o.removeChild(o.firstChild);s.cy.notify({type:"destroy"}),s={}}var l=s.readies=s.readies||[];o&&(o._cyreg=s),s.cy=a;var u=void 0!==t&&void 0!==o&&!r.headless,h=r;h.layout=e.util.extend({name:u?"grid":"null"},h.layout),h.renderer=e.util.extend({name:u?"canvas":"null"},h.renderer);var c=function(e,t,i){return void 0!==t?t:void 0!==i?i:e},d=this._private={container:h.container,ready:!1,initrender:!1,options:h,elements:[],id2index:{},listeners:[],aniEles:e.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:c(!0,h.zoomingEnabled),userZoomingEnabled:c(!0,h.userZoomingEnabled),panningEnabled:c(!0,h.panningEnabled),userPanningEnabled:c(!0,h.userPanningEnabled),boxSelectionEnabled:c(!1,h.boxSelectionEnabled),autolock:c(!1,h.autolock,h.autolockNodes),autoungrabify:c(!1,h.autoungrabify,h.autoungrabifyNodes),autounselectify:c(!1,h.autounselectify),styleEnabled:void 0===h.styleEnabled?u:h.styleEnabled,zoom:e.is.number(h.zoom)?h.zoom:1,pan:{x:e.is.plainObject(h.pan)&&e.is.number(h.pan.x)?h.pan.x:0,y:e.is.plainObject(h.pan)&&e.is.number(h.pan.y)?h.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},p=h.selectionType;d.selectionType=void 0===p||"additive"!==p&&"single"!==p?i?"additive":"single":p,e.is.number(h.minZoom)&&e.is.number(h.maxZoom)&&h.minZoom<h.maxZoom?(d.minZoom=h.minZoom,d.maxZoom=h.maxZoom):e.is.number(h.minZoom)&&void 0===h.maxZoom?d.minZoom=h.minZoom:e.is.number(h.maxZoom)&&void 0===h.minZoom&&(d.maxZoom=h.maxZoom),d.styleEnabled&&this.setStyle(h.style),a.initRenderer(e.util.extend({hideEdgesOnViewport:h.hideEdgesOnViewport,hideLabelsOnViewport:h.hideLabelsOnViewport,textureOnViewport:h.textureOnViewport,wheelSensitivity:e.is.number(h.wheelSensitivity)&&h.wheelSensitivity>0?h.wheelSensitivity:1,motionBlur:h.motionBlur,pixelRatio:e.is.number(h.pixelRatio)&&h.pixelRatio>0?h.pixelRatio:"auto"===h.pixelRatio?void 0:1,tapThreshold:c(e.is.touch()?8:4,e.is.touch()?h.touchTapThreshold:h.desktopTapThreshold)},h.renderer)),h.initrender&&(a.on("initrender",h.initrender),a.on("initrender",function(){a._private.initrender=!0})),a.load(h.elements,function(){a.startAnimationLoop(),a._private.ready=!0,e.is.fn(h.ready)&&a.on("ready",h.ready);for(var t=0;t<l.length;t++){var i=l[t];a.on("ready",i)}s&&(s.readies=[]),a.trigger("ready")},h.done)},e.corefn=e.Core.prototype,e.fn.core({isReady:function(){return this._private.ready},ready:function(e){this.isReady()?this.trigger("ready",[],e):this.on("ready",e)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var e=this.container(),t=e.parentNode;return t&&t.removeChild(e),this},getElementById:function(t){var i=this._private.id2index[t];return void 0!==i?this._private.elements[i]:new e.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){for(var t=this._private.elements,i=this._private.id2index,n=0;n<e.length;n++){var r=e[n],a=r._private.data.id,o=i[a],s=void 0!==o;s||(o=t.length,t.push(r),i[a]=o,r._private.index=o)}return this},removeFromPool:function(e){for(var t=this._private.elements,i=this._private.id2index,n=0;n<e.length;n++){var r=e[n],a=r._private.data.id,o=i[a],s=void 0!==o;if(s){this._private.id2index[a]=void 0,t.splice(o,1);for(var l=o;l<t.length;l++){var u=t[l]._private.data.id;i[u]--}}}},container:function(){return this._private.container},options:function(){return e.util.copy(this._private.options)},json:function(){var e={},t=this;return e.elements={},t.elements().each(function(t,i){var n=i.group();e.elements[n]||(e.elements[n]=[]),e.elements[n].push(i.json())}),this._private.styleEnabled&&(e.style=t.style().json()),e.zoomingEnabled=t._private.zoomingEnabled,e.userZoomingEnabled=t._private.userZoomingEnabled,e.zoom=t._private.zoom,e.minZoom=t._private.minZoom,e.maxZoom=t._private.maxZoom,e.panningEnabled=t._private.panningEnabled,e.userPanningEnabled=t._private.userPanningEnabled,e.pan=t._private.pan,e.boxSelectionEnabled=t._private.boxSelectionEnabled,e.layout=t._private.options.layout,e.renderer=t._private.options.renderer,e.hideEdgesOnViewport=t._private.options.hideEdgesOnViewport,e.hideLabelsOnViewport=t._private.options.hideLabelsOnViewport,e.textureOnViewport=t._private.options.textureOnViewport,e.wheelSensitivity=t._private.options.wheelSensitivity,e.motionBlur=t._private.options.motionBlur,e},defer:function(e){var t=this,i=t._private,n=i.deferredExecQueue;n.push(e),i.deferredTimeout||(i.deferredTimeout=setTimeout(function(){for(;n.length>0;)n.shift()();i.deferredTimeout=null},0))}})}(n,"undefined"==typeof window?null:window),function(e,t){"use strict";function i(e){var t=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?i:e;setTimeout(t,9,e)}e.fn.core({add:function(t){var i,n=this;if(e.is.elementOrCollection(t)){var r=t;if(r._private.cy===n)i=r.restore();else{for(var a=[],o=0;o<r.length;o++){var s=r[o];a.push(s.json())}i=new e.Collection(n,a)}}else if(e.is.array(t)){var a=t;i=new e.Collection(n,a)}else if(e.is.plainObject(t)&&(e.is.array(t.nodes)||e.is.array(t.edges))){for(var l=t,a=[],u=["nodes","edges"],o=0,h=u.length;h>o;o++){var c=u[o],d=l[c];if(e.is.array(d))for(var p=0,f=d.length;f>p;p++){var g=d[p];g.group=c,a.push(g)}}i=new e.Collection(n,a)}else{var g=t;i=new e.Element(n,g).collection()}return i},remove:function(t){if(e.is.elementOrCollection(t))t=t;else if(e.is.string(t)){var i=t;t=this.$(i)}return t.remove()},load:function(n,r,a){function o(){s.one("layoutready",function(e){s.notifications(!0),s.trigger(e),s.notify({type:"load",collection:s.elements()}),s.one("load",r),s.trigger("load")}).one("layoutstop",function(){s.one("done",a),s.trigger("done")});var t=e.util.extend({},s._private.options.layout);t.eles=s.$(),s.layout(t)}var s=this,l=s.elements();return l.length>0&&l.remove(),s.notifications(!1),null!=n&&(e.is.plainObject(n)||e.is.array(n))&&s.add(n),t?i(o):o(),this}})}(n,"undefined"==typeof window?null:window),function(e,t){"use strict";e.fn.core({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},startAnimationLoop:function(){function i(){e.util.requestAnimationFrame(function(e){n(e),i()})}function n(t){function i(i,n){var s=i._private.animation.current,l=i._private.animation.queue,u=!1;if(0===s.length){var h=l.length>0?l.shift():null;h&&(h.callTime=t,s.push(h))}for(var c=[],d=s.length-1;d>=0;d--){var p=s[d];p.started||r(i,p),a(i,p,t,n),p.done&&(c.push(p),s.splice(d,1)),u=!0}for(var d=0;d<c.length;d++){var p=c[d],f=p.params.complete;e.is.fn(f)&&f.apply(i,[t])}return n||0!==s.length||0!==l.length||o.push(i),u}t=+new Date;for(var n=l._private.aniEles,o=[],s=0;s<n.length;s++){var u=n[s];i(u)}var h=i(l,!0);if(n.length>0||h){var c;if(n.length>0){var d=n.updateCompoundBounds();c=d.length>0?n.add(d):n}l.notify({type:"draw",collection:c})}n.unmerge(o)}function r(t,i){var n=e.is.core(t),r=!n,a=t,o=l._private.style;if(r)var s=a._private.position,u={x:s.x,y:s.y},h=o.getValueStyle(a);if(n)var c=l._private.pan,d={x:c.x,y:c.y},p=l._private.zoom;i.started=!0,i.startTime=Date.now(),i.startPosition=u,i.startStyle=h,i.startPan=d,i.startZoom=p}function a(t,i,n,r){var a,u=l._private.style,h=i.properties,c=i.params,d=i.startTime,p=!r;if(a=0===i.duration?1:Math.min(1,(n-d)/i.duration),0>a?a=0:a>1&&(a=1),null==h.delay){var f=i.startPosition,g=h.position,v=t._private.position;g&&p&&(o(f.x,g.x)&&(v.x=s(f.x,g.x,a)),o(f.y,g.y)&&(v.y=s(f.y,g.y,a)));var m=i.startPan,y=h.pan,b=t._private.pan,x=null!=y&&r;x&&(o(m.x,y.x)&&(b.x=s(m.x,y.x,a)),o(m.y,y.y)&&(b.y=s(m.y,y.y,a)),t.trigger("pan"));var _=i.startZoom,w=h.zoom,k=null!=w&&r;if(k&&(o(_,w)&&(t._private.zoom=s(_,w,a)),t.trigger("zoom")),(x||k)&&t.trigger("viewport"),h.css&&p)for(var C=h.css,D=0;D<C.length;D++){var T=C[D].name,S=C[D],E=S,P=i.startStyle[T],N=s(P,E,a);u.overrideBypass(t,T,N)}}return e.is.fn(c.step)&&c.step.apply(t,[n]),a>=1&&(i.done=!0),a}function o(t,i){return null==t||null==i?!1:e.is.number(t)&&e.is.number(i)?!0:t&&i?!0:!1}function s(t,i,n){0>n?n=0:n>1&&(n=1);var r,a;if(r=null!=t.pxValue||null!=t.value?null!=t.pxValue?t.pxValue:t.value:t,a=null!=i.pxValue||null!=i.value?null!=i.pxValue?i.pxValue:i.value:i,e.is.number(r)&&e.is.number(a))return r+(a-r)*n;if(e.is.number(r[0])&&e.is.number(a[0])){var o=r,s=a,l=function(e,t){var i=t-e,r=e;return Math.round(n*i+r)},u=l(o[0],s[0]),h=l(o[1],s[1]),c=l(o[2],s[2]);return[u,h,c]}return void 0}var l=this;l.styleEnabled()&&t&&i()}})}(n,"undefined"==typeof window?null:window),function(e){"use strict";e.fn.core({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:e.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:e.define.removeData({field:"scratch",triggerEvent:!1})})}(n),function(e){"use strict";e.fn.core({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()}),e.corefn.bind=e.corefn.on,e.corefn.unbind=e.corefn.off}(n),function(e){"use strict";e.fn.core({png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)}})}(n),function(e){"use strict";e.fn.core({layout:function(e){var t=this._private.prevLayout=null==e?this._private.prevLayout:this.initLayout(e);return t.run(),this},makeLayout:function(e){return this.initLayout(e)},initLayout:function(t){if(null==t)return void e.util.error("Layout options must be specified to make a layout");if(null==t.name)return void e.util.error("A `name` must be specified to make a layout");var i=t.name,n=e.extension("layout",i);if(null==n)return void e.util.error("Can not apply layout: No such layout `"+i+"` found; did you include its JS file?");t.eles=null!=t.eles?t.eles:this.$(),e.is.string(t.eles)&&(t.eles=this.$(t.eles));var r=new n(e.util.extend({},t,{cy:this}));return e.is.plainObject(r._private)||(r._private={}),r._private.cy=this,r._private.listeners=[],r}})}(n),function(e){"use strict";e.fn.core({notify:function(e){if(this._private.batchingNotify){var t=this._private.batchNotifyEles,i=this._private.batchNotifyTypes;if(e.collection)for(var n=0;n<e.collection.length;n++){var r=e.collection[n];t.ids[r._private.id]||t.push(r)}return void(i.ids[e.type]||i.push(e.type))}if(this._private.notificationsEnabled){var a=this.renderer();a.notify(e)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:void(t.notificationsEnabled=e?!0:!1)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},startBatch:function(){var e=this._private;return e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=[],e.batchNotifyEles=[],e.batchNotifyTypes=[],e.batchStyleEles.ids={},e.batchNotifyEles.ids={},e.batchNotifyTypes.ids={},this},endBatch:function(){var t=this._private;return t.batchingStyle=!1,new e.Collection(this,t.batchStyleEles).updateStyle(),t.batchingNotify=!1,this.notify({type:t.batchNotifyTypes,collection:t.batchNotifyEles}),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var i in e){var n=e[i],r=t.getElementById(i);r.data(n)}})}})}(n),function(e){"use strict";e.fn.core({renderTo:function(e,t,i,n){var r=this._private.renderer;return r.renderTo(e,t,i,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(t){var i=this,n=e.extension("renderer",t.name);return null==n?void e.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",t.name):void(this._private.renderer=new n(e.util.extend({},t,{cy:i,style:i._private.style})))}})}(n),function(e){"use strict";e.fn.core({collection:function(t){return e.is.string(t)?this.$(t):e.is.elementOrCollection(t)?t.collection():e.is.array(t)?new e.Collection(this,t):new e.Collection(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(t){var i=new e.Collection(this,this._private.elements);return t?i.filter(t):i}}),e.corefn.elements=e.corefn.filter=e.corefn.$}(n),function(e){"use strict";e.fn.core({style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(t){var i=this._private;return i.style=e.is.stylesheet(t)?t.generateStyle(this):e.is.array(t)?e.style.fromJson(this,t):e.is.string(t)?e.style.fromString(this,t):new e.Style(this),i.style}})}(n),function(e){"use strict";e.fn.core({autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=e?!0:!1,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=e?!0:!1,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=e?!0:!1,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=e?!0:!1,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=e?!0:!1,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=e?!0:!1,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=e?!0:!1,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=e?!0:!1,this)},pan:function(){var t,i,n,r,a,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(e.is.string(o[0]))return t=o[0],s[t];if(e.is.plainObject(o[0])){if(!this._private.panningEnabled)return this;n=o[0],r=n.x,a=n.y,e.is.number(r)&&(s.x=r),e.is.number(a)&&(s.y=a),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[0],i=o[1],"x"!==t&&"y"!==t||!e.is.number(i)||(s[t]=i),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(){var t,i,n,r,a,o=arguments,s=this._private.pan;if(!this._private.panningEnabled)return this;switch(o.length){case 1:e.is.plainObject(o[0])&&(n=o[0],r=n.x,a=n.y,e.is.number(r)&&(s.x+=r),e.is.number(a)&&(s.y+=a),this.trigger("pan viewport"));break;case 2:t=o[0],i=o[1],"x"!==t&&"y"!==t||!e.is.number(i)||(s[t]+=i),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var i=this.getFitViewport(e,t);if(i){var n=this._private;n.zoom=i.zoom,n.pan=i.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(t,i){if(e.is.number(t)&&void 0===i&&(i=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n;if(e.is.string(t)){var r=t;t=this.$(r)}else if(e.is.boundingBox(t)){var a=t;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else e.is.elementOrCollection(t)||(t=this.elements());n=n||t.boundingBox();var o,s=this.width(),l=this.height();if(i=e.is.number(i)?i:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){o=Math.min((s-2*i)/n.w,(l-2*i)/n.h),o=o>this._private.maxZoom?this._private.maxZoom:o,o=o<this._private.minZoom?this._private.minZoom:o;var u={x:(s-o*(n.x1+n.x2))/2,y:(l-o*(n.y1+n.y2))/2};return{zoom:o,pan:u}}}},minZoom:function(t){return void 0===t?this._private.minZoom:(e.is.number(t)&&(this._private.minZoom=t),this)},maxZoom:function(t){return void 0===t?this._private.maxZoom:(e.is.number(t)&&(this._private.maxZoom=t),this)},zoom:function(t){var i,n;if(void 0===t)return this._private.zoom;if(e.is.number(t))n=t;else if(e.is.plainObject(t)){if(n=t.level,t.position){var r=t.position,a=this._private.pan,o=this._private.zoom;i={x:r.x*o+a.x,y:r.y*o+a.y}}else t.renderedPosition&&(i=t.renderedPosition);if(i&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!e.is.number(n)||i&&(!e.is.number(i.x)||!e.is.number(i.y)))return this;if(n=n>this._private.maxZoom?this._private.maxZoom:n,n=n<this._private.minZoom?this._private.minZoom:n,i){var s=this._private.pan,l=this._private.zoom,u=n,h={x:-u/l*(i.x-s.x)+i.x,y:-u/l*(i.y-s.y)+i.y};this._private.zoom=n,this._private.pan=h;var c=s.x!==h.x||s.y!==h.y;this.trigger(" zoom "+(c?" pan ":"")+" viewport ")}else this._private.zoom=n,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(t){var i=this._private,n=!0,r=!0,a=[],o=!1,s=!1;if(!t)return this;if(e.is.number(t.zoom)||(n=!1),e.is.plainObject(t.pan)||(r=!1),!n&&!r)return this;if(n){var l=t.zoom;l<i.minZoom||l>i.maxZoom||!i.zoomingEnabled?o=!0:(i.zoom=l,a.push("zoom"))}if(r&&(!o||!t.cancelOnFailedZoom)&&i.panningEnabled){var u=t.pan;e.is.number(u.x)&&(i.pan.x=u.x,s=!1),e.is.number(u.y)&&(i.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.trigger(a.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(t,i){if(this._private.panningEnabled){if(e.is.string(t)){var n=t;t=this.elements(n)}else e.is.elementOrCollection(t)||(t=this.elements());var r=t.boundingBox(),a=this.width(),o=this.height();i=void 0===i?this._private.zoom:i;var s={x:(a-i*(r.x1+r.x2))/2,y:(o-i*(r.y1+r.y2))/2};return s}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},width:function(){var e=this._private.container;return e?e.clientWidth:1},height:function(){var e=this._private.container;return e?e.clientHeight:1},extent:function(){var e=this._private.pan,t=this._private.zoom,i=this.renderedExtent(),n={x1:(i.x1-e.x)/t,x2:(i.x2-e.x)/t,y1:(i.y1-e.y)/t,y2:(i.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}}),e.corefn.centre=e.corefn.center,e.corefn.autolockNodes=e.corefn.autolock,e.corefn.autoungrabifyNodes=e.corefn.autoungrabify}(n),function(e){"use strict";e.fn.collection=e.fn.eles=function(t){for(var i in t){var n=t[i];
e.Collection.prototype[i]=n}};var t={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(t,i,n){var r=e.is.element(i)?i._private:i,a=r.group,o=null!=n?n:this.prefix[a]+this.id[a];if(t.getElementById(o).empty())this.id[a]++;else for(;!t.getElementById(o).empty();)o=this.prefix[a]+ ++this.id[a];return o}};e.Element=function(t,i,n){if(!(this instanceof e.Element))return new e.Element(t,i,n);var r=this;if(n=void 0===n||n?!0:!1,void 0===t||void 0===i||!e.is.core(t))return void e.util.error("An element must have a core reference and parameters set");if("nodes"!==i.group&&"edges"!==i.group)return void e.util.error("An element must be of type `nodes` or `edges`; you specified `"+i.group+"`");if(this.length=1,this[0]=this,this._private={cy:t,single:!0,data:i.data||{},layoutData:{},position:i.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:i.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:i.selected?!0:!1,selectable:void 0===i.selectable?!0:i.selectable?!0:!1,locked:i.locked?!0:!1,grabbed:!1,grabbable:void 0===i.grabbable?!0:i.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:{},edges:[],children:[]},i.renderedPosition){var a=i.renderedPosition,o=t.pan(),s=t.zoom();this._private.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}if(e.is.string(i.classes))for(var l=i.classes.split(/\s+/),u=0,h=l.length;h>u;u++){var c=l[u];c&&""!==c&&(r._private.classes[c]=!0)}i.css&&t.style().applyBypass(this,i.css),(void 0===n||n)&&this.restore()},e.Collection=function(i,n,r){if(!(this instanceof e.Collection))return new e.Collection(i,n);if(void 0===i||!e.is.core(i))return void e.util.error("A collection must have a reference to the core");var a={},o={},s=!1;if(n){if(n.length>0&&e.is.plainObject(n[0])&&!e.is.element(n[0])){s=!0;for(var l=[],u={},h=0,c=n.length;c>h;h++){var d=n[h];null==d.data&&(d.data={});var p=d.data;if(null==p.id)p.id=t.generate(i,d);else if(0!==i.getElementById(p.id).length||u[p.id])continue;var f=new e.Element(i,d,!1);l.push(f),u[p.id]=!0}n=l}}else n=[];this.length=0;for(var h=0,c=n.length;c>h;h++){var g=n[h];if(g){var v=g._private.data.id;(!r||r.unique&&!a[v])&&(a[v]=g,o[v]=this.length,this[this.length]=g,this.length++)}}this._private={cy:i,ids:a,indexes:o},s&&this.restore()},e.elefn=e.elesfn=e.Element.prototype=e.Collection.prototype,e.elesfn.cy=function(){return this._private.cy},e.elesfn.element=function(){return this[0]},e.elesfn.collection=function(){return e.is.collection(this)?this:new e.Collection(this._private.cy,[this])},e.elesfn.unique=function(){return new e.Collection(this._private.cy,this,{unique:!0})},e.elesfn.getElementById=function(t){var i=this._private.cy,n=this._private.ids[t];return n?n:e.Collection(i)},e.elesfn.json=function(){var t=this.element();if(null==t)return void 0;var i=t._private,n=e.util.copy({data:i.data,position:i.position,group:i.group,bypass:i.bypass,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbed:i.grabbed,grabbable:i.grabbable,classes:""}),r=[];for(var a in i.classes)i.classes[a]&&r.push(a);for(var o=0;o<r.length;o++){var a=r[o];n.classes+=a+(o<r.length-1?" ":"")}return n},e.elesfn.jsons=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t],n=i.json();e.push(n)}return e},e.elesfn.clone=function(){for(var t=this.cy(),i=[],n=0;n<this.length;n++){var r=this[n],a=r.json(),o=new e.Element(t,a,!1);i.push(o)}return new e.Collection(t,i)},e.elesfn.restore=function(i){var n=this,r=[],a=n.cy();void 0===i&&(i=!0);for(var o=[],s=[],l=[],u=0,h=0,c=0,d=n.length;d>c;c++){var p=n[c];p.isNode()?(s.push(p),u++):(l.push(p),h++)}o=s.concat(l);for(var c=0,d=o.length;d>c;c++){var p=o[c];if(p.removed()){var f=p._private,g=f.data;if(void 0===g.id)g.id=t.generate(a,p);else{if(e.is.emptyString(g.id)||!e.is.string(g.id)){e.util.error("Can not create element with invalid string ID `"+g.id+"`");continue}if(0!==a.getElementById(g.id).length){e.util.error("Can not create second element with ID `"+g.id+"`");continue}}var v=g.id;if(p.isEdge()){for(var m=p,y=["source","target"],b=y.length,x=!1,_=0;b>_;_++){var w=y[_],k=g[w];null==k||""===k?(e.util.error("Can not create edge `"+v+"` with unspecified "+w),x=!0):a.getElementById(k).empty()&&(e.util.error("Can not create edge `"+v+"` with nonexistant "+w+" `"+k+"`"),x=!0)}if(x)continue;var C=a.getElementById(g.source),D=a.getElementById(g.target);C._private.edges.push(m),D._private.edges.push(m),m._private.source=C,m._private.target=D}f.ids={},f.ids[v]=p,f.removed=!1,a.addToPool(p),r.push(p)}}for(var c=0;u>c;c++){var T=o[c],g=T._private.data,S=T._private.data.parent,E=null!=S;if(E){var P=a.getElementById(S);if(P.empty())g.parent=void 0;else{for(var N=!1,M=P;!M.empty();){if(T.same(M)){N=!0,g.parent=void 0;break}M=M.parent()}N||(P[0]._private.children.push(T),T._private.parent=P[0],a._private.hasCompoundNodes=!0)}}}if(r=new e.Collection(a,r),r.length>0){var I=r.add(r.connectedNodes()).add(r.parent());I.updateStyle(i),i?r.rtrigger("add"):r.trigger("add")}return n},e.elesfn.removed=function(){var e=this[0];return e&&e._private.removed},e.elesfn.inside=function(){var e=this[0];return e&&!e._private.removed},e.elesfn.remove=function(t){function i(e){for(var t=e._private.edges,i=0;i<t.length;i++)r(t[i])}function n(e){for(var t=e._private.children,i=0;i<t.length;i++)r(t[i])}function r(e){var t=h[e.id()];t||(h[e.id()]=!0,e.isNode()?(u.push(e),i(e),n(e)):u.unshift(e))}function a(e,t){for(var i=e._private.edges,n=0;n<i.length;n++){var r=i[n];if(t===r){i.splice(n,1);break}}}function o(e,t){t=t[0],e=e[0];for(var i=e._private.children,n=0;n<i.length;n++)if(i[n][0]===t[0]){i.splice(n,1);break}}var s=this,l=[],u=[],h={},c=s._private.cy;void 0===t&&(t=!0);for(var d=0,p=s.length;p>d;d++){var f=s[d];r(f)}for(var d=0;d<u.length;d++){var f=u[d];if(f._private.removed=!0,c.removeFromPool(f),l.push(f),f.isEdge()){var g=f.source()[0],v=f.target()[0];a(g,f),a(v,f)}else{var m=f.parent();0!==m.length&&o(m,f)}}var y=c._private.elements;c._private.hasCompoundNodes=!1;for(var d=0;d<y.length;d++){var f=y[d];if(f.isParent()){c._private.hasCompoundNodes=!0;break}}var b=new e.Collection(this.cy(),l);b.size()>0&&(t&&this.cy().notify({type:"remove",collection:b}),b.trigger("remove"));for(var x={},d=0;d<u.length;d++){var f=u[d],_="nodes"===f._private.group,w=f._private.data.parent;if(_&&void 0!==w&&!x[w]){x[w]=!0;var m=c.getElementById(w);m&&0!==m.length&&!m._private.removed&&0===m.children().length&&m.updateStyle()}}return this},e.elesfn.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var i=e.source,n=e.target,r=t.getElementById(i).length>0,a=t.getElementById(n).length>0;if(r||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s];"edges"===l.group&&(r&&(l.data.source=i),a&&(l.data.target=n))}return t.add(o)}}else if(void 0!==e.parent){var u=e.parent,h=null===u||t.getElementById(u).length>0;if(h){var o=this.jsons(),c=this.descendants(),d=c.merge(c.add(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var l=o[s];"nodes"===l.group&&(l.data.parent=null===u?void 0:u)}}return t.add(o).merge(d.restore())}return this}}(n),function(e){"use strict";e.fn.eles({stdBreadthFirstSearch:function(t){return t=e.util.extend({},t,{std:!0}),this.breadthFirstSearch(t)},breadthFirstSearch:function(t,i,n){var r,a,o;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(r=t,t=r.roots,i=r.visit,n=r.directed,a=r.std,o=r.thisArg),n=2!==arguments.length||e.is.fn(i)?n:i,i=e.is.fn(i)?i:function(){};for(var s,l=this._private.cy,u=e.is.string(t)?this.filter(t):t,h=[],c=[],d={},p={},f={},g=0,v=this.nodes(),m=this.edges(),y=0;y<u.length;y++)u[y].isNode()&&(h.unshift(u[y]),f[u[y].id()]=!0,c.push(u[y]),p[u[y].id()]=0);for(;0!==h.length;){var b,u=h.shift(),x=p[u.id()],_=d[u.id()],w=null==_?void 0:_.connectedNodes().not(u)[0];if(b=a?i.call(o,u,_,w,g++,x):i.call(u,g++,x,u,_,w),b===!0){s=u;break}if(b===!1)break;for(var k=u.connectedEdges(n?function(){return this.data("source")===u.id()}:void 0).intersect(m),y=0;y<k.length;y++){var C=k[y],D=C.connectedNodes(function(){return this.id()!==u.id()}).intersect(v);0===D.length||f[D.id()]||(D=D[0],h.push(D),f[D.id()]=!0,p[D.id()]=p[u.id()]+1,c.push(D),d[D.id()]=C)}}for(var T=[],y=0;y<c.length;y++){var S=c[y],E=d[S.id()];E&&T.push(E),T.push(S)}return{path:new e.Collection(l,T,{unique:!0}),found:new e.Collection(l,s,{unique:!0})}},stdDepthFirstSearch:function(t){return t=e.util.extend({},t,{std:!0}),this.depthFirstSearch(t)},depthFirstSearch:function(t,i,n){var r,a,o;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(r=t,t=r.roots,i=r.visit,n=r.directed,a=r.std,o=r.thisArg),n=2!==arguments.length||e.is.fn(i)?n:i,i=e.is.fn(i)?i:function(){};for(var s,l=this._private.cy,u=e.is.string(t)?this.filter(t):t,h=[],c=[],d={},p={},f={},g=0,v=this.edges(),m=this.nodes(),y=0;y<u.length;y++)u[y].isNode()&&(h.push(u[y]),c.push(u[y]),p[u[y].id()]=0);for(;0!==h.length;){var u=h.pop();if(!f[u.id()]){f[u.id()]=!0;var b,x=p[u.id()],_=d[u.id()],w=null==_?void 0:_.connectedNodes().not(u)[0];if(b=a?i.call(o,u,_,w,g++,x):i.call(u,g++,x,u,_,w),b===!0){s=u;break}if(b===!1)break;for(var k=u.connectedEdges(n?function(){return this.data("source")===u.id()}:void 0).intersect(v),y=0;y<k.length;y++){var C=k[y],D=C.connectedNodes(function(){return this.id()!==u.id()}).intersect(m);0===D.length||f[D.id()]||(D=D[0],h.push(D),p[D.id()]=p[u.id()]+1,c.push(D),d[D.id()]=C)}}}for(var T=[],y=0;y<c.length;y++){var S=c[y],E=d[S.id()];E&&T.push(E),T.push(S)}return{path:new e.Collection(l,T,{unique:!0}),found:new e.Collection(l,s,{unique:!0})}},kruskal:function(t){function i(e){for(var t=0;t<r.length;t++){var i=r[t];if(i.anySame(e))return{eles:i,index:t}}}t=e.is.fn(t)?t:function(){return 1};for(var n=new e.Collection(this._private.cy,[]),r=[],a=this.nodes(),o=0;o<a.length;o++)r.push(a[o].collection());for(var s=this.edges(),l=s.toArray().sort(function(e,i){var n=t.call(e,e),r=t.call(i,i);return n-r}),o=0;o<l.length;o++){var u=l[o],h=u.source()[0],c=u.target()[0],d=i(h),p=i(c);d.index!==p.index&&(n=n.add(u),r[d.index]=d.eles.add(p.eles),r.splice(p.index,1))}return a.add(n)},dijkstra:function(t,i,n){var r;e.is.plainObject(t)&&!e.is.elementOrCollection(t)&&(r=t,t=r.root,i=r.weight,n=r.directed);var a=this._private.cy;n=e.is.fn(i)?n:i,i=e.is.fn(i)?i:function(){return 1};for(var o=e.is.string(t)?this.filter(t).eq(0):t.eq(0),s={},l={},u={},h=this.edges().filter(function(){return!this.isLoop()}),c=this.nodes(),d=[],p=0;p<c.length;p++)s[c[p].id()]=c[p].same(o)?0:1/0,d.push(c[p]);var f=function(e){return s[e.id()]};d=new e.Collection(a,d);for(var g=e.Minheap(a,d,f),v=function(e,t){for(var r,a=(n?e.edgesTo(t):e.edgesWith(t)).intersect(h),o=1/0,s=0;s<a.length;s++){var l=a[s],u=i.apply(l,[l]);(o>u||!r)&&(o=u,r=l)}return{edge:r,dist:o}};g.size()>0;){var m=g.pop(),y=m.value,b=m.id,x=a.getElementById(b);if(u[b]=y,y===Math.Infinite)break;for(var _=x.neighborhood().intersect(c),p=0;p<_.length;p++){var w=_[p],k=w.id(),C=v(x,w),D=y+C.dist;D<g.getValueById(k)&&(g.edit(k,D),l[k]={node:x,edge:C.edge})}}return{distanceTo:function(t){var i=e.is.string(t)?c.filter(t).eq(0):t.eq(0);return u[i.id()]},pathTo:function(t){var i=e.is.string(t)?c.filter(t).eq(0):t.eq(0),n=[],r=i;if(i.length>0)for(n.unshift(i);l[r.id()];){var o=l[r.id()];n.unshift(o.edge),n.unshift(o.node),r=o.node}return new e.Collection(a,n)}}}}),e.elesfn.bfs=e.elesfn.breadthFirstSearch,e.elesfn.dfs=e.elesfn.depthFirstSearch,e.elesfn.stdBfs=e.elesfn.stdBreadthFirstSearch,e.elesfn.stdDfs=e.elesfn.stdDepthFirstSearch}(n),function(e){"use strict";e.fn.eles({aStar:function(t){t=t||{};var i=function(){a&&console.log.apply(console,arguments)},n=function(e,t,i,r){if(e==t)return r.push(o.getElementById(t)),r;if(t in i){var a=i[t],s=g[t];return r.push(o.getElementById(t)),r.push(o.getElementById(s)),n(e,a,i,r)}return void 0},r=function(e,t){if(0===e.length)return void 0;for(var i=0,n=t[e[0]],r=1;r<e.length;r++){var a=t[e[r]];n>a&&(n=a,i=r)}return i};if(null!=t.debug)var a=t.debug;else var a=!1;i("Starting aStar...");var o=this._private.cy;if(null==t||null==t.root)return void 0;var s=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(i("Source node: %s",s.id()),null==t.goal)return void 0;var l=e.is.string(t.goal)?this.filter(t.goal)[0]:t.goal[0];if(i("Target node: %s",l.id()),null!=t.heuristic&&e.is.fn(t.heuristic))var u=t.heuristic;else var u=function(){return 0};if(null!=t.weight&&e.is.fn(t.weight))var h=t.weight;else var h=function(){return 1};if(null!=t.directed)var c=t.directed;else var c=!1;var d=[],p=[s.id()],f={},g={},v={},m={};v[s.id()]=0,m[s.id()]=u(s);for(var y=this.edges().not(":loop"),b=this.nodes(),x=0;p.length>0;){var _=r(p,m),w=this.filter("#"+p[_])[0];if(x++,i("\nStep: %s",x),i("Processing node: %s, fScore = %s",w.id(),m[w.id()]),w.id()==l.id()){i("Found goal node!");var k=n(s.id(),l.id(),f,[]);return k.reverse(),i("Path: %s",k),{found:!0,distance:v[w.id()],path:new e.Collection(o,k),steps:x}}d.push(w.id()),p.splice(_,1),i("Added node to closedSet, removed from openSet."),i("Processing neighbors...");for(var C=w.connectedEdges(c?'[source = "'+w.id()+'"]':void 0).intersect(y),D=0;D<C.length;D++){var T=C[D],S=T.connectedNodes('[id != "'+w.id()+'"]').intersect(b);if(i("   processing neighbor: %s",S.id()),-1==d.indexOf(S.id())){var E=v[w.id()]+h.apply(T,[T]);i("   tentative gScore: %d",E),-1!=p.indexOf(S.id())?E<v[S.id()]&&(v[S.id()]=E,m[S.id()]=E+u(S),f[S.id()]=w.id(),i("   better score, replacing gScore. "),i("   fScore(%s) = %s",S.id(),E)):(v[S.id()]=E,m[S.id()]=E+u(S),p.push(S.id()),f[S.id()]=w.id(),g[S.id()]=T.id(),i("   not in openSet, adding it. "),i("   fScore(%s) = %s",S.id(),E))}else i("   already in closedSet, ignoring it.")}}return i("Reached end of computation without finding our goal"),{found:!1,distance:void 0,path:void 0,steps:x}},floydWarshall:function(t){t=t||{};var i=function(){n&&console.log.apply(console,arguments)};if(null!=t.debug)var n=t.debug;else var n=!1;i("Starting floydWarshall...");var r=this._private.cy;if(null!=t.weight&&e.is.fn(t.weight))var a=t.weight;else var a=function(){return 1};if(null!=t.directed)var o=t.directed;else var o=!1;for(var s=this.edges().not(":loop"),l=this.nodes(),u=l.length,h={},c=0;u>c;c++)h[l[c].id()]=c;for(var d=[],c=0;u>c;c++){for(var p=new Array(u),f=0;u>f;f++)p[f]=c==f?0:1/0;d.push(p)}var g=[],v=[],m=function(e){for(var t=0;u>t;t++){for(var i=new Array(u),n=0;u>n;n++)i[n]=void 0;e.push(i)}};m(g),m(v);for(var c=0;c<s.length;c++){var y=h[s[c].source().id()],b=h[s[c].target().id()],x=a.apply(s[c],[s[c]]);d[y][b]>x&&(d[y][b]=x,g[y][b]=b,v[y][b]=s[c])}if(!o)for(var c=0;c<s.length;c++){var y=h[s[c].target().id()],b=h[s[c].source().id()],x=a.apply(s[c],[s[c]]);d[y][b]>x&&(d[y][b]=x,g[y][b]=b,v[y][b]=s[c])}for(var _=0;u>_;_++)for(var c=0;u>c;c++)for(var f=0;u>f;f++)d[c][_]+d[_][f]<d[c][f]&&(d[c][f]=d[c][_]+d[_][f],g[c][f]=g[c][_]);for(var w=[],c=0;u>c;c++)w.push(l[c].id());var k={distance:function(t,i){if(e.is.string(t))var n=r.filter(t)[0].id();else var n=t.id();if(e.is.string(i))var a=r.filter(i)[0].id();else var a=i.id();return d[h[n]][h[a]]},path:function(t,i){var n=function(e,t,i,n,a){if(e===t)return r.getElementById(n[e]);if(void 0===i[e][t])return void 0;for(var o=[r.getElementById(n[e])],s=e;e!==t;){s=e,e=i[e][t];var l=a[s][e];o.push(l),o.push(r.getElementById(n[e]))}return o};if(e.is.string(t))var a=r.filter(t)[0].id();else var a=t.id();if(e.is.string(i))var o=r.filter(i)[0].id();else var o=i.id();var s=n(h[a],h[o],g,w,v);return new e.Collection(r,s)}};return k},bellmanFord:function(t){t=t||{};var i=function(){n&&console.log.apply(console,arguments)};if(null!=t.debug)var n=t.debug;else var n=!1;if(i("Starting bellmanFord..."),null!=t.weight&&e.is.fn(t.weight))var r=t.weight;else var r=function(){return 1};if(null!=t.directed)var a=t.directed;else var a=!1;if(null==t.root)return void e.util.error("options.root required");if(e.is.string(t.root))var o=this.filter(t.root)[0];else var o=t.root[0];i("Source node: %s",o.id());for(var s=this._private.cy,l=this.edges().not(":loop"),u=this.nodes(),h=u.length,c={},d=0;h>d;d++)c[u[d].id()]=d;for(var p=[],f=[],g=[],d=0;h>d;d++)p[d]=u[d].id()===o.id()?0:1/0,f[d]=void 0;for(var v=!1,d=1;h>d;d++){v=!1;for(var m=0;m<l.length;m++){var y=c[l[m].source().id()],b=c[l[m].target().id()],x=r.apply(l[m],[l[m]]),_=p[y]+x;if(_<p[b]&&(p[b]=_,f[b]=y,g[b]=l[m],v=!0),!a){var _=p[b]+x;_<p[y]&&(p[y]=_,f[y]=b,g[y]=l[m],v=!0)}}if(!v)break}if(v)for(var m=0;m<l.length;m++){var y=c[l[m].source().id()],b=c[l[m].target().id()],x=r.apply(l[m],[l[m]]);if(p[y]+x<p[b])return e.util.error("Error: graph contains a negative weigth cycle!"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var w=[],d=0;h>d;d++)w.push(u[d].id());var k={distanceTo:function(t){if(e.is.string(t))var i=s.filter(t)[0].id();else var i=t.id();return p[c[i]]},pathTo:function(t){var i=function(e,t,i,n,r,a){for(;;){if(r.push(s.getElementById(n[i])),r.push(a[i]),t===i)return r;var o=e[i];if("undefined"==typeof o)return void 0;i=o}};if(e.is.string(t))var n=s.filter(t)[0].id();else var n=t.id();var r=[],a=i(f,c[o.id()],c[n],w,r,g);return null!=a&&a.reverse(),new e.Collection(s,a)},hasNegativeWeightCycle:!1};return k},kargerStein:function(t){t=t||{};var i=function(){a&&console.log.apply(console,arguments)},n=function(e,t,i){for(var n=i[e],r=n[1],a=n[2],o=t[r],s=t[a],l=i.filter(function(e){return t[e[1]]===o&&t[e[2]]===s?!1:t[e[1]]===s&&t[e[2]]===o?!1:!0}),u=0;u<l.length;u++){var h=l[u];h[1]===s?(l[u]=h.slice(0),l[u][1]=o):h[2]===s&&(l[u]=h.slice(0),l[u][2]=o)}for(var u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l},r=function(e,t,i,a){if(a>=i)return t;var o=Math.floor(Math.random()*t.length),s=n(o,e,t);return r(e,s,i-1,a)};if(null!=t&&null!=t.debug)var a=t.debug;else var a=!1;i("Starting kargerStein...");var o=this._private.cy,s=this.edges().not(":loop"),l=this.nodes(),u=l.length,h=s.length,c=Math.ceil(Math.pow(Math.log(u)/Math.LN2,2)),d=Math.floor(u/Math.sqrt(2));if(2>u)return void e.util.error("At least 2 nodes are required for KargerSteing algorithm!");for(var p={},f=0;u>f;f++)p[l[f].id()]=f;for(var g=[],f=0;h>f;f++){var v=s[f];g.push([f,p[v.source().id()],p[v.target().id()]])}for(var m,y=1/0,b=[],f=0;u>f;f++)b.push(f);for(var x=0;c>=x;x++){var _=b.slice(0),w=r(_,g,u,d),k=_.slice(0),C=r(_,w,d,2),D=r(k,w,d,2);C.length<=D.length&&C.length<y?(y=C.length,m=[C,_]):D.length<=C.length&&D.length<y&&(y=D.length,m=[D,k])}for(var T=m[0].map(function(e){return s[e[0]]}),S=[],E=[],P=m[1][0],f=0;f<m[1].length;f++){var N=m[1][f];N===P?S.push(l[f]):E.push(l[f])}var M={cut:new e.Collection(o,T),partition1:new e.Collection(o,S),partition2:new e.Collection(o,E)};return M},pageRank:function(t){t=t||{};var i=function(e){for(var t=e.length,i=0,n=0;t>n;n++)i+=e[n];for(var n=0;t>n;n++)e[n]=e[n]/i},n=function(){r&&console.log.apply(console,arguments)};if(null!=t&&null!=t.debug)var r=t.debug;else var r=!1;if(n("Starting pageRank..."),null!=t&&null!=t.dampingfactor)var a=t.dampingFactor;else var a=.8;if(null!=t&&null!=t.precision)var o=t.precision;else var o=1e-6;if(null!=t&&null!=t.iterations)var s=t.iterations;else var s=200;if(null!=t&&null!=t.weight&&e.is.fn(t.weight))var l=t.weight;else var l=function(){return 1};for(var u=this._private.cy,h=this.edges().not(":loop"),c=this.nodes(),d=c.length,p=h.length,f={},g=0;d>g;g++)f[c[g].id()]=g;for(var v=[],m=[],y=(1-a)/d,g=0;d>g;g++){for(var b=[],x=0;d>x;x++)b.push(0);v.push(b),m.push(0)}for(var g=0;p>g;g++){var _=h[g],w=f[_.source().id()],k=f[_.target().id()],C=l.apply(_,[_]);v[k][w]+=C,m[w]+=C}for(var D=1/d+y,x=0;d>x;x++)if(0===m[x])for(var g=0;d>g;g++)v[g][x]=D;else for(var g=0;d>g;g++)v[g][x]=v[g][x]/m[x]+y;for(var T,S=[],E=[],g=0;d>g;g++)S.push(1),E.push(0);for(var P=0;s>P;P++){for(var N=E.slice(0),g=0;d>g;g++)for(var x=0;d>x;x++)N[g]+=v[g][x]*S[x];i(N),T=S,S=N;for(var M=0,g=0;d>g;g++)M+=Math.pow(T[g]-S[g],2);if(o>M){n("Stoped at iteration %s",P);break}}n("Result:\n"+S);var I={rank:function(t){if(e.is.string(t))var i=u.filter(t)[0].id();else var i=t.id();return S[f[i]]}};return I}})}(n),function(e){"use strict";e.fn.eles({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop()})}(n),function(e){"use strict";e.fn.eles({classes:function(t){var i,n=this,r=[];if(e.is.fn(t))i=t;else if(!e.is.plainObject(t))return this;for(var a=0;a<n.length;a++){var o=n[a],s=!1;if(t=i?i.apply(o,[a,o]):t,t.add)for(var l=0;l<t.add.length;l++){var u=t.add[l],h=o._private.classes[u];o._private.classes[u]=!0,h||s||(r.push(o),s=!0)}if(t.remove)for(var l=0;l<t.remove.length;l++){var u=t.remove[l],h=o._private.classes[u];o._private.classes[u]=!1,h&&!s&&(r.push(o),s=!0)}if(t.toggle)for(var l=0;l<t.toggle.length;l++){var u=t.toggle[l],h=o._private.classes[u];o._private.classes[u]=!h,s||(r.push(o),s=!0)}}return r.length>0&&new e.Collection(this.cy(),r).updateStyle().trigger("class"),this},addClass:function(t){t=t.split(/\s+/);for(var i=this,n=[],r=0;r<t.length;r++){var a=t[r];if(!e.is.emptyString(a))for(var o=0;o<i.length;o++){var s=i[o],l=s._private.classes[a];s._private.classes[a]=!0,l||n.push(s)}}return n.length>0&&new e.Collection(this._private.cy,n).updateStyle().trigger("class"),i},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes[e]?!0:!1},toggleClass:function(t,i){for(var n=t.split(/\s+/),r=this,a=[],o=0,s=r.length;s>o;o++)for(var l=r[o],u=0;u<n.length;u++){var h=n[u];if(!e.is.emptyString(h)){var c=l._private.classes[h],d=i||void 0===i&&!c;d?(l._private.classes[h]=!0,c||a.push(l)):(l._private.classes[h]=!1,c&&a.push(l))}}return a.length>0&&new e.Collection(this._private.cy,a).updateStyle().trigger("class"),r},removeClass:function(t){t=t.split(/\s+/);for(var i=this,n=[],r=0;r<i.length;r++)for(var a=i[r],o=0;o<t.length;o++){var s=t[o];if(s&&""!==s){var l=a._private.classes[s];a._private.classes[s]=void 0,l&&n.push(a)}}return n.length>0&&new e.Collection(i._private.cy,n).updateStyle(),i.trigger("class"),i},flashClass:function(e,t){var i=this;if(null==t)t=250;else if(0===t)return i;return i.addClass(e),setTimeout(function(){i.removeClass(e)},t),i}})}(n),function(e){"use strict";e.fn.eles({allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var i=0;i<this.length;i++){var n=e.apply(t,[this[i],i,this]);if(n)return!0}return!1},every:function(e,t){for(var i=0;i<this.length;i++){var n=e.apply(t,[this[i],i,this]);if(!n)return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length!==e.length?!1:this.intersect(e).length===this.length},anySame:function(e){return e=this.cy().collection(e),this.intersect(e).length>0},allAreNeighbors:function(e){return e=this.cy().collection(e),this.neighborhood().intersect(e).length===e.length}})}(n),function(e){"use strict";e.fn.eles({parent:function(t){for(var i=[],n=this._private.cy,r=0;r<this.length;r++){var a=this[r],o=n.getElementById(a._private.data.parent);o.size()>0&&i.push(o)}return new e.Collection(n,i,{unique:!0}).filter(t)},parents:function(t){for(var i=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var a=n[r];i.push(a)}n=n.parent()}return new e.Collection(this.cy(),i,{unique:!0}).filter(t)},commonAncestors:function(e){for(var t,i=0;i<this.length;i++){var n=this[i],r=n.parents();t=t||r,t=t.intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(t){for(var i=[],n=0;n<this.length;n++){var r=this[n];i=i.concat(r._private.children)}return new e.Collection(this.cy(),i,{unique:!0}).filter(t)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];return e?0!==e._private.children.length:void 0},isChild:function(){var e=this[0];return e?void 0!==e._private.data.parent&&0!==e.parent().length:void 0},descendants:function(t){function i(e){for(var t=0;t<e.length;t++){var r=e[t];n.push(r),r.children().nonempty()&&i(r.children())}}var n=[];return i(this.children()),new e.Collection(this.cy(),n,{unique:!0}).filter(t)}}),e.elesfn.ancestors=e.elesfn.parents}(n),function(e){"use strict";var t=1,i=0;e.fn.eles({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:e.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:e.define.removeData({field:"scratch",triggerEvent:!1}),rscratch:e.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:e.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];return e?e._private.data.id:void 0},position:e.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()}}),silentPosition:e.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()}}),positions:function(t,i){if(e.is.plainObject(t))this.position(t);else if(e.is.fn(t)){for(var n=t,r=0;r<this.length;r++){var a=this[r],t=n.apply(a,[r,a]);if(t&&!a.locked()){var o=a._private.position;o.x=t.x,o.y=t.y}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;i?l.trigger("position"):l.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},updateCompoundBounds:function(){function t(e){var t=e.children(),i=e._private.style,r=t.boundingBox({includeLabels:!1,includeEdges:!1}),a={top:i["padding-top"].pxValue,bottom:i["padding-bottom"].pxValue,left:i["padding-left"].pxValue,right:i["padding-right"].pxValue},o=e._private.position,s=!1;"auto"===i.width.value&&(e._private.autoWidth=r.w+a.left+a.right,o.x=(r.x1+r.x2-a.left+a.right)/2,s=!0),"auto"===i.height.value&&(e._private.autoHeight=r.h+a.top+a.bottom,o.y=(r.y1+r.y2-a.top+a.bottom)/2,s=!0),s&&n.push(e)}var i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return i.collection();for(var n=[],r=this.parent();r.nonempty();){for(var a=0;a<r.length;a++){var o=r[a];t(o)}r=r.parent()}return new e.Collection(i,n)},renderedPosition:function(t,i){var n=this[0],r=this.cy(),a=r.zoom(),o=r.pan(),s=e.is.plainObject(t)?t:void 0,l=void 0!==s||void 0!==i&&e.is.string(t);if(n&&n.isNode()){if(!l){var u=n._private.position;return s={x:u.x*a+o.x,y:u.y*a+o.y},void 0===t?s:s[t]}for(var h=0;h<this.length;h++){var n=this[h];void 0!==i?n._private.position[t]=(i-o[t])/a:void 0!==s&&(n._private.position={x:(s.x-o.x)/a,y:(s.y-o.y)/a})}this.rtrigger("position")}else if(!l)return void 0;return this},parentPosition:function(t,i){var n=this[0],r=this.cy(),a=e.is.plainObject(t)?t:void 0,o=void 0!==a||void 0!==i&&e.is.string(t),s=r.hasCompoundNodes();if(n&&n.isNode()){if(!o){var l=n._private.position,u=s?n.parent():null,h=u&&u.length>0,c=h;h&&(u=u[0]);var d=c?u._private.position:{x:0,y:0};return a={x:l.x-d.x,y:l.y-d.y},void 0===t?a:a[t]}for(var p=0;p<this.length;p++){var n=this[p],u=s?n.parent():null,h=u&&u.length>0,c=h;h&&(u=u[0]);var d=c?u._private.position:{x:0,y:0};void 0!==i?n._private.position[t]=i+d[t]:void 0!==a&&(n._private.position={x:a.x+d.x,y:a.y+d.y})}this.rtrigger("position")}else if(!o)return void 0;return this},width:function(){var e=this[0],t=e._private.cy,i=t._private.styleEnabled;if(e){if(i){var n=e._private.style.width;return"auto"===n.strValue?e._private.autoWidth:n.pxValue}return 1}},outerWidth:function(){var e=this[0],n=e._private.cy,r=n._private.styleEnabled;if(e){if(r){var a=e._private.style,o="auto"===a.width.strValue?e._private.autoWidth:a.width.pxValue,s=a["border-width"]?a["border-width"].pxValue*t+i:0;return o+s}return 1}},renderedWidth:function(){var e=this[0];if(e){var t=e.width();return t*this.cy().zoom()}},renderedOuterWidth:function(){var e=this[0];if(e){var t=e.outerWidth();return t*this.cy().zoom()}},height:function(){var e=this[0],t=e._private.cy,i=t._private.styleEnabled;if(e&&"nodes"===e._private.group){if(i){var n=e._private.style.height;return"auto"===n.strValue?e._private.autoHeight:n.pxValue}return 1}},outerHeight:function(){var e=this[0],n=e._private.cy,r=n._private.styleEnabled;if(e&&"nodes"===e._private.group){if(!r)return 1;var a=e._private.style,o="auto"===a.height.strValue?e._private.autoHeight:a.height.pxValue,s=a["border-width"]?a["border-width"].pxValue*t+i:0;return o+s}},renderedHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.height();return t*this.cy().zoom()}},renderedOuterHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.outerHeight();return t*this.cy().zoom()}},renderedBoundingBox:function(e){var t=this.boundingBox(e),i=this.cy(),n=i.zoom(),r=i.pan(),a=t.x1*n+r.x,o=t.x2*n+r.x,s=t.y1*n+r.y,l=t.y2*n+r.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},boundingBox:function(e){var t=this,i=t._private.cy,n=i._private,r=n.styleEnabled;e=e||{};var a=void 0===e.includeNodes?!0:e.includeNodes,o=void 0===e.includeEdges?!0:e.includeEdges,s=void 0===e.includeLabels?!0:e.includeLabels;r&&n.renderer.recalculateRenderedStyle(this);for(var l=1/0,u=-1/0,h=1/0,c=-1/0,d=0;d<t.length;d++){var p,f,g,v,m,y,b=t[d],x=b._private,_=r?x.style.display.value:"element",w="nodes"===x.group,k=!1;if("none"!==_){if(w&&a){k=!0;var C=x.position;m=C.x,y=C.y;var D=b.outerWidth(),T=D/2,S=b.outerHeight(),E=S/2;p=m-T,f=m+T,g=y-E,v=y+E,l=l>p?p:l,u=f>u?f:u,h=h>g?g:h,c=v>c?v:c}else if(b.isEdge()&&o){k=!0;var P=b._private.source._private.position,N=b._private.target._private.position,M=b._private.rstyle||{};if(p=P.x,f=N.x,g=P.y,v=N.y,p>f){var I=p;p=f,f=I}if(g>v){var I=g;g=v,v=I}if(l=l>p?p:l,u=f>u?f:u,h=h>g?g:h,c=v>c?v:c,r)for(var z=M.bezierPts||[],D=b._private.style.width.pxValue,A=D/2,O=0;O<z.length;O++){var L=z[O];p=L.x-A,f=L.x+A,g=L.y-A,v=L.y+A,l=l>p?p:l,u=f>u?f:u,h=h>g?g:h,c=v>c?v:c}}if(r){var B=b._private.style,M=b._private.rstyle,R=B.content.strValue,H=B["font-size"],W=B["text-halign"],F=B["text-valign"],j=M.labelWidth,Y=M.labelHeight,q=M.labelX,X=M.labelY;if(k&&s&&R&&H&&null!=Y&&null!=j&&null!=q&&null!=X&&W&&F){var V,$,U,K,G=Y,Z=j;if(b.isEdge())V=q-Z/2,$=q+Z/2,U=X-G/2,K=X+G/2;else{switch(W.value){case"left":V=q-Z,$=q;break;case"center":V=q-Z/2,$=q+Z/2;break;case"right":V=q,$=q+Z}switch(F.value){case"top":U=X-G,K=X;break;case"center":U=X-G/2,K=X+G/2;break;case"bottom":U=X,K=X+G}}l=l>V?V:l,u=$>u?$:u,h=h>U?U:h,c=K>c?K:c}}}}return{x1:l,x2:u,y1:h,y2:c,w:u-l,h:c-h}}}),e.elesfn.modelPosition=e.elesfn.position,e.elesfn.modelPositions=e.elesfn.positions}(n),function(e){"use strict";function t(e){return function(t){var i=this;if(void 0===t&&(t=!0),0!==i.length&&i.isNode()&&!i.removed()){for(var n=0,r=i[0],a=r._private.edges,o=0;o<a.length;o++){var s=a[o];(t||!s.isLoop())&&(n+=e(r,s))}return n}}}function i(e,t){return function(i){for(var n,r=this.nodes(),a=0;a<r.length;a++){var o=r[a],s=o[e](i);void 0===s||void 0!==n&&!t(s,n)||(n=s)}return n}}e.fn.eles({degree:t(function(e,t){return t.source().same(t.target())?2:1}),indegree:t(function(e,t){return t.target().same(e)?1:0}),outdegree:t(function(e,t){return t.source().same(e)?1:0})}),e.fn.eles({minDegree:i("degree",function(e,t){return t>e}),maxDegree:i("degree",function(e,t){return e>t}),minIndegree:i("indegree",function(e,t){return t>e}),maxIndegree:i("indegree",function(e,t){return e>t
}),minOutdegree:i("outdegree",function(e,t){return t>e}),maxOutdegree:i("outdegree",function(e,t){return e>t})}),e.fn.eles({totalDegree:function(e){for(var t=0,i=this.nodes(),n=0;n<i.length;n++)t+=i[n].degree(e);return t}})}(n),function(e){"use strict";e.fn.eles({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger(),rtrigger:function(e,t){return 0!==this.length?(this.cy().notify({type:e,collection:this}),this.trigger(e,t),this):void 0}}),e.elesfn.bind=e.elesfn.on,e.elesfn.unbind=e.elesfn.off}(n),function(e){"use strict";e.fn.eles({nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(t){var i=this._private.cy;if(e.is.fn(t)){for(var n=[],r=0;r<this.length;r++){var a=this[r];t.apply(a,[r,a])&&n.push(a)}return new e.Collection(i,n)}return e.is.string(t)||e.is.elementOrCollection(t)?new e.Selector(t).filter(this):void 0===t?this:new e.Collection(i)},not:function(t){var i=this._private.cy;if(t){e.is.string(t)&&(t=this.filter(t));for(var n=[],r=0;r<this.length;r++){var a=this[r],o=t._private.ids[a.id()];o||n.push(a)}return new e.Collection(i,n)}return this},intersect:function(t){var i=this._private.cy;if(e.is.string(t)){var n=t;return this.filter(n)}for(var r=[],a=this,o=t,s=this.length<t.length,l=s?o._private.ids:a._private.ids,u=s?a:o,h=0;h<u.length;h++){var c=u[h]._private.data.id,d=l[c];d&&r.push(d)}return new e.Collection(i,r)},add:function(t){var i=this._private.cy;if(!t)return this;if(e.is.string(t)){var n=t;t=i.elements(n)}for(var r=[],a=0;a<this.length;a++)r.push(this[a]);for(var a=0;a<t.length;a++){var o=!this._private.ids[t[a].id()];o&&r.push(t[a])}return new e.Collection(i,r)},merge:function(t){var i=this._private,n=i.cy;if(!t)return this;if(e.is.string(t)){var r=t;t=n.elements(r)}for(var a=0;a<t.length;a++){var o=t[a],s=o.id(),l=!i.ids[s];if(l){var u=this.length++;this[u]=o,i.ids[s]=o,i.indexes[s]=u}}return this},unmergeOne:function(e){e=e[0];var t=this._private,i=e.id(),n=t.indexes[i];if(null==n)return this;this[n]=void 0,t.ids[i]=void 0,t.indexes[i]=void 0;var r=n===this.length-1;if(this.length>1&&!r){var a=this.length-1,o=this[a];this[a]=void 0,this[n]=o,t.indexes[o.id()]=n}return this.length--,this},unmerge:function(t){var i=this._private.cy;if(!t)return this;if(e.is.string(t)){var n=t;t=i.elements(n)}for(var r=0;r<t.length;r++)this.unmergeOne(t[r]);return this},map:function(e,t){for(var i=[],n=this,r=0;r<n.length;r++){var a=n[r],o=e.apply(t,[a,r,n]);i.push(o)}return i},stdFilter:function(t,i){for(var n=[],r=this,a=this._private.cy,o=0;o<r.length;o++){var s=r[o],l=t.apply(i,[s,o,r]);l&&n.push(s)}return new e.Collection(a,n)},max:function(e,t){for(var i,n=-1/0,r=this,a=0;a<r.length;a++){var o=r[a],s=e.apply(t,[o,a,r]);s>n&&(n=s,i=o)}return{value:n,ele:i}},min:function(e,t){for(var i,n=1/0,r=this,a=0;a<r.length;a++){var o=r[a],s=e.apply(t,[o,a,r]);n>s&&(n=s,i=o)}return{value:n,ele:i}}})}(n),function(e){"use strict";e.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];return e?e._private.group:void 0}})}(n),function(e){"use strict";e.fn.eles({each:function(t){if(e.is.fn(t))for(var i=0;i<this.length;i++){var n=this[i],r=t.apply(n,[i,n]);if(r===!1)break}return this},forEach:function(t,i){if(e.is.fn(t))for(var n=0;n<this.length;n++){var r=this[n],a=t.apply(i,[r,n,this]);if(a===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(t,i){var n=[],r=this.length;null==i&&(i=r),null==t&&(t=0),0>t&&(t=r+t),0>i&&(i=r+i);for(var a=t;a>=0&&i>a&&r>a;a++)n.push(this[a]);return new e.Collection(this.cy(),n)},size:function(){return this.length},eq:function(t){return this[t]||new e.Collection(this.cy())},first:function(){return this[0]||new e.Collection(this.cy())},last:function(){return this[this.length-1]||new e.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!e.is.fn(t))return this;var i=this.cy(),n=this.toArray().sort(t);return new e.Collection(i,n)},sortByZIndex:function(){return this.sort(e.Collection.zIndexSort)},zDepth:function(){var e=this[0];if(!e)return void 0;var t=e._private,i=t.group;if("nodes"===i)return t.data.parent?e.parents().size():0;var n=t.source,r=t.target,a=n._private.data.parent?n.parents().size():0,o=r._private.data.parent?r.parents().size():0;return Math.max(a-1,o-1,0)+.5}}),e.Collection.zIndexSort=function(e,t){var i=e.cy(),n=e._private,r=t._private,a=n.style["z-index"].value-r.style["z-index"].value,o=0,s=0,l=i.hasCompoundNodes(),u="nodes"===n.group,h="edges"===n.group,c="nodes"===r.group,d="edges"===r.group;l&&(o=e.zDepth(),s=t.zDepth());var p=o-s,f=0===p;return f?u&&d?1:h&&c?-1:0===a?n.index-r.index:a:p}}(n),function(e){"use strict";e.fn.eles({layoutPositions:function(t,i,n){var r=this.nodes(),a=this.cy();if(t.trigger({type:"layoutstart",layout:t}),i.animate){for(var o=0;o<r.length;o++){var s=r[o],l=o===r.length-1,u=n.call(s,o,s),h=s.position();e.is.number(h.x)&&e.is.number(h.y)||s.silentPosition({x:0,y:0}),s.animate({position:u},{duration:i.animationDuration,step:l?function(){i.fit&&a.fit(i.padding)}:void 0,complete:l?function(){null!=i.zoom&&a.zoom(i.zoom),i.pan&&a.pan(i.pan),i.fit&&a.fit(i.padding),t.one("layoutstop",i.stop),t.trigger({type:"layoutstop",layout:t})}:void 0})}t.one("layoutready",i.ready),t.trigger({type:"layoutready",layout:t})}else r.positions(n),i.fit&&a.fit(i.padding),null!=i.zoom&&a.zoom(i.zoom),i.pan&&a.pan(i.pan),t.one("layoutready",i.ready),t.trigger({type:"layoutready",layout:t}),t.one("layoutstop",i.stop),t.trigger({type:"layoutstop",layout:t});return this},layout:function(t){var i=this.cy();return i.layout(e.util.extend({},t,{eles:this})),this},makeLayout:function(t){var i=this.cy();return i.makeLayout(e.util.extend({},t,{eles:this}))}})}(n),function(e){"use strict";e.fn.eles({updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){for(var i=t._private.batchStyleEles,n=0;n<this.length;n++){var r=this[n];i.ids[r._private.id]||i.push(r)}return this}var a=t.style();e=e||void 0===e?!0:!1,a.apply(this);var o=this.updateCompoundBounds(),s=o.length>0?this.add(o):this;return e?s.rtrigger("style"):s.trigger("style"),this},updateMappers:function(e){var t=this._private.cy,i=t.style();if(e=e||void 0===e?!0:!1,!t.styleEnabled())return this;i.updateMappers(this);var n=this.updateCompoundBounds(),r=n.length>0?this.add(n):this;return e?r.rtrigger("style"):r.trigger("style"),this},renderedCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var i=this[0];if(i){var n=i.cy().style().getRenderedStyle(i);return void 0===e?n:n[e]}},css:function(t,i){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,a=n.style();if(e.is.plainObject(t)){var o=t;a.applyBypass(this,o,r);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(e.is.string(t)){if(void 0===i){var u=this[0];return u?u._private.style[t].strValue:void 0}a.applyBypass(this,t,i,r);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(void 0===t){var u=this[0];return u?a.getRawStyle(u):void 0}return this},removeCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var i=!1,n=t.style(),r=this;if(void 0===e)for(var a=0;a<r.length;a++){var o=r[a];n.removeAllBypasses(o,i)}else{e=e.split(/\s+/);for(var a=0;a<r.length;a++){var o=r[a];n.removeBypasses(o,e,i)}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;return l.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],i=e.hasCompoundNodes();if(t){var n=t._private.style;if("visible"!==n.visibility.value||"element"!==n.display.value)return!1;if("nodes"===t._private.group){if(!i)return!0;var r=t._private.data.parent?t.parents():null;if(r)for(var a=0;a<r.length;a++){var o=r[a],s=o._private.style,l=s.visibility.value,u=s.display.value;if("visible"!==l||"element"!==u)return!1}return!0}var h=t._private.source,c=t._private.target;return h.visible()&&c.visible()}},hidden:function(){var e=this[0];return e?!e.visible():void 0},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),i=this[0];if(i){var n=i._private,r=n.style.opacity.value;if(!t)return r;var a=n.data.parent?i.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s._private.style.opacity.value;r=l*r}return r}},transparent:function(){var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e._private.style.opacity.value:void 0},isFullAutoParent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];if(t){var i="auto"===t._private.style.width.value,n="auto"===t._private.style.height.value;return t.isParent()&&i&&n}}}),e.elesfn.style=e.elesfn.css,e.elesfn.renderedStyle=e.elesfn.renderedCss,e.elesfn.removeStyle=e.elesfn.removeCss}(n),function(e){"use strict";function t(e){return function(){var t=arguments;if(2===t.length){var i=t[0],n=t[1];this.bind(e.event,i,n)}else if(1===t.length){var n=t[0];this.bind(e.event,n)}else if(0===t.length){for(var r=0;r<this.length;r++){var a=this[r],o=!e.ableField||a._private[e.ableField];if(e.overrideAble){var s=e.overrideAble(a);if(void 0!==s&&(o=s,!s))return this}o&&(a._private[e.field]=e.value)}this.updateStyle(),this.trigger(e.event)}return this}}function i(i){e.elesfn[i.field]=function(){var e=this[0];if(e){if(i.overrideField){var t=i.overrideField(e);if(void 0!==t)return t}return e._private[i.field]}},e.elesfn[i.on]=t({event:i.on,field:i.field,ableField:i.ableField,overrideAble:i.overrideAble,value:!0}),e.elesfn[i.off]=t({event:i.off,field:i.field,ableField:i.ableField,overrideAble:i.overrideAble,value:!1})}i({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),i({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"}),i({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),i({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),e.elesfn.grabbed=function(){var e=this[0];return e?e._private.grabbed:void 0},i({field:"active",on:"activate",off:"unactivate"}),e.elesfn.inactive=function(){var e=this[0];return e?!e._private.active:void 0}}(n),function(e){"use strict";function t(t){return function(i){for(var n=[],r=this._private.cy,a=0;a<this.length;a++){var o=this[a],s=o._private[t.attr];s&&n.push(s)}return new e.Collection(r,n,{unique:!0}).filter(i)}}function i(t){return function(i){var n=[],r=this._private.cy,a=t||{};e.is.string(i)&&(i=r.$(i));for(var o=i.connectedEdges(),s=this._private.ids,l=0;l<o.length;l++){var u,h=o[l],c=h._private.data;if(a.thisIs){var d=c[a.thisIs];u=s[d]}else u=s[c.source]||s[c.target];u&&n.push(h)}return new e.Collection(r,n,{unique:!0})}}function n(t){var i={codirected:!1};return t=e.util.extend({},i,t),function(i){for(var n=this._private.cy,r=[],a=this.edges(),o=t,s=0;s<a.length;s++)for(var l=a[s],u=l.source()[0],h=u.id(),c=l.target()[0],d=c.id(),p=u._private.edges,f=0;f<p.length;f++){var g=p[f],v=g._private.data,m=v.target,y=v.source,b=m===d&&y===h,x=h===m&&d===y;(o.codirected&&b||!o.codirected&&(b||x))&&r.push(g)}return new e.Collection(n,r,{unique:!0}).filter(i)}}e.fn.eles({roots:function(t){for(var i=this,n=[],r=0;r<i.length;r++){var a=i[r];if(a.isNode()){var o=a.connectedEdges(function(){return this.data("target")===a.id()&&this.data("source")!==a.id()}).length>0;o||n.push(a)}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},leaves:function(t){for(var i=this,n=[],r=0;r<i.length;r++){var a=i[r];if(a.isNode()){var o=a.connectedEdges(function(){return this.data("source")===a.id()&&this.data("target")!==a.id()}).length>0;o||n.push(a)}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},outgoers:function(t){for(var i=this,n=[],r=0;r<i.length;r++){var a=i[r],o=a.id();if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l],h=u._private.data.source,c=u._private.data.target;h===o&&c!==o&&(n.push(u),n.push(u.target()[0]))}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},successors:function(t){for(var i=this,n=[],r={};;){var a=i.outgoers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();r[u]||(r[u]=!0,n.push(l),o=!0)}if(!o)break;i=a}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},incomers:function(t){for(var i=this,n=[],r=0;r<i.length;r++){var a=i[r],o=a.id();if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l],h=u._private.data.source,c=u._private.data.target;c===o&&h!==o&&(n.push(u),n.push(u.source()[0]))}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},predecessors:function(t){for(var i=this,n=[],r={};;){var a=i.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();r[u]||(r[u]=!0,n.push(l),o=!0)}if(!o)break;i=a}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)}}),e.fn.eles({neighborhood:function(t){for(var i=[],n=this._private.cy,r=this.nodes(),a=0;a<r.length;a++)for(var o=r[a],s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],h=u.connectedNodes().not(o);h.length>0&&i.push(h[0]),i.push(u[0])}return new e.Collection(n,i,{unique:!0}).filter(t)},closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),e.fn.eles({source:function(e){var t,i=this[0];return i&&(t=i._private.source),t&&e?t.filter(e):t},target:function(e){var t,i=this[0];return i&&(t=i._private.target),t&&e?t.filter(e):t},sources:t({attr:"source"}),targets:t({attr:"target"})}),e.fn.eles({edgesWith:i(),edgesTo:i({thisIs:"source"})}),e.fn.eles({connectedEdges:function(t){for(var i=[],n=this._private.cy,r=this,a=0;a<r.length;a++){var o=r[a];if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l];i.push(u)}}return new e.Collection(n,i,{unique:!0}).filter(t)},connectedNodes:function(t){for(var i=[],n=this._private.cy,r=this,a=0;a<r.length;a++){var o=r[a];o.isEdge()&&(i.push(o.source()[0]),i.push(o.target()[0]))}return new e.Collection(n,i,{unique:!0}).filter(t)},parallelEdges:n(),codirectedEdges:n({codirected:!0})})}(n),function(e){"use strict";e.fn.eles({fit:function(){},center:function(){}})}(n),function(e){"use strict";e.Minheap=function(t,i,n){return new e.Heap(t,i,e.Heap.minHeapComparator,n)},e.Maxheap=function(t,i,n){return new e.Heap(t,i,e.Heap.maxHeapComparator,n)},e.Heap=function(t,i,n,r){if("undefined"!=typeof n&&"undefined"!=typeof i){"undefined"==typeof r&&(r=e.Heap.idFn);var a,o,s,l=[],u={},h=[],c=0;for(i=this.getArgumentAsCollection(i,t),s=i.length,c=0;s>c;c+=1){if(l.push(r.call(t,i[c],c,i)),a=i[c].id(),u.hasOwnProperty(a))throw"ERROR: Multiple items with the same id found: "+a;u[a]=c,h.push(a)}for(this._private={cy:t,heap:l,pointers:u,elements:h,comparator:n,extractor:r,length:s},c=Math.floor(s/2);c>=0;c-=1)o=this.heapify(c);return o}},e.Heap.idFn=function(e){return e.id()},e.Heap.minHeapComparator=function(e,t){return e>=t},e.Heap.maxHeapComparator=function(e,t){return t>=e},e.fn.heap=function(t){for(var i in t){var n=t[i];e.Heap.prototype[i]=n}},e.heapfn=e.Heap.prototype,e.heapfn.size=function(){return this._private.length},e.heapfn.getArgumentAsCollection=function(t,i){var n;if("undefined"==typeof i&&(i=this._private.cy),e.is.elementOrCollection(t))n=t;else{for(var r=[],a=[].concat.apply([],[t]),o=0;o<a.length;o++){var s=a[o],l=i.getElementById(s);l.length>0&&r.push(l)}n=new e.Collection(i,r)}return n},e.heapfn.isHeap=function(){var e,t,i,n,r,a=this._private.heap,o=a.length,s=this._private.comparator;for(e=0;o>e;e+=1)if(t=2*e+1,i=t+1,n=o>t?s(a[t],a[e]):!0,r=o>i?s(a[i],a[e]):!0,!n||!r)return!1;return!0},e.heapfn.heapSwap=function(e,t){var i=this._private.heap,n=this._private.pointers,r=this._private.elements,a=i[e],o=r[e],s=r[e],l=r[t];i[e]=i[t],r[e]=r[t],n[s]=t,n[l]=e,i[t]=a,r[t]=o},e.heapfn.heapify=function(e,t){var i,n,r,a,o,s,l,u=0,h=!1;for("undefined"==typeof t&&(t=!0),i=this._private.heap,u=i.length,s=this._private.comparator,n=e;!h;)t?(r=2*n+1,a=r+1,o=n,u>r&&!s(i[r],i[o])&&(o=r),u>a&&!s(i[a],i[o])&&(o=a),h=o===n,h||(this.heapSwap(o,n),n=o)):(l=Math.floor((n-1)/2),o=n,h=0>l||s(i[o],i[l]),h||(this.heapSwap(o,l),n=l))},e.heapfn.insert=function(e){var t,i,n,r,a,o=this.getArgumentAsCollection(e),s=o.length;for(a=0;s>a;a+=1){if(t=o[a],i=this._private.heap.length,n=this._private.extractor(t),r=t.id(),this._private.pointers.hasOwnProperty(r))throw"ERROR: Multiple items with the same id found: "+r;this._private.heap.push(n),this._private.elements.push(r),this._private.pointers[r]=i,this.heapify(i,!1)}this._private.length=this._private.heap.length},e.heapfn.getValueById=function(e){if(this._private.pointers.hasOwnProperty(e)){var t=this._private.pointers[e];return this._private.heap[t]}},e.heapfn.contains=function(e){for(var t=this.getArgumentAsCollection(e),i=0;i<t.length;i+=1){var n=t[i].id();if(!this._private.pointers.hasOwnProperty(n))return!1}return!0},e.heapfn.top=function(){return this._private.length>0?{value:this._private.heap[0],id:this._private.elements[0]}:void 0},e.heapfn.pop=function(){if(this._private.length>0){var e,t,i,n=this.top(),r=this._private.length-1;return this.heapSwap(0,r),e=this._private.elements[r],t=this._private.heap[r],i=e,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[i]=void 0,this.heapify(0),n}},e.heapfn.findDirectionHeapify=function(e){var t=Math.floor((e-1)/2),i=this._private.heap,n=0>t||this._private.comparator(i[e],i[t]);this.heapify(e,n)},e.heapfn.edit=function(t,i){for(var n=this.getArgumentAsCollection(t),r=0;r<n.length;r+=1){var a=n[r].id(),o=this._private.pointers[a],s=this._private.heap[o];e.is.number(i)?this._private.heap[o]=i:e.is.fn(i)&&(this._private.heap[o]=i.call(this._private.cy,s,o)),this.findDirectionHeapify(o)}},e.heapfn["delete"]=function(e){for(var t=this.getArgumentAsCollection(e),i=0;i<t.length;i+=1){var n,r,a,o=t[i].id(),s=this._private.pointers[o],l=this._private.length-1;s!==l&&this.heapSwap(s,l),n=this._private.elements[l],r=this._private.heap[l],a=n,this._private.heap.pop(),this._private.elements.pop(),this._private.length=this._private.heap.length,this._private.pointers[a]=void 0,this.findDirectionHeapify(s)}return r}}(n),function(e){"use strict";function t(e){t.CANVAS_LAYERS=5,t.SELECT_BOX=0,t.DRAG=2,t.NODE=4,t.TEXTURE_BUFFER=0,t.BUFFER_COUNT=2,this.options=e,this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:e.cy,container:e.cy.container(),canvases:new Array(t.CANVAS_LAYERS),contexts:new Array(t.CANVAS_LAYERS),canvasNeedsRedraw:new Array(t.CANVAS_LAYERS),bufferCanvases:new Array(t.BUFFER_COUNT),bufferContexts:new Array(t.CANVAS_LAYERS)},this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},this.timeoutData={panTimeout:null},this.dragData={possibleDragElements:[]},this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},this.zoomData={freeToZoom:!1,lastPointerX:null},this.redraws=0,this.showFps=e.showFps,this.bindings=[],this.data.canvasContainer=document.createElement("div");var i=this.data.canvasContainer.style;i.position="absolute",i.zIndex="0",i.overflow="hidden",this.data.container.appendChild(this.data.canvasContainer);for(var n=0;n<t.CANVAS_LAYERS;n++)this.data.canvases[n]=document.createElement("canvas"),this.data.contexts[n]=this.data.canvases[n].getContext("2d"),this.data.canvases[n].style.position="absolute",this.data.canvases[n].setAttribute("data-id","layer"+n),this.data.canvases[n].style.zIndex=String(t.CANVAS_LAYERS-n),this.data.canvasContainer.appendChild(this.data.canvases[n]),this.data.canvasNeedsRedraw[n]=!1;this.data.topCanvas=this.data.canvases[0],this.data.canvases[t.NODE].setAttribute("data-id","layer"+t.NODE+"-node"),this.data.canvases[t.SELECT_BOX].setAttribute("data-id","layer"+t.SELECT_BOX+"-selectbox"),this.data.canvases[t.DRAG].setAttribute("data-id","layer"+t.DRAG+"-drag");for(var n=0;n<t.BUFFER_COUNT;n++)this.data.bufferCanvases[n]=document.createElement("canvas"),this.data.bufferContexts[n]=this.data.bufferCanvases[n].getContext("2d"),this.data.bufferCanvases[n].style.position="absolute",this.data.bufferCanvases[n].setAttribute("data-id","buffer"+n),this.data.bufferCanvases[n].style.zIndex=String(-n-1),this.data.bufferCanvases[n].style.visibility="hidden";this.hideEdgesOnViewport=e.hideEdgesOnViewport,this.hideLabelsOnViewport=e.hideLabelsOnViewport,this.textureOnViewport=e.textureOnViewport,this.wheelSensitivity=e.wheelSensitivity,this.motionBlurEnabled=void 0===e.motionBlur?!0:e.motionBlur,this.forcedPixelRatio=e.pixelRatio,this.motionBlur=!0,this.tapThreshold=e.tapThreshold,this.tapThreshold2=e.tapThreshold*e.tapThreshold,this.tapholdDuration=500,this.load()}t.panOrBoxSelectDelay=400,t.isTouch=e.is.touch();var i="undefined"!=typeof Path2D;t.usePaths=function(){return i},t.prototype.notify=function(i){var n;n=e.is.array(i.type)?i.type:[i.type];for(var r=0;r<n.length;r++){var a=n[r];switch(a){case"destroy":return void this.destroy();case"add":case"remove":case"load":this.updateNodesCache(),this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}("load"===a||"resize"===a)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.data.container))}this.data.canvasNeedsRedraw[t.NODE]=!0,this.data.canvasNeedsRedraw[t.DRAG]=!0,this.redraw()},t.prototype.destroy=function(){this.destroyed=!0;for(var e=0;e<this.bindings.length;e++){var t=this.bindings[e],i=t;i.target.removeEventListener(i.event,i.handler,i.useCapture)}this.removeObserver&&this.removeObserver.disconnect(),this.labelCalcDiv&&document.body.removeChild(this.labelCalcDiv)};for(var n in e.math)t.prototype[n]=e.math[n];e("renderer","canvas",t)}(n),function(e){"use strict";var t=e("renderer","canvas"),i=t.prototype,n=t.arrowShapes={};t.arrowShapeHeight=.3;var r=function(e,t,i,n,r,a){var o=i-r/2,s=i+r/2,l=n-a/2,u=n+a/2;return e>=o&&s>=e&&t>=l&&u>=t},a=function(e,t,i,n,r){n=-n;var a=e*Math.cos(n)-t*Math.sin(n),o=e*Math.sin(n)+t*Math.cos(n),s=a*i,l=o*i,u=s+r.x,h=l+r.y;return{x:u,y:h}};n.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(t,i,r,a,o,s,l,u){var h=n.arrow._points;return e.math.pointInsidePolygon(t,i,h,r,a,o,s,l,u)},roughCollide:r,draw:function(e,t,i,r){for(var o=n.arrow._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,i,r);e.lineTo(l.x,l.y)}},spacing:function(){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.triangle=n.arrow,n["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(t,i,r,a,o,s,l,u){var h=n.triangle._points;return e.math.pointInsidePolygon(t,i,h,r,a,o,s,l,u)},roughCollide:r,draw:function(e,t,i,r){for(var o,s=n.triangle._points,l=0;l<s.length/2;l++){var u=a(s[2*l],s[2*l+1],t,i,r);0===l&&(o=u),e.lineTo(u.x,u.y)}var h=this._ctrlPt,c=a(h[0],h[1],t,i,r);e.quadraticCurveTo(c.x,c.y,o.x,o.y)},spacing:function(){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,i,r,a,o,s,l,u){var h=n["triangle-tee"]._points,c=n["triangle-tee"]._pointsTee,d=e.math.pointInsidePolygon(t,i,c,r,a,o,s,l,u)||e.math.pointInsidePolygon(t,i,h,r,a,o,s,l,u);return d},roughCollide:r,draw:function(e,t,i,r){for(var o=n["triangle-tee"]._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,i,r);e.lineTo(l.x,l.y)}var u=n["triangle-tee"]._pointsTee,h=a(u[0],u[1],t,i,r);e.moveTo(h.x,h.y);for(var s=0;s<u.length/2;s++){var l=a(u[2*s],u[2*s+1],t,i,r);e.lineTo(l.x,l.y)}},spacing:function(){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(t,i,n,r,a,o,s,l){var u=this._points;return e.math.pointInsidePolygon(t,i,u,n,r,a,o,s,l)},roughCollide:r,draw:function(e,t,i,n){for(var r=this._points,o=0;o<r.length/2;o++){var s=a(r[2*o],r[2*o+1],t,i,n);e.lineTo(s.x,s.y)}},spacing:function(){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.none={collide:function(){return!1},roughCollide:function(){return!1},draw:function(){},spacing:function(){return 0},gap:function(){return 0}},n.circle={_baseRadius:.15,collide:function(e,t,i,r,a,o,s,l){if(a!=o){var u=(o+l)/(a+l);return t/=u,r/=u,Math.pow(i-e,2)+Math.pow(r-t,2)<=Math.pow((a+l)*n.circle._baseRadius,2)}return Math.pow(i-e,2)+Math.pow(r-t,2)<=Math.pow((a+l)*n.circle._baseRadius,2)},roughCollide:r,draw:function(e,t,i,r){e.arc(r.x,r.y,n.circle._baseRadius*t,0,2*Math.PI,!1)},spacing:function(e){return i.getArrowWidth(e._private.style.width.pxValue)*n.circle._baseRadius},gap:function(e){return 2*e._private.style.width.pxValue}},n.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(t,i,r,a,o,s,l,u){var h=n.inhibitor._points;return e.math.pointInsidePolygon(t,i,h,r,a,o,s,l,u)},roughCollide:r,draw:function(e,t,i,r){for(var o=n.inhibitor._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,i,r);e.lineTo(l.x,l.y)}},spacing:function(){return 1},gap:function(){return 1}},n.tee=n.inhibitor,n.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(t,i,r,a,o,s,l,u){var h=n.square._points;return e.math.pointInsidePolygon(t,i,h,r,a,o,s,l,u)},roughCollide:r,draw:function(e,t,i,r){for(var o=n.square._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,i,r);e.lineTo(l.x,l.y)}},spacing:function(){return 0},gap:function(e){return 2*e._private.style.width.pxValue}},n.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(t,i,r,a,o,s,l,u){var h=n.diamond._points;return e.math.pointInsidePolygon(t,i,h,r,a,o,s,l,u)},roughCollide:r,draw:function(e,t,i,r){for(var o=n.diamond._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,i,r);e.lineTo(l.x,l.y)}},spacing:function(){return 0},gap:function(e){return e._private.style.width.pxValue}}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.getCachedNodes=function(){var e=this.data,t=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedNodes&&(e.cache.cachedNodes=t.nodes()),e.cache.cachedNodes},t.prototype.updateNodesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedNodes=t.nodes()},t.prototype.getCachedEdges=function(){var e=this.data,t=this.data.cy;return null==e.cache&&(e.cache={}),null==e.cache.cachedEdges&&(e.cache.cachedEdges=t.edges()),e.cache.cachedEdges},t.prototype.updateEdgesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={}),e.cache.cachedEdges=t.edges()}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.projectIntoViewport=function(e,t){var i=this.findContainerClientCoords(),n=i[0],r=i[1],a=e-n,o=t-r;return a-=this.data.cy.pan().x,o-=this.data.cy.pan().y,a/=this.data.cy.zoom(),o/=this.data.cy.zoom(),[a,o]},t.prototype.findContainerClientCoords=function(){var e=this.data.container,t=this.containerBB=this.containerBB||e.getBoundingClientRect();return[t.left,t.top,t.right-t.left,t.bottom-t.top]},t.prototype.invalidateContainerClientCoordsCache=function(){this.containerBB=null},t.prototype.findNearestElement=function(i,n,r){function a(e){var a=e.outerWidth(),o=e.outerHeight(),l=a/2,h=o/2,c=e._private.position;if(c.x-l<=i&&i<=c.x+l&&c.y-h<=n&&n<=c.y+h){var d=!r||e.visible()&&!e.transparent();if(r&&!d)return;var p=t.nodeShapes[s.getNodeShape(e)],g=e._private.style["border-width"].pxValue/2;p.checkPoint(i,n,g,a+f,o+f,c.x,c.y)&&u.push(e)}}function o(o){var l,h=o._private.rscratch,c=o._private.style,f=c.width.pxValue,g=f*f,v=2*f,m=o._private.source,y=o._private.target,b=!1,x=function(){if(void 0!==l)return l;if(!r)return l=!0,!0;var e=o.visible()&&!o.transparent();return e?(l=!0,!0):(l=!1,!1)};if("self"===h.edgeType)((b=e.math.inBezierVicinity(i,n,h.startX,h.startY,h.cp2ax,h.cp2ay,h.selfEdgeMidX,h.selfEdgeMidY,g))&&x()&&g+p>e.math.sqDistanceToQuadraticBezier(i,n,h.startX,h.startY,h.cp2ax,h.cp2ay,h.selfEdgeMidX,h.selfEdgeMidY)||(b=e.math.inBezierVicinity(i,n,h.selfEdgeMidX,h.selfEdgeMidY,h.cp2cx,h.cp2cy,h.endX,h.endY,g))&&x()&&g+p>e.math.sqDistanceToQuadraticBezier(i,n,h.selfEdgeMidX,h.selfEdgeMidY,h.cp2cx,h.cp2cy,h.endX,h.endY))&&u.push(o);else if("haystack"===h.edgeType){var _=c["haystack-radius"].value,w=_/2,k=y._private.position,C=y.width(),D=y.height(),T=m._private.position,S=m.width(),E=m.height(),P=T.x+h.source.x*S*w,N=T.y+h.source.y*E*w,M=k.x+h.target.x*C*w,I=k.y+h.target.y*D*w;(b=e.math.inLineVicinity(i,n,P,N,M,I,v))&&x()&&g+p>e.math.sqDistanceToFiniteLine(i,n,P,N,M,I)&&u.push(o)}else"straight"===h.edgeType?(b=e.math.inLineVicinity(i,n,h.startX,h.startY,h.endX,h.endY,v))&&x()&&g+p>e.math.sqDistanceToFiniteLine(i,n,h.startX,h.startY,h.endX,h.endY)&&u.push(o):"bezier"===h.edgeType&&(b=e.math.inBezierVicinity(i,n,h.startX,h.startY,h.cp2x,h.cp2y,h.endX,h.endY,g))&&x()&&g+p>e.math.sqDistanceToQuadraticBezier(i,n,h.startX,h.startY,h.cp2x,h.cp2y,h.endX,h.endY)&&u.push(o);if(b&&x()&&0===u.length||u[u.length-1]!==o){var z=t.arrowShapes[c["source-arrow-shape"].value],A=t.arrowShapes[c["target-arrow-shape"].value],m=m||o._private.source,y=y||o._private.target,k=y._private.position,T=m._private.position,O=s.getArrowWidth(c.width.pxValue),L=s.getArrowHeight(c.width.pxValue),B=O,R=L;(z.roughCollide(i,n,h.arrowStartX,h.arrowStartY,O,L,[h.arrowStartX-T.x,h.arrowStartY-T.y],0)&&z.collide(i,n,h.arrowStartX,h.arrowStartY,O,L,[h.arrowStartX-T.x,h.arrowStartY-T.y],0)||A.roughCollide(i,n,h.arrowEndX,h.arrowEndY,B,R,[h.arrowEndX-k.x,h.arrowEndY-k.y],0)&&A.collide(i,n,h.arrowEndX,h.arrowEndY,B,R,[h.arrowEndX-k.x,h.arrowEndY-k.y],0))&&u.push(o)}d&&u.length>0&&u[u.length-1]===o&&(a(m),a(y))}for(var s=this,l=this.getCachedZSortedEles(),u=[],h=t.isTouch,c=this.data.cy.zoom(),d=this.data.cy.hasCompoundNodes(),p=(h?256:32)/c,f=(h?16:0)/c,g=l.length-1;g>=0;g--){var v=l[g];if(u.length>0)break;"nodes"===v._private.group?a(l[g]):o(l[g])}return u.length>0?u[u.length-1]:null},t.prototype.getAllInBox=function(i,n,r,a){var o=this.getCachedNodes(),s=this.getCachedEdges(),l=[],u=Math.min(i,r),h=Math.max(i,r),c=Math.min(n,a),d=Math.max(n,a);i=u,r=h,n=c,a=d;for(var p,f=0;f<o.length;f++){var g=o[f]._private.position,v=this.getNodeShape(o[f]),m=this.getNodeWidth(o[f]),y=this.getNodeHeight(o[f]),b=o[f]._private.style["border-width"].pxValue/2,x=t.nodeShapes[v];x.intersectBox(i,n,r,a,m,y,g.x,g.y,b)&&l.push(o[f])}for(var f=0;f<s.length;f++){var _=s[f]._private.rscratch;if("self"==s[f]._private.rscratch.edgeType&&((p=e.math.boxInBezierVicinity(i,n,r,a,_.startX,_.startY,_.cp2ax,_.cp2ay,_.endX,_.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(i,n,r,a,_.startX,_.startY,_.cp2ax,_.cp2ay,_.endX,_.endY,s[f]._private.style.width.pxValue))||(p=e.math.boxInBezierVicinity(i,n,r,a,_.startX,_.startY,_.cp2cx,_.cp2cy,_.endX,_.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(i,n,r,a,_.startX,_.startY,_.cp2cx,_.cp2cy,_.endX,_.endY,s[f]._private.style.width.pxValue)))&&l.push(s[f]),"bezier"==_.edgeType&&(p=e.math.boxInBezierVicinity(i,n,r,a,_.startX,_.startY,_.cp2x,_.cp2y,_.endX,_.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(i,n,r,a,_.startX,_.startY,_.cp2x,_.cp2y,_.endX,_.endY,s[f]._private.style.width.pxValue))&&l.push(s[f]),"straight"==_.edgeType&&(p=e.math.boxInBezierVicinity(i,n,r,a,_.startX,_.startY,.5*_.startX+.5*_.endX,.5*_.startY+.5*_.endY,_.endX,_.endY,s[f]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkStraightEdgeInBox(i,n,r,a,_.startX,_.startY,_.endX,_.endY,s[f]._private.style.width.pxValue))&&l.push(s[f]),"haystack"==_.edgeType){var w=s[f].target()[0],k=w.position(),C=s[f].source()[0],D=C.position(),T=D.x+_.source.x,S=D.y+_.source.y,E=k.x+_.target.x,P=k.y+_.target.y,N=T>=i&&r>=T&&S>=n&&a>=S,M=E>=i&&r>=E&&P>=n&&a>=P;
N&&M&&l.push(s[f])}}return l},t.prototype.getNodeWidth=function(e){return e.width()},t.prototype.getNodeHeight=function(e){return e.height()},t.prototype.getNodeShape=function(e){var t=e._private.style.shape.value;return e.isParent()?"rectangle"===t||"roundrectangle"===t?t:"rectangle":t},t.prototype.getNodePadding=function(e){var t=e._private.style["padding-left"].pxValue,i=e._private.style["padding-right"].pxValue,n=e._private.style["padding-top"].pxValue,r=e._private.style["padding-bottom"].pxValue;return isNaN(t)&&(t=0),isNaN(i)&&(i=0),isNaN(n)&&(n=0),isNaN(r)&&(r=0),{left:t,right:i,top:n,bottom:r}},t.prototype.zOrderSort=e.Collection.zIndexSort,t.prototype.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},t.prototype.getCachedZSortedEles=function(e){var t=this.lastZOrderCachedNodes,i=this.lastZOrderCachedEdges,n=this.getCachedNodes(),r=this.getCachedEdges(),a=[];if(!e&&t&&i&&t===n&&i===r)a=this.cachedZSortedEles;else{for(var o=0;o<n.length;o++)n[o].visible()&&!n[o].transparent()&&a.push(n[o]);for(var o=0;o<r.length;o++)r[o].visible()&&!r[o].transparent()&&a.push(r[o]);a.sort(this.zOrderSort),this.cachedZSortedEles=a}return this.lastZOrderCachedNodes=n,this.lastZOrderCachedEdges=r,a},t.prototype.projectBezier=function(t){function i(e){a.push({x:n(e[0],e[2],e[4],.05),y:n(e[1],e[3],e[5],.05)}),a.push({x:n(e[0],e[2],e[4],.25),y:n(e[1],e[3],e[5],.25)}),a.push({x:n(e[0],e[2],e[4],.4),y:n(e[1],e[3],e[5],.4)});var t={x:n(e[0],e[2],e[4],.5),y:n(e[1],e[3],e[5],.5)};a.push(t),"self"===r.edgeType?(r.midX=r.selfEdgeMidX,r.midY=r.selfEdgeMidY):(r.midX=t.x,r.midY=t.y),a.push({x:n(e[0],e[2],e[4],.6),y:n(e[1],e[3],e[5],.6)}),a.push({x:n(e[0],e[2],e[4],.75),y:n(e[1],e[3],e[5],.75)}),a.push({x:n(e[0],e[2],e[4],.95),y:n(e[1],e[3],e[5],.95)})}var n=e.math.qbezierAt,r=t._private.rscratch,a=t._private.rstyle.bezierPts=[];"self"===r.edgeType?(i([r.startX,r.startY,r.cp2ax,r.cp2ay,r.selfEdgeMidX,r.selfEdgeMidY]),i([r.selfEdgeMidX,r.selfEdgeMidY,r.cp2cx,r.cp2cy,r.endX,r.endY])):"bezier"===r.edgeType&&i([r.startX,r.startY,r.cp2x,r.cp2y,r.endX,r.endY])},t.prototype.recalculateNodeLabelProjection=function(e){var t=e._private.style.content.strValue;if(t&&!t.match(/^\s+$/)){var i,n,r=e.outerWidth(),a=e.outerHeight(),o=e._private.position,s=e._private.style["text-halign"].strValue,l=e._private.style["text-valign"].strValue,u=e._private.rscratch,h=e._private.rstyle;switch(s){case"left":i=o.x-r/2;break;case"right":i=o.x+r/2;break;default:i=o.x}switch(l){case"top":n=o.y-a/2;break;case"bottom":n=o.y+a/2;break;default:n=o.y}u.labelX=i,u.labelY=n,h.labelX=i,h.labelY=n,this.applyLabelDimensions(e)}},t.prototype.recalculateEdgeLabelProjection=function(t){var i=t._private.style.content.strValue;if(i&&!i.match(/^\s+$/)){var n,r,a,o,s=t._private.rscratch,l=t._private.rstyle;if("self"==s.edgeType)a=s.selfEdgeMidX,o=s.selfEdgeMidY;else if("straight"==s.edgeType)a=(s.startX+s.endX)/2,o=(s.startY+s.endY)/2;else if("bezier"==s.edgeType)a=e.math.qbezierAt(s.startX,s.cp2x,s.endX,.5),o=e.math.qbezierAt(s.startY,s.cp2y,s.endY,.5);else if("haystack"==s.edgeType){var u=t._private.source._private.position,h=t._private.target._private.position;a=(u.x+s.source.x+h.x+s.target.x)/2,o=(u.y+s.source.y+h.y+s.target.y)/2}n=a,r=o,s.labelX=n,s.labelY=r,l.labelX=n,l.labelY=r,this.applyLabelDimensions(t)}},t.prototype.applyLabelDimensions=function(e){var t=e._private.rscratch,i=e._private.rstyle,n=this.getLabelText(e),r=this.calculateLabelDimensions(e,n);i.labelWidth=r.width,t.labelWidth=r.width,i.labelHeight=r.height,t.labelHeight=r.height},t.prototype.getLabelText=function(e){var t=e._private.style,i=e._private.style.content.strValue,n=t["text-transform"].value;return"none"==n||("uppercase"==n?i=i.toUpperCase():"lowercase"==n&&(i=i.toLowerCase())),i},t.prototype.calculateLabelDimensions=function(e,t){var i=this,n=e._private.style,r=n["font-style"].strValue,a=n["font-size"].pxValue+"px",o=n["font-family"].strValue,s=n["font-weight"].strValue,l=e._private.labelKey,u=i.labelDimCache||(i.labelDimCache={});if(u[l])return u[l];var h=this.labelCalcDiv;h||(h=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(h));var c=h.style;return c.fontFamily=o,c.fontStyle=r,c.fontSize=a,c.fontWeight=s,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1",h.textContent=t,u[l]={width:h.clientWidth,height:h.clientHeight},u[l]},t.prototype.recalculateRenderedStyle=function(e){for(var t=[],i=[],n={},r=0;r<e.length;r++){var a=e[r],o=a._private,s=o.rscratch,l=o.rstyle,u=o.data.id,h=null!=s.boundingBoxKey&&o.boundingBoxKey===s.boundingBoxKey,c=null!=s.labelKey&&o.labelKey===s.labelKey,d=h&&c;if("nodes"===a._private.group){var p=o.position,f=null!=l.nodeX&&null!=l.nodeY&&p.x===l.nodeX&&p.y===l.nodeY;f&&d||i.push(a),l.nodeX=p.x,l.nodeY=p.y}else{var g=a._private.source._private.position,v=a._private.target._private.position,m=null!=l.srcX&&null!=l.srcY&&g.x===l.srcX&&g.y===l.srcY,y=null!=l.tgtX&&null!=l.tgtY&&v.x===l.tgtX&&v.y===l.tgtY,b=m&&y;if(!b||!d){var x=o.style["curve-style"].value;if("bezier"===x){if(!n[u]){t.push(a),n[u]=!0;for(var _=a.parallelEdges(),r=0;r<_.length;r++){var w=_[r],k=w._private.data.id;n[k]||(t.push(w),n[k]=!0)}}}else t.push(a)}l.srcX=g.x,l.srcY=g.y,l.tgtX=v.x,l.tgtY=v.y}s.boundingBoxKey=o.boundingBoxKey,s.labelKey=o.labelKey}this.recalculateEdgeProjections(t),this.recalculateLabelProjections(i,t)},t.prototype.recalculateLabelProjections=function(e,t){for(var i=0;i<e.length;i++)this.recalculateNodeLabelProjection(e[i]);for(var i=0;i<t.length;i++)this.recalculateEdgeLabelProjection(t[i])},t.prototype.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},t.prototype.findEdgeControlPoints=function(i){if(i&&0!==i.length){for(var n,r={},a=[],o=[],s=0;s<i.length;s++){var l=i[s],u=l._private.style,h="unbundled-bezier"===u["curve-style"].value;if("none"!==u.display.value)if("haystack"!==u["curve-style"].value){var c=l._private.data.source,d=l._private.data.target;n=c>d?d+"-"+c:c+"-"+d,h&&(n="unbundled"+l._private.data.id),null==r[n]&&(r[n]=[],a.push(n)),r[n].push(l),h&&(r[n].hasUnbundled=!0)}else o.push(l)}for(var p,f,g,v,m,y,b,x,_,w,k,C,D,T,S=0;S<a.length;S++){n=a[S];var E=r[n];if(E.sort(function(e,t){return e._private.index-t._private.index}),p=E[0]._private.source,f=E[0]._private.target,p._private.data.id>f._private.data.id){var P=p;p=f,f=P}if(g=p._private.position,v=f._private.position,m=this.getNodeWidth(p),y=this.getNodeHeight(p),b=this.getNodeWidth(f),x=this.getNodeHeight(f),_=t.nodeShapes[this.getNodeShape(p)],w=t.nodeShapes[this.getNodeShape(f)],k=p._private.style["border-width"].pxValue,C=f._private.style["border-width"].pxValue,T=!1,E.length>1&&p!==f||E.hasUnbundled){var N=_.intersectLine(g.x,g.y,m,y,v.x,v.y,k/2),M=w.intersectLine(v.x,v.y,b,x,g.x,g.y,C/2),I={x1:N[0],x2:M[0],y1:N[1],y2:M[1]},z=M[1]-N[1],A=M[0]-N[0],O=Math.sqrt(A*A+z*z),L={x:A,y:z},B={x:L.x/O,y:L.y/O};D={x:-B.y,y:B.x},(w.checkPoint(N[0],N[1],C/2,b,x,v.x,v.y)||_.checkPoint(M[0],M[1],k/2,m,y,g.x,g.y))&&(D={},T=!0)}for(var l,R,s=0;s<E.length;s++){l=E[s],R=l._private.rscratch;var H=R.lastEdgeIndex,W=s,F=R.lastNumEdges,j=E.length,Y=l._private.style,q=Y["control-point-step-size"].pxValue,X=void 0!==Y["control-point-distance"]?Y["control-point-distance"].pxValue:void 0,V=Y["control-point-weight"].value,h="unbundled-bezier"===Y["curve-style"].value,$=R.lastSrcCtlPtX,U=g.x,K=R.lastSrcCtlPtY,G=g.y,Z=R.lastSrcCtlPtW,Q=p.outerWidth(),J=R.lastSrcCtlPtH,et=p.outerHeight(),tt=R.lastTgtCtlPtX,it=v.x,nt=R.lastTgtCtlPtY,rt=v.y,at=R.lastTgtCtlPtW,ot=f.outerWidth(),st=R.lastTgtCtlPtH,lt=f.outerHeight(),ut=R.lastW,ht=Y["control-point-step-size"].pxValue;if(R.badBezier=T?!0:!1,$!==U||K!==G||Z!==Q||J!==et||tt!==it||nt!==rt||at!==ot||st!==lt||ut!==ht||!(H===W&&F===j||h)){if(R.lastSrcCtlPtX=U,R.lastSrcCtlPtY=G,R.lastSrcCtlPtW=Q,R.lastSrcCtlPtH=et,R.lastTgtCtlPtX=it,R.lastTgtCtlPtY=rt,R.lastTgtCtlPtW=ot,R.lastTgtCtlPtH=lt,R.lastEdgeIndex=W,R.lastNumEdges=j,R.lastWidth=ht,p===f){R.edgeType="self";var ct=s,dt=q;h&&(ct=0,dt=X),R.cp2ax=g.x,R.cp2ay=g.y-(1+Math.pow(y,1.12)/100)*dt*(ct/3+1),R.cp2cx=p._private.position.x-(1+Math.pow(m,1.12)/100)*dt*(ct/3+1),R.cp2cy=g.y,R.selfEdgeMidX=(R.cp2ax+R.cp2cx)/2,R.selfEdgeMidY=(R.cp2ay+R.cp2cy)/2}else if(E.length%2!==1||s!==Math.floor(E.length/2)||h){var pt,ft=(.5-E.length/2+s)*q,gt=e.math.signum(ft);pt=h?X:void 0!==X?gt*X:void 0;var vt=void 0!==pt?pt:ft,mt=1-V,yt=V,bt=l._private.source!==p;bt&&(mt=V,yt=1-V);var xt={x:I.x1*mt+I.x2*yt,y:I.y1*mt+I.y2*yt};R.edgeType="bezier",R.cp2x=xt.x+D.x*vt,R.cp2y=xt.y+D.y*vt}else R.edgeType="straight";this.findEndpoints(l);var _t=!e.is.number(R.startX)||!e.is.number(R.startY),wt=!e.is.number(R.arrowStartX)||!e.is.number(R.arrowStartY),kt=!e.is.number(R.endX)||!e.is.number(R.endY),Ct=!e.is.number(R.arrowEndX)||!e.is.number(R.arrowEndY),Dt=3,Tt=this.getArrowWidth(l._private.style.width.pxValue)*t.arrowShapeHeight,St=Dt*Tt,Et=e.math.distance({x:R.cp2x,y:R.cp2y},{x:R.startX,y:R.startY}),Pt=St>Et,Nt=e.math.distance({x:R.cp2x,y:R.cp2y},{x:R.endX,y:R.endY}),Mt=St>Nt;if("bezier"===R.edgeType){var It=!1;if(_t||wt||Pt){It=!0;var zt={x:R.cp2x-g.x,y:R.cp2y-g.y},At=Math.sqrt(zt.x*zt.x+zt.y*zt.y),Ot={x:zt.x/At,y:zt.y/At},Lt=Math.max(m,y),Bt={x:R.cp2x+2*Ot.x*Lt,y:R.cp2y+2*Ot.y*Lt},Rt=_.intersectLine(g.x,g.y,m,y,Bt.x,Bt.y,k/2);Pt?(R.cp2x=R.cp2x+Ot.x*(St-Et),R.cp2y=R.cp2y+Ot.y*(St-Et)):(R.cp2x=Rt[0]+Ot.x*St,R.cp2y=Rt[1]+Ot.y*St)}if(kt||Ct||Mt){It=!0;var zt={x:R.cp2x-v.x,y:R.cp2y-v.y},At=Math.sqrt(zt.x*zt.x+zt.y*zt.y),Ot={x:zt.x/At,y:zt.y/At},Lt=Math.max(m,y),Bt={x:R.cp2x+2*Ot.x*Lt,y:R.cp2y+2*Ot.y*Lt},Ht=w.intersectLine(v.x,v.y,b,x,Bt.x,Bt.y,C/2);Mt?(R.cp2x=R.cp2x+Ot.x*(St-Nt),R.cp2y=R.cp2y+Ot.y*(St-Nt)):(R.cp2x=Ht[0]+Ot.x*St,R.cp2y=Ht[1]+Ot.y*St)}It&&this.findEndpoints(l)}else"straight"===R.edgeType&&(R.midX=(U+it)/2,R.midY=(G+rt)/2);this.projectBezier(l)}}}for(var s=0;s<o.length;s++){var l=o[s],Wt=l._private.rscratch;if(!Wt.haystack){var Ft=2*Math.random()*Math.PI;Wt.source={x:Math.cos(Ft),y:Math.sin(Ft)};var Ft=2*Math.random()*Math.PI;Wt.target={x:Math.cos(Ft),y:Math.sin(Ft)}}Wt.edgeType="haystack",Wt.haystack=!0}return r}},t.prototype.findEndpoints=function(i){var n,r=i.source()[0],a=i.target()[0],o=i._private.style["target-arrow-shape"].value,s=i._private.style["source-arrow-shape"].value,l=a._private.style["border-width"].pxValue,u=r._private.style["border-width"].pxValue,h=i._private.rscratch;if("self"==i._private.rscratch.edgeType){var c=[h.cp2cx,h.cp2cy];n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),c[0],c[1],l/2);var d=e.math.shortenIntersection(n,c,t.arrowShapes[o].spacing(i)),p=e.math.shortenIntersection(n,c,t.arrowShapes[o].gap(i));h.endX=p[0],h.endY=p[1],h.arrowEndX=d[0],h.arrowEndY=d[1];var c=[h.cp2ax,h.cp2ay];n=t.nodeShapes[this.getNodeShape(r)].intersectLine(r._private.position.x,r._private.position.y,this.getNodeWidth(r),this.getNodeHeight(r),c[0],c[1],u/2);var f=e.math.shortenIntersection(n,c,t.arrowShapes[s].spacing(i)),g=e.math.shortenIntersection(n,c,t.arrowShapes[s].gap(i));h.startX=g[0],h.startY=g[1],h.arrowStartX=f[0],h.arrowStartY=f[1]}else if("straight"==h.edgeType){n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),r.position().x,r.position().y,l/2),h.noArrowPlacement=0===n.length?!0:!1;var d=e.math.shortenIntersection(n,[r.position().x,r.position().y],t.arrowShapes[o].spacing(i)),p=e.math.shortenIntersection(n,[r.position().x,r.position().y],t.arrowShapes[o].gap(i));h.endX=p[0],h.endY=p[1],h.arrowEndX=d[0],h.arrowEndY=d[1],n=t.nodeShapes[this.getNodeShape(r)].intersectLine(r._private.position.x,r._private.position.y,this.getNodeWidth(r),this.getNodeHeight(r),a.position().x,a.position().y,u/2),h.noArrowPlacement=0===n.length?!0:!1;var f=e.math.shortenIntersection(n,[a.position().x,a.position().y],t.arrowShapes[s].spacing(i)),g=e.math.shortenIntersection(n,[a.position().x,a.position().y],t.arrowShapes[s].gap(i));h.startX=g[0],h.startY=g[1],h.arrowStartX=f[0],h.arrowStartY=f[1]}else if("bezier"==h.edgeType){var c=[h.cp2x,h.cp2y];n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),c[0],c[1],l/2);var d=e.math.shortenIntersection(n,c,t.arrowShapes[o].spacing(i)),p=e.math.shortenIntersection(n,c,t.arrowShapes[o].gap(i));h.endX=p[0],h.endY=p[1],h.arrowEndX=d[0],h.arrowEndY=d[1],n=t.nodeShapes[this.getNodeShape(r)].intersectLine(r._private.position.x,r._private.position.y,this.getNodeWidth(r),this.getNodeHeight(r),c[0],c[1],u/2);var f=e.math.shortenIntersection(n,c,t.arrowShapes[s].spacing(i)),g=e.math.shortenIntersection(n,c,t.arrowShapes[s].gap(i));h.startX=g[0],h.startY=g[1],h.arrowStartX=f[0],h.arrowStartY=f[1]}else if(h.isArcEdge)return},t.prototype.findEdges=function(e){for(var t=this.getCachedEdges(),i={},n=[],r=0;r<e.length;r++)i[e[r]._private.data.id]=e[r];for(var r=0;r<t.length;r++)(i[t[r]._private.data.source]||i[t[r]._private.data.target])&&n.push(t[r]);return n},t.prototype.getArrowWidth=t.prototype.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},i=t[e];return i?i:(i=Math.max(Math.pow(13.37*e,.9),29),t[e]=i,i)}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.drawEdge=function(e,i,n){var r=i._private.rscratch,a=t.usePaths();if(!r.badBezier&&("bezier"!==r.edgeType&&"straight"!==r.edgeType||!isNaN(r.startX))){var o=i._private.style;if(!(o.width.pxValue<=0)){var s=o["overlay-padding"].pxValue,l=o["overlay-opacity"].value,u=o["overlay-color"].value;if(n){if(0===l)return;this.strokeStyle(e,u[0],u[1],u[2],l),e.lineCap="round","self"!=i._private.rscratch.edgeType||a||(e.lineCap="butt")}else{var h=o["line-color"].value;this.strokeStyle(e,h[0],h[1],h[2],o.opacity.value),e.lineCap="butt"}var c,d,p,f;p=c=i._private.source,f=d=i._private.target;var g=f._private.position,v=f.width(),m=f.height(),y=p._private.position,b=p.width(),x=p.height(),_=o.width.pxValue+(n?2*s:0),w=n?"solid":o["line-style"].value;if(e.lineWidth=_,"haystack"!==r.edgeType,"haystack"===r.edgeType){var k=o["haystack-radius"].value,C=k/2;this.drawStyledEdge(i,e,r.haystackPts=[r.source.x*b*C+y.x,r.source.y*x*C+y.y,r.target.x*v*C+g.x,r.target.y*m*C+g.y],w,_)}else if("self"===r.edgeType){var D=i._private.rscratch,T=[D.startX,D.startY,D.cp2ax,D.cp2ay,D.selfEdgeMidX,D.selfEdgeMidY,D.selfEdgeMidX,D.selfEdgeMidY,D.cp2cx,D.cp2cy,D.endX,D.endY],D=i._private.rscratch;this.drawStyledEdge(i,e,T,w,_)}else if("straight"===r.edgeType){var S=d._private.position.x-c._private.position.x,E=d._private.position.y-c._private.position.y,P=r.endX-r.startX,N=r.endY-r.startY;if(0>S*P+E*N)r.straightEdgeTooShort=!0;else{var D=r;this.drawStyledEdge(i,e,[D.startX,D.startY,D.endX,D.endY],w,_),r.straightEdgeTooShort=!1}}else{var D=r;this.drawStyledEdge(i,e,[D.startX,D.startY,D.cp2x,D.cp2y,D.endX,D.endY],w,_)}"haystack"===r.edgeType?this.drawArrowheads(e,i,n):r.noArrowPlacement!==!0&&void 0!==r.startX&&this.drawArrowheads(e,i,n)}}},t.prototype.drawStyledEdge=function(e,i,n,r){var a,o=e._private.rscratch,s=i,l=!1,u=t.usePaths();if(u){for(var h=n,c=o.pathCacheKey&&h.length===o.pathCacheKey.length,d=c,p=0;d&&p<h.length;p++)o.pathCacheKey[p]!==h[p]&&(d=!1);d?(a=i=o.pathCache,l=!0):(a=i=new Path2D,o.pathCacheKey=h,o.pathCache=a)}if(s.setLineDash)switch(r){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([6,3]);break;case"solid":s.setLineDash([])}l||(i.beginPath&&i.beginPath(),i.moveTo(n[0],n[1]),6===n.length?i.quadraticCurveTo(n[2],n[3],n[4],n[5]):12===n.length?(i.quadraticCurveTo(n[2],n[3],n[4],n[5]),i.quadraticCurveTo(n[8],n[9],n[10],n[11])):i.lineTo(n[2],n[3])),i=s,u?i.stroke(a):i.stroke(),i.setLineDash&&i.setLineDash([])},t.prototype.drawArrowheads=function(e,t,i){function n(i,n,r,a,o){var s=g[i+"-arrow-shape"].value;if("none"!==s){var l=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",c.fillStyle(e,255,255,255,1);var u="hollow"===g[i+"-arrow-fill"].value?"both":"filled",h=g[i+"-arrow-fill"].value;"half-triangle-overshot"===s&&(h="hollow",u="hollow"),c.drawArrowShape(t,i,e,u,g.width.pxValue,g[i+"-arrow-shape"].value,n,r,a,o),e.globalCompositeOperation=l;var d=g[i+"-arrow-color"].value;c.fillStyle(e,d[0],d[1],d[2],g.opacity.value),c.drawArrowShape(t,i,e,h,g.width.pxValue,g[i+"-arrow-shape"].value,n,r,a,o)}}if(!i){var r,a,o,s,l,u,h=t._private.rscratch,c=this,d="haystack"===h.edgeType,p=t.source().position(),f=t.target().position();d?(o=h.haystackPts[0],s=h.haystackPts[1],l=h.haystackPts[2],u=h.haystackPts[3]):(o=h.arrowStartX,s=h.arrowStartY,l=h.arrowEndX,u=h.arrowEndY);var g=t._private.style;r=o-p.x,a=s-p.y,d||isNaN(o)||isNaN(s)||isNaN(r)||isNaN(a)||n("source",o,s,r,a);var v=h.midX,m=h.midY;d&&(v=(o+l)/2,m=(s+u)/2),r=o-l,a=s-u,"self"===h.edgeType&&(r=1,a=-1),isNaN(v)||isNaN(m)||n("mid-target",v,m,r,a),r*=-1,a*=-1,isNaN(v)||isNaN(m)||n("mid-source",v,m,r,a),r=l-f.x,a=u-f.y,d||isNaN(l)||isNaN(u)||isNaN(r)||isNaN(a)||n("target",l,u,r,a)}},t.prototype.drawArrowShape=function(e,i,n,r,a,o,s,l,u,h){var c,d=t.usePaths(),p=e._private.rscratch,f=!1,g=n,v={x:s,y:l},m=Math.asin(h/Math.sqrt(u*u+h*h));0>u?m+=Math.PI/2:m=-(Math.PI/2+m);var y=this.getArrowWidth(a),b=t.arrowShapes[o];if(d){var x=y+"$"+o+"$"+m+"$"+s+"$"+l;p.arrowPathCacheKey=p.arrowPathCacheKey||{},p.arrowPathCache=p.arrowPathCache||{};var _=p.arrowPathCacheKey[i]===x;_?(c=n=p.arrowPathCache[i],f=!0):(c=n=new Path2D,p.arrowPathCacheKey[i]=x,p.arrowPathCache[i]=c)}n.beginPath&&n.beginPath(),f||b.draw(n,y,m,v),!b.leavePathOpen&&n.closePath&&n.closePath(),n=g,("filled"===r||"both"===r)&&(d?n.fill(c):n.fill()),("hollow"===r||"both"===r)&&(n.lineWidth=b.matchEdgeWidth?a:1,n.lineJoin="miter",d?n.stroke(c):n.stroke())}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.getCachedImage=function(e,t){var i=this,n=i.imageCache=i.imageCache||{};if(n[e]&&n[e].image)return n[e].image;var r=n[e]=n[e]||{},a=r.image=new Image;return a.addEventListener("load",t),a.src=e,a},t.prototype.drawInscribedImage=function(e,i,n){var r=this,a=n._private.position.x,o=n._private.position.y,s=n._private.style,l=s["background-fit"].value,u=s["background-position-x"],h=s["background-position-y"],c=s["background-repeat"].value,d=n.width(),p=n.height(),f=n._private.rscratch,g=s["background-clip"].value,v="node"===g,m=s["background-image-opacity"].value,y=i.width,b=i.height;if(0!==y&&0!==b){if("contain"===l){var x=Math.min(d/y,p/b);y*=x,b*=x}else if("cover"===l){var x=Math.max(d/y,p/b);y*=x,b*=x}var _=a-d/2;_+="%"===u.units?(d-y)*u.value/100:u.pxValue;var w=o-p/2;w+="%"===h.units?(p-b)*h.value/100:h.pxValue,f.pathCache&&(_-=a,w-=o,a=0,o=0);var k=e.globalAlpha;if(e.globalAlpha=m,"no-repeat"===c)v&&(e.save(),f.pathCache?e.clip(f.pathCache):(t.nodeShapes[r.getNodeShape(n)].drawPath(e,a,o,d,p),e.clip())),e.drawImage(i,0,0,i.width,i.height,_,w,y,b),v&&e.restore();else{var C=e.createPattern(i,c);e.fillStyle=C,t.nodeShapes[r.getNodeShape(n)].drawPath(e,a,o,d,p),e.translate(_,w),e.fill(),e.translate(-_,-w)}e.globalAlpha=k}}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.drawEdgeText=function(e,t){var i=t._private.style.content.strValue;if(!(!i||i.match(/^\s+$/)||this.hideEdgesOnViewport&&(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var n=t._private.style["font-size"].pxValue*t.cy().zoom(),r=t._private.style["min-zoomed-font-size"].pxValue;if(!(r>n)){e.textAlign="center",e.textBaseline="middle";var a=t._private.rscratch;this.drawText(e,t,a.labelX,a.labelY)}}},t.prototype.drawNodeText=function(e,t){var i=t._private.style.content.strValue;if(i&&!i.match(/^\s+$/)){var n=t._private.style["font-size"].pxValue*t.cy().zoom(),r=t._private.style["min-zoomed-font-size"].pxValue;if(!(r>n)){var a=t._private.style["text-halign"].strValue,o=t._private.style["text-valign"].strValue,s=t._private.rscratch;switch(a){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}switch(o){case"top":e.textBaseline="bottom";break;case"bottom":e.textBaseline="top";break;default:e.textBaseline="middle"}this.drawText(e,t,s.labelX,s.labelY)}}},t.prototype.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var i=0;i<this.fontCaches.length;i++)if(t=this.fontCaches[i],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},t.prototype.setupTextStyle=function(e,t){var i=t.effectiveOpacity(),n=t._private.style,r=n["font-style"].strValue,a=n["font-size"].pxValue+"px",o=n["font-family"].strValue,s=n["font-weight"].strValue,l=n["text-opacity"].value*n.opacity.value*i,u=n["text-outline-opacity"].value*l,h=n.color.value,c=n["text-outline-color"].value,d=t._private.fontKey,p=this.getFontCache(e);p.key!==d&&(e.font=r+" "+s+" "+a+" "+o,p.key=d);var f=String(n.content.value),g=n["text-transform"].value;return"none"==g||("uppercase"==g?f=f.toUpperCase():"lowercase"==g&&(f=f.toLowerCase())),e.lineJoin="round",this.fillStyle(e,h[0],h[1],h[2],l),this.strokeStyle(e,c[0],c[1],c[2],u),f},t.prototype.drawText=function(e,t,i,n){var r=t._private.style,a=t.effectiveOpacity();if(0!==a){var o=this.setupTextStyle(e,t);if(null!=o&&!isNaN(i)&&!isNaN(n)){var s=2*r["text-outline-width"].value;s>0&&(e.lineWidth=s,e.strokeText(o,i,n)),e.fillText(o,i,n)}}}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.drawNode=function(e,i,n){var r,a,o,s=this,l=i._private.style,u=i._private.rscratch,h=t.usePaths(),c=e,d=!1,p=l["overlay-padding"].pxValue,f=l["overlay-opacity"].value,g=l["overlay-color"].value;if(!n||0!==f){var v=i.effectiveOpacity();if(0!==v)if(r=this.getNodeWidth(i),a=this.getNodeHeight(i),e.lineWidth=l["border-width"].pxValue,void 0!==n&&n)f>0&&(this.fillStyle(e,g[0],g[1],g[2],f),t.nodeShapes.roundrectangle.drawPath(e,i._private.position.x,i._private.position.y,r+2*p,a+2*p),e.fill());else{var m=l["background-color"].value,y=l["border-color"].value,b=l["border-style"].value;if(this.fillStyle(e,m[0],m[1],m[2],l["background-opacity"].value*l.opacity.value*v),this.strokeStyle(e,y[0],y[1],y[2],l["border-opacity"].value*l.opacity.value*v),e.lineJoin="miter",e.setLineDash)switch(b){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var x=l["background-image"].value[2]||l["background-image"].value[1],_=l.shape.strValue,w=i._private.position;if(h){var k=_+"$"+r+"$"+a;e.translate(w.x,w.y),u.pathCacheKey===k?(o=e=u.pathCache,d=!0):(o=e=new Path2D,u.pathCacheKey=k,u.pathCache=o)}if(!d){var C=w;h&&(C={x:0,y:0}),t.nodeShapes[this.getNodeShape(i)].drawPath(e,C.x,C.y,r,a)}if(e=c,h?e.fill(o):e.fill(),void 0!==x){var D=this.getCachedImage(x,function(){s.data.canvasNeedsRedraw[t.NODE]=!0,s.data.canvasNeedsRedraw[t.DRAG]=!0,s.redraw()});D.complete&&this.drawInscribedImage(e,D,i)}var T=l["background-blacken"].value,S=l["border-width"].pxValue;if(this.hasPie(i)&&(this.drawPie(e,i),(0!==T||0!==S)&&(h||t.nodeShapes[this.getNodeShape(i)].drawPath(e,w.x,w.y,r,a))),T>0?(this.fillStyle(e,0,0,0,T),h?e.fill(o):e.fill()):0>T&&(this.fillStyle(e,255,255,255,-T),h?e.fill(o):e.fill()),S>0&&(h?e.stroke(o):e.stroke(),"double"===b)){e.lineWidth=l["border-width"].pxValue/3;var E=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",h?e.stroke(o):e.stroke(),e.globalCompositeOperation=E}h&&e.translate(-w.x,-w.y),e.setLineDash&&e.setLineDash([])}}},t.prototype.hasPie=function(e){return e=e[0],e._private.hasPie},t.prototype.drawPie=function(i,n){n=n[0];var r=n._private.style["pie-size"],a=this.getNodeWidth(n),o=this.getNodeHeight(n),s=n._private.position.x,l=n._private.position.y,u=Math.min(a,o)/2,h=0,c=t.usePaths();c&&(s=0,l=0),"%"===r.units?u=u*r.value/100:void 0!==r.pxValue&&(u=r.pxValue/2);for(var d=1;d<=e.style.pieBackgroundN;d++){var p=n._private.style["pie-"+d+"-background-size"].value,f=n._private.style["pie-"+d+"-background-color"].value,g=n._private.style["pie-"+d+"-background-opacity"].value,v=p/100,m=1.5*Math.PI+2*Math.PI*h,y=2*Math.PI*v,b=m+y;0===p||h>=1||h+v>1||(i.beginPath(),i.moveTo(s,l),i.arc(s,l,u,m,b),i.closePath(),this.fillStyle(i,f[0],f[1],f[2],g),i.fill(),h+=v)}}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},t.prototype.paintCache=function(e){for(var t,i=this.paintCaches=this.paintCaches||[],n=!0,r=0;r<i.length;r++)if(t=i[r],t.context===e){n=!1;break}return n&&(t={context:e},i.push(t)),t},t.prototype.fillStyle=function(e,t,i,n,r){e.fillStyle="rgba("+t+","+i+","+n+","+r+")"},t.prototype.strokeStyle=function(e,t,i,n,r){e.strokeStyle="rgba("+t+","+i+","+n+","+r+")"},t.prototype.matchCanvasSize=function(e){var i,n=this.data,r=e.clientWidth,a=e.clientHeight,o=this.getPixelRatio(),s=r*o,l=a*o;if(s!==this.canvasWidth||l!==this.canvasHeight){this.fontCaches=null;var u=n.canvasContainer;u.style.width=r+"px",u.style.height=a+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)i=n.canvases[h],(i.width!==s||i.height!==l)&&(i.width=s,i.height=l,i.style.width=r+"px",i.style.height=a+"px");for(var h=0;h<t.BUFFER_COUNT;h++)i=n.bufferCanvases[h],(i.width!==s||i.height!==l)&&(i.width=s,i.height=l,i.style.width=r+"px",i.style.height=a+"px");this.textureMult=1,1>=o&&(i=n.bufferCanvases[t.TEXTURE_BUFFER],this.textureMult=2,i.width=s*this.textureMult,i.height=l*this.textureMult),this.canvasWidth=s,this.canvasHeight=l}},t.prototype.renderTo=function(e,t,i,n){this.redraw({forcedContext:e,forcedZoom:t,forcedPan:i,drawAllLayers:!0,forcedPxRatio:n})},t.prototype.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},t.minRedrawLimit=1e3/60,t.maxRedrawLimit=1e3,t.motionBlurDelay=100,t.prototype.redraw=function(i){function n(){function i(e,t){if(e.setTransform(1,0,0,1,0,0),"motionBlur"===t){var i=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",u.fillStyle(e,255,255,255,.666),e.fillRect(0,0,u.canvasWidth,u.canvasHeight),e.globalCompositeOperation=i}else r||void 0!==t&&!t||e.clearRect(0,0,u.canvasWidth,u.canvasHeight);a||(e.translate(x.x,x.y),e.scale(y,y)),l&&e.translate(l.x,l.y),s&&e.scale(s,s)}function n(e,t){for(var i=e.eles,n=0;n<i.length;n++){var r=i[n];r.isNode()?(u.drawNode(t,r),z||u.drawNodeText(t,r),u.drawNode(t,r,!0)):I||(u.drawEdge(t,r),z||u.drawEdgeText(t,r),u.drawEdge(t,r,!0))}}var g=u.getCachedEdges(),v=c.style()._private.coreStyle,m=c.zoom(),y=void 0!==s?s:m,b=c.pan(),x={x:b.x,y:b.y};l&&(x=l),y*=h,x.x*=h,x.y*=h;var w={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}},k=u.textureOnViewport&&!r&&(u.pinching||u.hoverData.dragging||u.swipePanning||u.data.wheelZooming);if(k){var C;if(!u.textureCache){u.textureCache={},C=u.textureCache.bb=c.elements().boundingBox(),u.textureCache.texture=u.data.bufferCanvases[t.TEXTURE_BUFFER];var D=u.data.bufferContexts[t.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,u.canvasWidth*u.textureMult,u.canvasHeight*u.textureMult),u.redraw({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:h*u.textureMult});var T=u.textureCache.viewport={zoom:c.zoom(),pan:c.pan(),width:u.canvasWidth,height:u.canvasHeight};T.mpan={x:(0-T.pan.x)/T.zoom,y:(0-T.pan.y)/T.zoom}}p[t.DRAG]=!1,p[t.NODE]=!1;var S=d.contexts[t.NODE],E=u.textureCache.texture,T=u.textureCache.viewport;C=u.textureCache.bb,S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,T.width,T.height);var P=v["outside-texture-bg-color"].value,N=v["outside-texture-bg-opacity"].value;u.fillStyle(S,P[0],P[1],P[2],N),S.fillRect(0,0,T.width,T.height);var m=c.zoom();i(S,!1),S.clearRect(T.mpan.x,T.mpan.y,T.width/T.zoom/h,T.height/T.zoom/h),S.drawImage(E,T.mpan.x,T.mpan.y,T.width/T.zoom/h,T.height/T.zoom/h)}else u.textureOnViewport&&!r&&(u.textureCache=null);var M=u.pinching||u.hoverData.dragging||u.swipePanning||u.data.wheelZooming||u.hoverData.draggingEles,I=u.hideEdgesOnViewport&&M,z=u.hideLabelsOnViewport&&M;if(p[t.DRAG]||p[t.NODE]||a||o){I||u.findEdgeControlPoints(g);for(var A=u.getCachedZSortedEles(),O=c.extent(),L=0;L<A.length;L++){var B,R=A[L],C=r?null:R.boundingBox(),H=r?!0:e.math.boundingBoxesIntersect(O,C);H&&(B=R._private.rscratch.inDragLayer?w.drag:w.nondrag,B.eles.push(R))}}var W=p[t.DRAG]&&!p[t.NODE]&&f&&!u.clearedNodeLayerForMotionBlur;if(W&&(u.clearedNodeLayerForMotionBlur=!0),p[t.NODE]||a||o||W){var S=r||d.contexts[t.NODE];i(S,f&&!W?"motionBlur":void 0),n(w.nondrag,S),a||(p[t.NODE]=!1)}if(!o&&(p[t.DRAG]||a)){var S=r||d.contexts[t.DRAG];i(S,f?"motionBlur":void 0),n(w.drag,S),a||(p[t.DRAG]=!1)}if(u.showFps||!o&&p[t.SELECT_BOX]&&!a){var S=r||d.contexts[t.SELECT_BOX];if(i(S),1==d.select[4]&&u.hoverData.selecting){var m=d.cy.zoom(),F=v["selection-box-border-width"].value/m;S.lineWidth=F,S.fillStyle="rgba("+v["selection-box-color"].value[0]+","+v["selection-box-color"].value[1]+","+v["selection-box-color"].value[2]+","+v["selection-box-opacity"].value+")",S.fillRect(d.select[0],d.select[1],d.select[2]-d.select[0],d.select[3]-d.select[1]),F>0&&(S.strokeStyle="rgba("+v["selection-box-border-color"].value[0]+","+v["selection-box-border-color"].value[1]+","+v["selection-box-border-color"].value[2]+","+v["selection-box-opacity"].value+")",S.strokeRect(d.select[0],d.select[1],d.select[2]-d.select[0],d.select[3]-d.select[1]))}if(d.bgActivePosistion&&!u.hoverData.selecting){var m=d.cy.zoom(),j=d.bgActivePosistion;S.fillStyle="rgba("+v["active-bg-color"].value[0]+","+v["active-bg-color"].value[1]+","+v["active-bg-color"].value[2]+","+v["active-bg-opacity"].value+")",S.beginPath(),S.arc(j.x,j.y,v["active-bg-size"].pxValue/m,0,2*Math.PI),S.fill()}var Y=u.averageRedrawTime;if(u.showFps&&Y){Y=Math.round(Y);var q=Math.round(1e3/Y);S.setTransform(1,0,0,1,0,0),S.fillStyle="rgba(255, 0, 0, 0.75)",S.strokeStyle="rgba(255, 0, 0, 0.75)",S.lineWidth=1,S.fillText("1 frame = "+Y+" ms = "+q+" fps",0,20);var X=60;S.strokeRect(0,30,250,20),S.fillRect(0,30,250*Math.min(q/X,1),20)}a||(p[t.SELECT_BOX]=!1)}var V=+new Date;void 0===u.averageRedrawTime&&(u.averageRedrawTime=V-_),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0),u.redrawTotalTime+=V-_,u.lastRedrawTime=V-_,u.averageRedrawTime=u.averageRedrawTime/2+(V-_)/2,u.currentlyDrawing=!1,u.clearingMotionBlur&&(u.clearingMotionBlur=!1,u.motionBlurCleared=!0,u.motionBlur=!0),f&&(u.motionBlurTimeout=setTimeout(function(){u.motionBlurTimeout=null,u.clearedNodeLayerForMotionBlur=!1,u.motionBlur=!1,u.clearingMotionBlur=!0,p[t.NODE]=!0,p[t.DRAG]=!0,u.redraw()},t.motionBlurDelay))}i=i||{};var r=i.forcedContext,a=i.drawAllLayers,o=i.drawOnlyNodeLayer,s=i.forcedZoom,l=i.forcedPan,u=this,h=void 0===i.forcedPxRatio?this.getPixelRatio():i.forcedPxRatio,c=u.data.cy,d=u.data,p=d.canvasNeedsRedraw,f=void 0!==i.motionBlur?i.motionBlur:u.motionBlur;f=f&&!r&&u.motionBlurEnabled,f&&u.motionBlurTimeout&&clearTimeout(u.motionBlurTimeout),!r&&this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=null,void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var g=t.minRedrawLimit,v=t.maxRedrawLimit,m=this.averageRedrawTime;m=g>m?g:m,m=v>m?m:v,void 0===this.lastDrawTime&&(this.lastDrawTime=0);var y=+new Date,b=y-this.lastDrawTime,x=b>=m;if(!r){if(!x||this.currentlyDrawing)return void(this.redrawTimeout=setTimeout(function(){u.redraw()},m));this.lastDrawTime=y,this.currentlyDrawing=!0}var _=+new Date;r?n():e.util.requestAnimationFrame(n),r||u.initrender||(u.initrender=!0,c.trigger("initrender"))}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.drawPolygonPath=function(e,t,i,n,r,a){var o=n/2,s=r/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],i+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],i+s*a[2*l+1]);
e.closePath()},t.prototype.drawPolygon=function(e,t,i,n,r,a){this.drawPolygonPath(e,t,i,n,r,a),e.fill()},t.prototype.drawRoundRectanglePath=function(t,i,n,r,a){var o=r/2,s=a/2,l=e.math.getRoundRectangleRadius(r,a);t.beginPath&&t.beginPath(),t.moveTo(i,n-s),t.arcTo(i+o,n-s,i+o,n,l),t.arcTo(i+o,n+s,i,n+s,l),t.arcTo(i-o,n+s,i-o,n,l),t.arcTo(i-o,n-s,i,n-s,l),t.lineTo(i,n-s),t.closePath()},t.prototype.drawRoundRectangle=function(e,t,i,n,r,a){this.drawRoundRectanglePath(e,t,i,n,r,a),e.fill()}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.createBuffer=function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,[i,i.getContext("2d")]},t.prototype.bufferCanvasImage=function(e){var t=this.data,i=t.cy,n=i.elements().boundingBox(),r=e.full?Math.ceil(n.w):this.data.container.clientWidth,a=e.full?Math.ceil(n.h):this.data.container.clientHeight,o=1;void 0!==e.scale&&(r*=e.scale,a*=e.scale,o=e.scale);var s=document.createElement("canvas");s.width=r,s.height=a,s.style.width=r+"px",s.style.height=a+"px";var l=s.getContext("2d");if(r>0&&a>0)if(l.clearRect(0,0,r,a),e.bg&&(l.fillStyle=e.bg,l.rect(0,0,r,a),l.fill()),l.globalCompositeOperation="source-over",e.full)this.redraw({forcedContext:l,drawAllLayers:!0,forcedZoom:o,forcedPan:{x:-n.x1*o,y:-n.y1*o},forcedPxRatio:1});else{var u=i.pan(),h={x:u.x*o,y:u.y*o},c=i.zoom()*o;this.redraw({forcedContext:l,drawAllLayers:!0,forcedZoom:c,forcedPan:h,forcedPxRatio:1})}return s},t.prototype.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")}}(n),function(e){"use strict";var t=e("renderer","canvas");t.prototype.registerBinding=function(e,t,i,n){this.bindings.push({target:e,event:t,handler:i,useCapture:n}),e.addEventListener(t,i,n)},t.prototype.nodeIsDraggable=function(e){return 0!==e._private.style.opacity.value&&"visible"==e._private.style.visibility.value&&"element"==e._private.style.display.value&&!e.locked()&&e.grabbable()?!0:!1},t.prototype.load=function(){var i=this,n=function(e){var t;if(e.addToList&&i.data.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var n=0;n<e.addToList.length;n++){var r=e.addToList[n];e.addToList.hasId[r.id()]=!0}}t=e.addToList.hasId}return t||{}},r=function(e,t){if(e._private.cy.hasCompoundNodes())for(var i=n(t),r=e.descendants(),a=0;a<r.size();a++){var o=r[a],s=o._private;t.inDragLayer&&(s.rscratch.inDragLayer=!0),t.addToList&&!i[o.id()]&&(t.addToList.push(o),i[o.id()]=!0,s.grabbed=!0);for(var l=s.edges,u=0;t.inDragLayer&&u<l.length;u++)l[u]._private.rscratch.inDragLayer=!0}},a=function(e,t){var i=e._private,a=n(t);t.inDragLayer&&(i.rscratch.inDragLayer=!0),t.addToList&&!a[e.id()]&&(t.addToList.push(e),a[e.id()]=!0,i.grabbed=!0);for(var s=i.edges,l=0;t.inDragLayer&&l<s.length;l++)s[l]._private.rscratch.inDragLayer=!0;r(e,t),o(e,{inDragLayer:!0})},o=function(e,t){var i=e;if(e._private.cy.hasCompoundNodes()){for(;i.parent().nonempty();)i=i.parent()[0];if(i!=e){for(var r=i.descendants().add(i).not(e).not(e.descendants()),a=r.connectedEdges(),o=n(t),s=0;s<r.size();s++)void 0!==t.inDragLayer&&(r[s]._private.rscratch.inDragLayer=t.inDragLayer),t.addToList&&!o[r[s].id()]&&(t.addToList.push(r[s]),o[r[s].id()]=!0,r[s]._private.grabbed=!0);for(var l=0;void 0!==t.inDragLayer&&l<a.length;l++)a[l]._private.rscratch.inDragLayer=t.inDragLayer}}};"undefined"!=typeof MutationObserver?(i.removeObserver=new MutationObserver(function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.removedNodes;if(r)for(var a=0;a<r.length;a++){var o=r[a];if(o===i.data.container){i.destroy();break}}}}),i.removeObserver.observe(i.data.container.parentNode,{childList:!0})):i.registerBinding(i.data.container,"DOMNodeRemoved",function(){i.destroy()}),i.registerBinding(window,"resize",e.util.debounce(function(){i.invalidateContainerClientCoordsCache(),i.matchCanvasSize(i.data.container),i.data.canvasNeedsRedraw[t.NODE]=!0,i.redraw()},100));for(var s=function(e){i.registerBinding(e,"scroll",function(){i.invalidateContainerClientCoordsCache()})},l=i.data.cy.container();s(l),l.parentNode;)l=l.parentNode;i.registerBinding(i.data.container,"contextmenu",function(e){e.preventDefault()});var u=function(){return 0!==i.data.select[4]};i.registerBinding(i.data.container,"mousedown",function(n){n.preventDefault(),i.hoverData.capture=!0,i.hoverData.which=n.which;var r=i.data.cy,o=i.projectIntoViewport(n.clientX,n.clientY),s=i.data.select,l=i.findNearestElement(o[0],o[1],!0),u=i.dragData.possibleDragElements;i.hoverData.mdownPos=o;var h=function(){i.hoverData.tapholdCancelled=!1,clearTimeout(i.hoverData.tapholdTimeout),i.hoverData.tapholdTimeout=setTimeout(function(){if(!i.hoverData.tapholdCancelled){var t=i.hoverData.down;t?t.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:o[0],y:o[1]}})):r.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:o[0],y:o[1]}}))}},i.tapholdDuration)};if(3==n.which){i.hoverData.cxtStarted=!0;var c=new e.Event(n,{type:"cxttapstart",cyPosition:{x:o[0],y:o[1]}});l?(l.activate(),l.trigger(c),i.hoverData.down=l):r.trigger(c),i.hoverData.downTime=(new Date).getTime(),i.hoverData.cxtDragged=!1}else if(1==n.which){if(l&&l.activate(),null!=l){if(i.nodeIsDraggable(l)){var d=new e.Event(n,{type:"grab",cyPosition:{x:o[0],y:o[1]}});if(l.isNode()&&!l.selected())u=i.dragData.possibleDragElements=[],a(l,{addToList:u}),l.trigger(d);else if(l.isNode()&&l.selected()){u=i.dragData.possibleDragElements=[];for(var p=r.$(function(){return this.isNode()&&this.selected()}),f=0;f<p.length;f++)i.nodeIsDraggable(p[f])&&a(p[f],{addToList:u});l.trigger(d)}i.data.canvasNeedsRedraw[t.NODE]=!0,i.data.canvasNeedsRedraw[t.DRAG]=!0}l.trigger(new e.Event(n,{type:"mousedown",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:o[0],y:o[1]}}))}else null==l&&r.trigger(new e.Event(n,{type:"mousedown",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:o[0],y:o[1]}}));if(i.hoverData.down=l,i.hoverData.downTime=(new Date).getTime(),null==l||l.isEdge()){s[4]=1;var g=Math.max(0,t.panOrBoxSelectDelay-(+new Date-i.hoverData.downTime));clearTimeout(i.bgActiveTimeout),r.boxSelectionEnabled()||l&&l.isEdge()?i.bgActiveTimeout=setTimeout(function(){l&&l.unactivate(),i.data.bgActivePosistion={x:o[0],y:o[1]},h(),i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,i.redraw()},g):(i.data.bgActivePosistion={x:o[0],y:o[1]},h(),i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,i.redraw())}}s[0]=s[2]=o[0],s[1]=s[3]=o[1]},!1),i.registerBinding(window,"mousemove",e.util.throttle(function(n){var r=!1,o=i.hoverData.capture;if(!o){var s=i.findContainerClientCoords();if(!(n.clientX>s[0]&&n.clientX<s[0]+i.canvasWidth&&n.clientY>s[1]&&n.clientY<s[1]+i.canvasHeight))return;for(var l=i.data.container,u=n.target,h=u.parentNode,c=!1;h;){if(h===l){c=!0;break}h=h.parentNode}if(!c)return}var d=i.data.cy,p=d.zoom(),f=(d.pan(),i.projectIntoViewport(n.clientX,n.clientY)),g=i.data.select,v=null;i.hoverData.draggingEles||(v=i.findNearestElement(f[0],f[1],!0));var m=i.hoverData.last,y=i.hoverData.down,b=[f[0]-g[2],f[1]-g[3]],x=i.dragData.possibleDragElements,_=g[2]-g[0],w=_*_,k=g[3]-g[1],C=k*k,D=w+C,T=D*p*p;i.hoverData.tapholdCancelled=!0;var S=function(){var e=i.hoverData.dragDelta=i.hoverData.dragDelta||[];0===e.length?(e.push(0),e.push(0)):(e[0]+=b[0],e[1]+=b[1])};if(r=!0,null!=v?v.trigger(new e.Event(n,{type:"mousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:f[0],y:f[1]}})):null==v&&d.trigger(new e.Event(n,{type:"mousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:f[0],y:f[1]}})).trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:f[0],y:f[1]}})),3===i.hoverData.which){var E=new e.Event(n,{type:"cxtdrag",cyPosition:{x:f[0],y:f[1]}});y?y.trigger(E):d.trigger(E),i.hoverData.cxtDragged=!0,i.hoverData.cxtOver&&v===i.hoverData.cxtOver||(i.hoverData.cxtOver&&i.hoverData.cxtOver.trigger(new e.Event(n,{type:"cxtdragout",cyPosition:{x:f[0],y:f[1]}})),i.hoverData.cxtOver=v,v&&v.trigger(new e.Event(n,{type:"cxtdragover",cyPosition:{x:f[0],y:f[1]}})))}else if(i.hoverData.dragging){if(r=!0,d.panningEnabled()&&d.userPanningEnabled()){var P;if(i.hoverData.justStartedPan){var N=i.hoverData.mdownPos;P={x:(f[0]-N[0])*p,y:(f[1]-N[1])*p},i.hoverData.justStartedPan=!1}else P={x:b[0]*p,y:b[1]*p};d.panBy(P)}f=i.projectIntoViewport(n.clientX,n.clientY)}else if(1==g[4]&&(null==y||y.isEdge())&&(!d.boxSelectionEnabled()||+new Date-i.hoverData.downTime>=t.panOrBoxSelectDelay)&&!i.hoverData.selecting&&T>=i.tapThreshold2&&d.panningEnabled()&&d.userPanningEnabled())i.hoverData.dragging=!0,i.hoverData.selecting=!1,i.hoverData.justStartedPan=!0,g[4]=0;else{if(d.boxSelectionEnabled()&&Math.pow(g[2]-g[0],2)+Math.pow(g[3]-g[1],2)>7&&g[4]&&(clearTimeout(i.bgActiveTimeout),i.data.bgActivePosistion=void 0,i.hoverData.selecting=!0,i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,i.redraw()),y&&y.isEdge()&&y.active()&&y.unactivate(),v!=m&&(m&&(m.trigger(new e.Event(n,{type:"mouseout",cyPosition:{x:f[0],y:f[1]}})),m.trigger(new e.Event(n,{type:"tapdragout",cyPosition:{x:f[0],y:f[1]}}))),v&&(v.trigger(new e.Event(n,{type:"mouseover",cyPosition:{x:f[0],y:f[1]}})),v.trigger(new e.Event(n,{type:"tapdragover",cyPosition:{x:f[0],y:f[1]}}))),i.hoverData.last=v),y&&y.isNode()&&i.nodeIsDraggable(y))if(T>=i.tapThreshold2){var M=!i.dragData.didDrag;M&&(i.data.canvasNeedsRedraw[t.NODE]=!0),i.dragData.didDrag=!0;for(var I=[],z=0;z<x.length;z++){var A=x[z];if(i.hoverData.draggingEles||a(A,{inDragLayer:!0}),A.isNode()&&i.nodeIsDraggable(A)&&A.grabbed()){var O=A._private.position;if(I.push(A),e.is.number(b[0])&&e.is.number(b[1])&&(O.x+=b[0],O.y+=b[1],M)){var L=i.hoverData.dragDelta;e.is.number(L[0])&&e.is.number(L[1])&&(O.x+=L[0],O.y+=L[1])}}}i.hoverData.draggingEles=!0;var B=new e.Collection(d,I);B.updateCompoundBounds(),B.trigger("position drag"),i.data.canvasNeedsRedraw[t.DRAG]=!0,i.redraw()}else S();r=!0}return g[2]=f[0],g[3]=f[1],r?(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),!1):void 0},1e3/30,{trailing:!0}),!1),i.registerBinding(window,"mouseup",function(n){var r=i.hoverData.capture;if(r){i.hoverData.capture=!1;var a=i.data.cy,s=i.projectIntoViewport(n.clientX,n.clientY),l=i.data.select,u=i.findNearestElement(s[0],s[1],!0),h=i.dragData.possibleDragElements,c=i.hoverData.down,d=n.shiftKey;if(i.data.bgActivePosistion&&(i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,i.redraw()),i.data.bgActivePosistion=void 0,clearTimeout(i.bgActiveTimeout),i.hoverData.cxtStarted=!1,i.hoverData.draggingEles=!1,i.hoverData.selecting=!1,c&&c.unactivate(),3===i.hoverData.which){var p=new e.Event(n,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});if(c?c.trigger(p):a.trigger(p),!i.hoverData.cxtDragged){var f=new e.Event(n,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});c?c.trigger(f):a.trigger(f)}i.hoverData.cxtDragged=!1,i.hoverData.which=null}else{if(null!=c||i.dragData.didDrag||Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)>7&&l[4]||i.hoverData.dragging||(a.$(function(){return this.selected()}).unselect(),h.length>0&&(i.data.canvasNeedsRedraw[t.NODE]=!0),i.dragData.possibleDragElements=h=[]),null!=u?u.trigger(new e.Event(n,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})):null==u&&a.trigger(new e.Event(n,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})),Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)===0&&(null!=u?u.trigger(new e.Event(n,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:s[0],y:s[1]}})):null==u&&a.trigger(new e.Event(n,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:s[0],y:s[1]}}))),u!=c||i.dragData.didDrag||null!=u&&u._private.selectable&&(i.hoverData.dragging||("additive"===a.selectionType()||d?u.selected()?u.unselect():u.select():d||(a.$(":selected").not(u).unselect(),u.select())),i.data.canvasNeedsRedraw[t.NODE]=!0),a.boxSelectionEnabled()&&Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)>7&&l[4]){var g=[],v=i.getAllInBox(l[0],l[1],l[2],l[3]);i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,v.length>0&&(i.data.canvasNeedsRedraw[t.NODE]=!0);for(var m=0;m<v.length;m++)v[m]._private.selectable&&g.push(v[m]);var y=new e.Collection(a,g);"additive"===a.selectionType()?y.select():(d||a.$(":selected").not(y).unselect(),y.select()),i.redraw()}if(i.hoverData.dragging&&(i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,i.redraw()),i.hoverData.dragging=!1,!l[4]){i.data.canvasNeedsRedraw[t.DRAG]=!0,i.data.canvasNeedsRedraw[t.NODE]=!0;for(var m=0;m<h.length;m++)if("nodes"===h[m]._private.group){h[m]._private.rscratch.inDragLayer=!1,h[m]._private.grabbed=!1;for(var b=h[m]._private.edges,x=0;x<b.length;x++)b[x]._private.rscratch.inDragLayer=!1;o(h[m],{inDragLayer:!1})}else"edges"===h[m]._private.group&&(h[m]._private.rscratch.inDragLayer=!1);c&&c.trigger("free")}}l[4]=0,i.hoverData.down=null,i.dragData.didDrag=!1,i.hoverData.dragDelta=[]}},!1);var h=function(e){if(!i.scrollingPage){var n=i.data.cy,r=i.projectIntoViewport(e.clientX,e.clientY),a=[r[0]*n.zoom()+n.pan().x,r[1]*n.zoom()+n.pan().y];if(i.hoverData.draggingEles||i.hoverData.dragging||i.hoverData.cxtStarted||u())return void e.preventDefault();if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){e.preventDefault(),i.data.wheelZooming=!0,clearTimeout(i.data.wheelTimeout),i.data.wheelTimeout=setTimeout(function(){i.data.wheelZooming=!1,i.data.canvasNeedsRedraw[t.NODE]=!0,i.redraw()},150);var o=e.deltaY/-250||e.wheelDeltaY/1e3||e.wheelDelta/1e3;o*=i.wheelSensitivity;var s=1===e.deltaMode;s&&(o*=33),n.zoom({level:n.zoom()*Math.pow(10,o),renderedPosition:{x:a[0],y:a[1]}})}}};i.registerBinding(i.data.container,"wheel",h,!0),i.registerBinding(window,"scroll",function(){i.scrollingPage=!0,clearTimeout(i.scrollingPageTimeout),i.scrollingPageTimeout=setTimeout(function(){i.scrollingPage=!1},250)},!0),i.registerBinding(i.data.container,"mouseout",function(t){var n=i.projectIntoViewport(t.clientX,t.clientY);i.data.cy.trigger(new e.Event(t,{type:"mouseout",cyPosition:{x:n[0],y:n[1]}}))},!1),i.registerBinding(i.data.container,"mouseover",function(t){var n=i.projectIntoViewport(t.clientX,t.clientY);i.data.cy.trigger(new e.Event(t,{type:"mouseover",cyPosition:{x:n[0],y:n[1]}}))},!1);var c,d,p,f,g,v,m,y,b,x,_,w,k,C=function(e,t,i,n){return Math.sqrt((i-e)*(i-e)+(n-t)*(n-t))},D=function(e,t,i,n){return(i-e)*(i-e)+(n-t)*(n-t)};i.registerBinding(i.data.container,"touchstart",function(n){clearTimeout(this.threeFingerSelectTimeout),n.target!==i.data.link&&n.preventDefault(),i.touchData.capture=!0,i.data.bgActivePosistion=void 0;var r=i.data.cy,o=i.getCachedNodes(),s=i.getCachedEdges(),l=i.touchData.now,u=i.touchData.earlier;if(n.touches[0]){var h=i.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=h[0],l[1]=h[1]}if(n.touches[1]){var h=i.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=h[0],l[3]=h[1]}if(n.touches[2]){var h=i.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=h[0],l[5]=h[1]}if(n.touches[1]){var T=function(e){for(var t=0;t<e.length;t++)e[t]._private.grabbed=!1,e[t]._private.rscratch.inDragLayer=!1,e[t].active()&&e[t].unactivate()};T(o),T(s);var S=i.findContainerClientCoords();b=S[0],x=S[1],_=S[2],w=S[3],c=n.touches[0].clientX-b,d=n.touches[0].clientY-x,p=n.touches[1].clientX-b,f=n.touches[1].clientY-x,k=c>=0&&_>=c&&p>=0&&_>=p&&d>=0&&w>=d&&f>=0&&w>=f;var E=r.pan(),P=r.zoom();g=C(c,d,p,f),v=D(c,d,p,f),m=[(c+p)/2,(d+f)/2],y=[(m[0]-E.x)/P,(m[1]-E.y)/P];var N=200,M=N*N;if(M>v&&!n.touches[2]){var I=i.findNearestElement(l[0],l[1],!0),z=i.findNearestElement(l[2],l[3],!0);return I&&I.isNode()?(I.activate().trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),i.touchData.start=I):z&&z.isNode()?(z.activate().trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),i.touchData.start=z):(r.trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}})),i.touchData.start=null),i.touchData.start&&(i.touchData.start._private.grabbed=!1),i.touchData.cxt=!0,i.touchData.cxtDragged=!1,i.data.bgActivePosistion=void 0,void i.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var A=i.findNearestElement(l[0],l[1],!0);if(null!=A){if(A.activate(),i.touchData.start=A,A.isNode()&&i.nodeIsDraggable(A)){var O=i.dragData.touchDragEles=[];if(i.data.canvasNeedsRedraw[t.NODE]=!0,i.data.canvasNeedsRedraw[t.DRAG]=!0,A.selected())for(var L=r.$(function(){return this.isNode()&&this.selected()}),B=0;B<L.length;B++){var R=L[B];i.nodeIsDraggable(R)&&a(R,{addToList:O})}else a(A,{addToList:O});A.trigger(new e.Event(n,{type:"grab",cyPosition:{x:l[0],y:l[1]}}))}A.trigger(new e.Event(n,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"vmousdown",cyPosition:{x:l[0],y:l[1]}}))}null==A&&(r.trigger(new e.Event(n,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:l[0],y:l[1]}})),i.data.bgActivePosistion={x:h[0],y:h[1]},i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,i.redraw());for(var H=0;H<l.length;H++)u[H]=l[H],i.touchData.startPosition[H]=l[H];i.touchData.singleTouchMoved=!1,i.touchData.singleTouchStartTime=+new Date,clearTimeout(i.touchData.tapholdTimeout),i.touchData.tapholdTimeout=setTimeout(function(){i.touchData.singleTouchMoved!==!1||i.pinching||(i.touchData.start?i.touchData.start.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})):(i.data.cy.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:l[0],y:l[1]}})),r.$(":selected").unselect()))},i.tapholdDuration)}},!1),i.registerBinding(window,"touchmove",e.util.throttle(function(n){var r=i.data.select,o=i.touchData.capture;o&&n.preventDefault();var s=i.data.cy,l=i.touchData.now,u=i.touchData.earlier,h=s.zoom();if(n.touches[0]){var m=i.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0],l[1]=m[1]}if(n.touches[1]){var m=i.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=m[0],l[3]=m[1]}if(n.touches[2]){var m=i.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=m[0],l[5]=m[1]}for(var _=[],w=0;w<l.length;w++)_[w]=l[w]-u[w];var T=i.touchData.startPosition,S=l[0]-T[0],E=S*S,P=l[1]-T[1],N=P*P,M=E+N,I=M*h*h;if(o&&i.touchData.cxt){var z=n.touches[0].clientX-b,A=n.touches[0].clientY-x,O=n.touches[1].clientX-b,L=n.touches[1].clientY-x,B=D(z,A,O,L),R=B/v,H=150,W=H*H,F=1.5,j=F*F;if(R>=j||B>=W){i.touchData.cxt=!1,i.touchData.start&&(i.touchData.start.unactivate(),i.touchData.start=null),i.data.bgActivePosistion=void 0,i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;var Y=new e.Event(n,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}});i.touchData.start?i.touchData.start.trigger(Y):s.trigger(Y)}}if(o&&i.touchData.cxt){var Y=new e.Event(n,{type:"cxtdrag",cyPosition:{x:l[0],y:l[1]}});i.data.bgActivePosistion=void 0,i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,i.touchData.start?i.touchData.start.trigger(Y):s.trigger(Y),i.touchData.start&&(i.touchData.start._private.grabbed=!1),i.touchData.cxtDragged=!0;var q=i.findNearestElement(l[0],l[1],!0);i.touchData.cxtOver&&q===i.touchData.cxtOver||(i.touchData.cxtOver&&i.touchData.cxtOver.trigger(new e.Event(n,{type:"cxtdragout",cyPosition:{x:l[0],y:l[1]}})),i.touchData.cxtOver=q,q&&q.trigger(new e.Event(n,{type:"cxtdragover",cyPosition:{x:l[0],y:l[1]}})))}else if(o&&n.touches[2]&&s.boxSelectionEnabled())i.data.bgActivePosistion=void 0,clearTimeout(this.threeFingerSelectTimeout),this.lastThreeTouch=+new Date,i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,r&&0!==r.length&&void 0!==r[0]?(r[2]=(l[0]+l[2]+l[4])/3,r[3]=(l[1]+l[3]+l[5])/3):(r[0]=(l[0]+l[2]+l[4])/3,r[1]=(l[1]+l[3]+l[5])/3,r[2]=(l[0]+l[2]+l[4])/3+1,r[3]=(l[1]+l[3]+l[5])/3+1),r[4]=1,i.redraw();else if(o&&n.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){i.data.bgActivePosistion=void 0,i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;var X=i.dragData.touchDragEles;if(X){i.data.canvasNeedsRedraw[t.DRAG]=!0;for(var V=0;V<X.length;V++)X[V]._private.grabbed=!1,X[V]._private.rscratch.inDragLayer=!1}var z=n.touches[0].clientX-b,A=n.touches[0].clientY-x,O=n.touches[1].clientX-b,L=n.touches[1].clientY-x,$=C(z,A,O,L),U=$/g;if(1!=U&&k){var K=z-c,G=A-d,Z=O-p,Q=L-f,J=(K+Z)/2,et=(G+Q)/2,tt=s.zoom(),it=tt*U,nt=s.pan(),rt=y[0]*tt+nt.x,at=y[1]*tt+nt.y,ot={x:-it/tt*(rt-nt.x-J)+rt,y:-it/tt*(at-nt.y-et)+at};if(i.touchData.start){var X=i.dragData.touchDragEles;if(X)for(var V=0;V<X.length;V++)X[V]._private.grabbed=!1,X[V]._private.rscratch.inDragLayer=!1;i.touchData.start._private.active=!1,i.touchData.start._private.grabbed=!1,i.touchData.start._private.rscratch.inDragLayer=!1,i.data.canvasNeedsRedraw[t.DRAG]=!0,i.touchData.start.trigger("free").trigger("unactivate")}s.viewport({zoom:it,pan:ot,cancelOnFailedZoom:!0}),g=$,c=z,d=A,p=O,f=L,i.pinching=!0}if(n.touches[0]){var m=i.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0],l[1]=m[1]}if(n.touches[1]){var m=i.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=m[0],l[3]=m[1]}if(n.touches[2]){var m=i.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=m[0],l[5]=m[1]}}else if(n.touches[0]){var st=i.touchData.start,lt=i.touchData.last,q=q||i.findNearestElement(l[0],l[1],!0);if(null!=st&&"nodes"==st._private.group&&i.nodeIsDraggable(st))if(I>=i.tapThreshold2){for(var X=i.dragData.touchDragEles,ut=0;ut<X.length;ut++){var ht=X[ut];if(i.nodeIsDraggable(ht)&&ht.isNode()&&ht.grabbed()){i.dragData.didDrag=!0;var ct=ht._private.position,dt=!i.hoverData.draggingEles;if(e.is.number(_[0])&&e.is.number(_[1])&&(ct.x+=_[0],ct.y+=_[1]),dt){a(ht,{inDragLayer:!0});var pt=i.touchData.dragDelta;e.is.number(pt[0])&&e.is.number(pt[1])&&(ct.x+=pt[0],ct.y+=pt[1])}}}var ft=new e.Collection(s,ht);ft.updateCompoundBounds(),ft.trigger("position drag"),i.hoverData.draggingEles=!0,i.data.canvasNeedsRedraw[t.DRAG]=!0,i.touchData.startPosition[0]==u[0]&&i.touchData.startPosition[1]==u[1]&&(i.data.canvasNeedsRedraw[t.NODE]=!0),i.redraw()}else{var pt=i.touchData.dragDelta=i.touchData.dragDelta||[];0===pt.length?(pt.push(0),pt.push(0)):(pt[0]+=_[0],pt[1]+=_[1])}null!=st&&(st.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),st.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),st.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==st&&(null!=q&&(q.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),q.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),q.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))),null==q&&(s.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}})),s.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}})))),q!=lt&&(lt&&lt.trigger(new e.Event(n,{type:"tapdragout",cyPosition:{x:l[0],y:l[1]}})),q&&q.trigger(new e.Event(n,{type:"tapdragover",cyPosition:{x:l[0],y:l[1]}}))),i.touchData.last=q;for(var V=0;V<l.length;V++)l[V]&&i.touchData.startPosition[V]&&Math.abs(l[V]-i.touchData.startPosition[V])>4&&(i.touchData.singleTouchMoved=!0);if(o&&(null==st||st.isEdge())&&s.panningEnabled()&&s.userPanningEnabled()){i.swipePanning?s.panBy({x:_[0]*h,y:_[1]*h}):I>=i.tapThreshold2&&(i.swipePanning=!0,s.panBy({x:S*h,y:P*h})),st&&(st.unactivate(),i.data.bgActivePosistion||(i.data.bgActivePosistion={x:l[0],y:l[1]}),i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,i.touchData.start=null);var m=i.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0],l[1]=m[1]}}for(var w=0;w<l.length;w++)u[w]=l[w]},1e3/30,{trailing:!0}),!1),i.registerBinding(window,"touchcancel",function(){var e=i.touchData.start;i.touchData.capture=!1,e&&e.unactivate()}),i.registerBinding(window,"touchend",function(n){var r=i.touchData.start,a=i.touchData.capture;if(a){i.touchData.capture=!1,n.preventDefault();var s=i.data.select;i.swipePanning=!1,i.hoverData.draggingEles=!1;var l=i.data.cy,u=l.zoom(),h=i.touchData.now,c=i.touchData.earlier;if(n.touches[0]){var d=i.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);h[0]=d[0],h[1]=d[1]}if(n.touches[1]){var d=i.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);h[2]=d[0],h[3]=d[1]}if(n.touches[2]){var d=i.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);h[4]=d[0],h[5]=d[1]}r&&r.unactivate();var p;if(i.touchData.cxt){if(p=new e.Event(n,{type:"cxttapend",cyPosition:{x:h[0],y:h[1]}}),r?r.trigger(p):l.trigger(p),!i.touchData.cxtDragged){var f=new e.Event(n,{type:"cxttap",cyPosition:{x:h[0],y:h[1]}});r?r.trigger(f):l.trigger(f)}return i.touchData.start&&(i.touchData.start._private.grabbed=!1),i.touchData.cxt=!1,i.touchData.start=null,void i.redraw()}if(!n.touches[2]&&l.boxSelectionEnabled()){clearTimeout(this.threeFingerSelectTimeout);var g=[],v=i.getAllInBox(s[0],s[1],s[2],s[3]);s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;for(var m=0;m<v.length;m++)v[m]._private.selectable&&g.push(v[m]);var y=new e.Collection(l,g);"single"===l.selectionType()&&l.$(":selected").not(y).unselect(),y.select(),y.length>0?i.data.canvasNeedsRedraw[t.NODE]=!0:i.redraw()}var b=!1;if(null!=r&&(r._private.active=!1,b=!0,r.unactivate()),n.touches[2])i.data.bgActivePosistion=void 0,i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){if(i.data.bgActivePosistion=void 0,i.data.canvasNeedsRedraw[t.SELECT_BOX]=!0,null!=r){r._private.grabbed&&(r._private.grabbed=!1,r.trigger("free"),r._private.rscratch.inDragLayer=!1);for(var x=r._private.edges,_=0;_<x.length;_++)x[_]._private.rscratch.inDragLayer=!1;if(o(r,!1),r.selected())for(var w=l.$("node:selected"),k=0;k<w.length;k++){var C=w[k];C._private.rscratch.inDragLayer=!1,C._private.grabbed=!1;for(var x=C._private.edges,_=0;_<x.length;_++)x[_]._private.rscratch.inDragLayer=!1;o(C,!1)}i.data.canvasNeedsRedraw[t.DRAG]=!0,i.data.canvasNeedsRedraw[t.NODE]=!0,r.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}})),r.unactivate(),i.touchData.start=null}else{var D=i.findNearestElement(h[0],h[1],!0);null!=D&&D.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}})),null==D&&l.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:h[0],y:h[1]}}))}var T=i.touchData.startPosition[0]-h[0],S=T*T,E=i.touchData.startPosition[1]-h[1],P=E*E,N=S+P,M=N*u*u;null!=r&&!i.dragData.didDrag&&r._private.selectable&&M<i.tapThreshold2&&!i.pinching&&("single"===l.selectionType()?(l.$(":selected").not(r).unselect(),r.select()):r.selected()?r.unselect():r.select(),b=!0,i.data.canvasNeedsRedraw[t.NODE]=!0),i.touchData.singleTouchMoved===!1&&(r?r.trigger(new e.Event(n,{type:"tap",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:h[0],y:h[1]}})):l.trigger(new e.Event(n,{type:"tap",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:h[0],y:h[1]}}))),i.touchData.singleTouchMoved=!0}for(var _=0;_<h.length;_++)c[_]=h[_];i.dragData.didDrag=!1,n.touches[0]&&(i.touchData.dragDelta=[]),b&&r&&r.updateStyle(!1),n.touches.length<2&&(i.pinching=!1,i.data.canvasNeedsRedraw[t.NODE]=!0,i.redraw())}},!1)}}(n),function(e){"use strict";for(var t=e("renderer","canvas"),i=t.prototype,n=t.usePaths(),r=t.nodeShapes={},a=Math.sin(0),o=Math.cos(0),s={},l={},u=.1,h=0*Math.PI;h<2*Math.PI;h+=u)s[h]=Math.sin(h),l[h]=Math.cos(h);r.ellipse={draw:function(e,t,i,n,a){r.ellipse.drawPath(e,t,i,n,a),e.fill()},drawPath:function(e,t,i,r,h){if(n){e.beginPath&&e.beginPath();for(var c,d,p=r/2,f=h/2,g=0*Math.PI;g<2*Math.PI;g+=u)c=t-p*s[g]*a+p*l[g]*o,d=i+f*l[g]*a+f*s[g]*o,0===g?e.moveTo(c,d):e.lineTo(c,d);e.closePath()}else e.beginPath&&e.beginPath(),e.translate(t,i),e.scale(r/2,h/2),e.arc(0,0,1,0,2*Math.PI*.999,!1),e.closePath(),e.scale(2/r,2/h),e.translate(-t,-i)},intersectLine:function(t,i,n,r,a,o,s){var l=e.math.intersectLineEllipse(a,o,t,i,n/2+s,r/2+s);return l},intersectBox:function(t,i,n,r,a,o,s,l,u){return e.math.boxIntersectEllipse(t,i,n,r,u,a,o,s,l)},checkPoint:function(e,t,i,n,r,a,o){return e-=a,t-=o,e/=n/2+i,t/=r/2+i,Math.pow(e,2)+Math.pow(t,2)<=1}},r.triangle={points:e.math.generateUnitNgonPointsFitToSquare(3,0),draw:function(e,t,n,a,o){i.drawPolygon(e,t,n,a,o,r.triangle.points)},drawPath:function(e,t,n,a,o){i.drawPolygonPath(e,t,n,a,o,r.triangle.points)},intersectLine:function(t,i,n,a,o,s,l){return e.math.polygonIntersectLine(o,s,r.triangle.points,t,i,n/2,a/2,l)},intersectBox:function(t,i,n,a,o,s,l,u,h){var c=r.triangle.points;return e.math.boxIntersectPolygon(t,i,n,a,c,o,s,l,u,[0,-1],h)},checkPoint:function(t,i,n,a,o,s,l){return e.math.pointInsidePolygon(t,i,r.triangle.points,s,l,a,o,[0,-1],n)}},r.square={points:e.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,a,o){i.drawPolygon(e,t,n,a,o,r.square.points)},drawPath:function(e,t,n,a,o){i.drawPolygonPath(e,t,n,a,o,r.square.points)},intersectLine:function(t,i,n,a,o,s,l){return e.math.polygonIntersectLine(o,s,r.square.points,t,i,n/2,a/2,l)},intersectBox:function(t,i,n,a,o,s,l,u,h){var c=r.square.points;return e.math.boxIntersectPolygon(t,i,n,a,c,o,s,l,u,[0,-1],h)},checkPoint:function(t,i,n,a,o,s,l){return e.math.pointInsidePolygon(t,i,r.square.points,s,l,a,o,[0,-1],n)}},r.rectangle=r.square,r.octogon={},r.roundrectangle={points:e.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,a){i.drawRoundRectangle(e,t,n,r,a,10)},drawPath:function(e,t,n,r,a){i.drawRoundRectanglePath(e,t,n,r,a,10)},intersectLine:function(t,i,n,r,a,o,s){return e.math.roundRectangleIntersectLine(a,o,t,i,n,r,s)},intersectBox:function(t,i,n,r,a,o,s,l,u){return e.math.roundRectangleIntersectBox(t,i,n,r,a,o,s,l,u)},checkPoint:function(t,i,n,a,o,s,l){var u=e.math.getRoundRectangleRadius(a,o);if(e.math.pointInsidePolygon(t,i,r.roundrectangle.points,s,l,a,o-2*u,[0,-1],n))return!0;if(e.math.pointInsidePolygon(t,i,r.roundrectangle.points,s,l,a-2*u,o,[0,-1],n))return!0;var h=function(e,t,i,n,r,a,o){return e-=i,t-=n,e/=r/2+o,t/=a/2+o,Math.pow(e,2)+Math.pow(t,2)<=1};return h(t,i,s-a/2+u,l-o/2+u,2*u,2*u,n)?!0:h(t,i,s+a/2-u,l-o/2+u,2*u,2*u,n)?!0:h(t,i,s+a/2-u,l+o/2-u,2*u,2*u,n)?!0:h(t,i,s-a/2+u,l+o/2-u,2*u,2*u,n)?!0:!1}},r.pentagon={points:e.math.generateUnitNgonPointsFitToSquare(5,0),draw:function(e,t,n,a,o){i.drawPolygon(e,t,n,a,o,r.pentagon.points)},drawPath:function(e,t,n,a,o){i.drawPolygonPath(e,t,n,a,o,r.pentagon.points)},intersectLine:function(e,t,n,a,o,s,l){return i.polygonIntersectLine(o,s,r.pentagon.points,e,t,n/2,a/2,l)},intersectBox:function(t,i,n,a,o,s,l,u,h){var c=r.pentagon.points;return e.math.boxIntersectPolygon(t,i,n,a,c,o,s,l,u,[0,-1],h)},checkPoint:function(t,i,n,a,o,s,l){return e.math.pointInsidePolygon(t,i,r.pentagon.points,s,l,a,o,[0,-1],n)}},r.hexagon={points:e.math.generateUnitNgonPointsFitToSquare(6,0),draw:function(e,t,n,a,o){i.drawPolygon(e,t,n,a,o,r.hexagon.points)},drawPath:function(e,t,n,a,o){i.drawPolygonPath(e,t,n,a,o,r.hexagon.points)
},intersectLine:function(t,i,n,a,o,s,l){return e.math.polygonIntersectLine(o,s,r.hexagon.points,t,i,n/2,a/2,l)},intersectBox:function(t,i,n,a,o,s,l,u,h){var c=r.hexagon.points;return e.math.boxIntersectPolygon(t,i,n,a,c,o,s,l,u,[0,-1],h)},checkPoint:function(t,i,n,a,o,s,l){return e.math.pointInsidePolygon(t,i,r.hexagon.points,s,l,a,o,[0,-1],n)}},r.heptagon={points:e.math.generateUnitNgonPointsFitToSquare(7,0),draw:function(e,t,n,a,o){i.drawPolygon(e,t,n,a,o,r.heptagon.points)},drawPath:function(e,t,n,a,o){i.drawPolygonPath(e,t,n,a,o,r.heptagon.points)},intersectLine:function(e,t,n,a,o,s,l){return i.polygonIntersectLine(o,s,r.heptagon.points,e,t,n/2,a/2,l)},intersectBox:function(e,t,n,a,o,s,l,u,h){var c=r.heptagon.points;return i.boxIntersectPolygon(e,t,n,a,c,o,s,l,u,[0,-1],h)},checkPoint:function(t,i,n,a,o,s,l){return e.math.pointInsidePolygon(t,i,r.heptagon.points,s,l,a,o,[0,-1],n)}},r.octagon={points:e.math.generateUnitNgonPointsFitToSquare(8,0),draw:function(e,t,n,a,o){i.drawPolygon(e,t,n,a,o,r.octagon.points)},drawPath:function(e,t,n,a,o){i.drawPolygonPath(e,t,n,a,o,r.octagon.points)},intersectLine:function(e,t,n,a,o,s,l){return i.polygonIntersectLine(o,s,r.octagon.points,e,t,n/2,a/2,l)},intersectBox:function(e,t,n,a,o,s,l,u,h){var c=r.octagon.points;return i.boxIntersectPolygon(e,t,n,a,c,o,s,l,u,[0,-1],h)},checkPoint:function(t,i,n,a,o,s,l){return e.math.pointInsidePolygon(t,i,r.octagon.points,s,l,a,o,[0,-1],n)}};var c=new Array(20),d=e.math.generateUnitNgonPoints(5,0),p=e.math.generateUnitNgonPoints(5,Math.PI/5),f=.5*(3-Math.sqrt(5));f*=1.57;for(var h=0;h<p.length/2;h++)p[2*h]*=f,p[2*h+1]*=f;for(var h=0;5>h;h++)c[4*h]=d[2*h],c[4*h+1]=d[2*h+1],c[4*h+2]=p[2*h],c[4*h+3]=p[2*h+1];c=e.math.fitPolygonToSquare(c),r.star5=r.star={points:c,draw:function(e,t,n,a,o){i.drawPolygon(e,t,n,a,o,r.star5.points)},drawPath:function(e,t,n,a,o){i.drawPolygonPath(e,t,n,a,o,r.star5.points)},intersectLine:function(e,t,n,a,o,s,l){return i.polygonIntersectLine(o,s,r.star5.points,e,t,n/2,a/2,l)},intersectBox:function(e,t,n,a,o,s,l,u,h){var c=r.star5.points;return i.boxIntersectPolygon(e,t,n,a,c,o,s,l,u,[0,-1],h)},checkPoint:function(t,i,n,a,o,s,l){return e.math.pointInsidePolygon(t,i,r.star5.points,s,l,a,o,[0,-1],n)}}}(n),function(e){"use strict";function t(t){this._private={},this._private.options=e.util.extend({},i,t)}var i={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(e){var t=e;return t.max<=.5||t.mean<=.3},infinite:!1};t.prototype.run=function(){var t=this,i=this._private.options;return e.util.require("arbor",function(n){function r(e,t){return null==t?void 0:"function"==typeof t?t.apply(e,[e._private.data,{nodes:u.length,edges:h.length,element:e}]):t}function a(e){if(!e.isFullAutoParent()){var t=e._private.data.id,n=r(e,i.nodeMass),a=e._private.locked,o=e.position(),s=p.fromScreen({x:o.x,y:o.y});e.scratch().arbor=p.addNode(t,{element:e,mass:n,fixed:a,x:a?s.x:void 0,y:a?s.y:void 0})}}function o(e){var t=e.source().id(),n=e.target().id(),a=r(e,i.edgeLength);e.scratch().arbor=p.addEdge(t,n,{length:a})}var s=i.cy,l=i.eles,u=l.nodes().not(":parent"),h=l.edges(),c=e.util.makeBoundingBox(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),d=!1;if(t.trigger({type:"layoutstart",layout:t}),void 0!==i.liveUpdate&&(i.animate=i.liveUpdate),s.nodes().size()<=1)return i.fit&&s.reset(),s.nodes().position({x:Math.round((c.x1+c.x2)/2),y:Math.round((c.y1+c.y2)/2)}),t.one("layoutready",i.ready),t.trigger({type:"layoutready",layout:t}),t.one("layoutstop",i.stop),void t.trigger({type:"layoutstop",layout:t});var p=t._private.system=n.ParticleSystem();p.parameters({repulsion:i.repulsion,stiffness:i.stiffness,friction:i.friction,gravity:i.gravity,fps:i.fps,dt:i.dt,precision:i.precision}),i.animate&&i.fit&&s.fit(c,i.padding);var f,g=250,v=!1,m=+new Date,y={init:function(){},redraw:function(){var e=p.energy();if(!i.infinite&&null!=i.stableEnergy&&null!=e&&e.n>0&&i.stableEnergy(e))return void t.stop();i.infinite||1/0==g||(clearTimeout(f),f=setTimeout(D,g));var n=s.collection();p.eachNode(function(e,t){var i=e.data,r=i.element;null!=r&&(r.locked()||r.grabbed()||(r.silentPosition({x:c.x1+t.x,y:c.y1+t.y}),n.merge(r)))}),i.animate&&n.length>0&&(d=!0,n.rtrigger("position"),i.fit&&s.fit(i.padding),m=+new Date,d=!1),v||(v=!0,t.one("layoutready",i.ready),t.trigger({type:"layoutready",layout:t}))}};p.renderer=y,p.screenSize(c.w,c.h),p.screenPadding(i.padding,i.padding,i.padding,i.padding),p.screenStep(i.stepSize);var b;u.on("grab free position",b=function(e){if(!d){var t=this.position(),r=p.fromScreen(t);if(r){var a=n.Point(r.x,r.y),o=i.padding;switch(c.x1+o<=t.x&&t.x<=c.x2-o&&c.y1+o<=t.y&&t.y<=c.y2-o&&(this.scratch().arbor.p=a),e.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}});var x;u.on("lock unlock",x=function(){node.scratch().arbor.fixed=node.locked()});var _;l.on("remove",_=function(){});var w;s.on("add","*",w=function(){});var k;s.on("resize",k=function(){if(null==i.boundingBox&&null!=t._private.system){var e=s.width(),n=s.height();p.screenSize(e,n)}}),u.each(function(e,t){a(t)}),h.each(function(e,t){o(t)});var C=u.filter(":grabbable");i.ungrabifyWhileSimulating&&C.ungrabify();var D=t._private.doneHandler=function(){t._private.doneHandler=null,i.animate||(i.fit&&s.reset(),u.rtrigger("position")),u.off("grab free position",b),u.off("lock unlock",x),l.off("remove",_),s.off("add","*",w),s.off("resize",k),i.ungrabifyWhileSimulating&&C.grabify(),t.one("layoutstop",i.stop),t.trigger({type:"layoutstop",layout:t})};p.start(),!i.infinite&&null!=i.maxSimulationTime&&i.maxSimulationTime>0&&1/0!==i.maxSimulationTime&&setTimeout(function(){t.stop()},i.maxSimulationTime)}),this},t.prototype.stop=function(){return null!=this._private.system&&this._private.system.stop(),this._private.doneHandler&&this._private.doneHandler(),this},e("layout","arbor",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend({},i,t)}var i={fit:!0,directed:!1,padding:30,circle:!1,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t,i=this.options,n=i,r=i.cy,a=n.eles,o=a.nodes().not(":parent"),s=a,l=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(e.is.elementOrCollection(n.roots))t=n.roots;else if(e.is.array(n.roots)){for(var u=[],h=0;h<n.roots.length;h++){var c=n.roots[h],d=r.getElementById(c);u.push(d)}t=new e.Collection(r,u)}else if(e.is.string(n.roots))t=r.$(n.roots);else if(n.directed)t=o.roots();else{for(var p=[],f=o;f.length>0;){var g=r.collection();a.bfs({roots:f[0],visit:function(e,t,i){g=g.add(i)},directed:!1}),f=f.not(g),p.push(g)}t=r.collection();for(var h=0;h<p.length;h++){var v=p[h],m=v.maxDegree(!1),y=v.filter(function(){return this.degree(!1)===m});t=t.add(y)}}var b=[],x={},_={},w={},k={},C={};s.bfs({roots:t,directed:n.directed,visit:function(e,t,i,n,r){var a=this[0],o=a.id();if(b[t]||(b[t]=[]),b[t].push(a),x[o]=!0,_[o]=t,w[o]=r,k[o]=n,r){var s=r.id(),l=C[s]=C[s]||[];l.push(i)}}});for(var D=[],h=0;h<o.length;h++){var d=o[h];x[d.id()]||D.push(d)}for(var T=3*D.length,S=0;0!==D.length&&T>S;){for(var E=D.shift(),P=E.neighborhood().nodes(),N=!1,h=0;h<P.length;h++){var M=_[P[h].id()];if(void 0!==M){b[M].push(E),N=!0;break}}N||D.push(E),S++}for(;0!==D.length;){var E=D.shift(),N=!1;N||(0===b.length&&b.push([]),b[0].push(E))}var I=function(){for(var e=0;e<b.length;e++)for(var t=b[e],i=0;i<t.length;i++){var n=t[i];n._private.scratch.breadthfirst={depth:e,index:i}}};I();for(var z=function(e){for(var t,i=e.connectedEdges(function(){return this.data("target")===e.id()}),n=e._private.scratch.breadthfirst,r=0,a=0;a<i.length;a++){var o=i[a],s=o.source()[0],l=s._private.scratch.breadthfirst;n.depth<=l.depth&&r<l.depth&&(r=l.depth,t=s)}return t},A=0;A<n.maximalAdjustments;A++){for(var O=b.length,L=[],h=0;O>h;h++)for(var M=b[h],B=M.length,R=0;B>R;R++){var d=M[R],H=d._private.scratch.breadthfirst,W=z(d);W&&(H.intEle=W,L.push(d))}for(var h=0;h<L.length;h++){var d=L[h],H=d._private.scratch.breadthfirst,W=H.intEle,F=W._private.scratch.breadthfirst;b[H.depth].splice(H.index,1);for(var j=F.depth+1;j>b.length-1;)b.push([]);b[j].push(d),H.depth=j,H.index=b[j].length-1}I()}var Y=0;if(n.avoidOverlap){for(var h=0;h<o.length;h++){var q=o[h].outerWidth(),X=o[h].outerHeight();Y=Math.max(Y,q,X)}Y*=1.75}for(var V={},$=function(e){if(V[e.id()])return V[e.id()];for(var t=e._private.scratch.breadthfirst.depth,i=e.neighborhood().nodes(),n=0,r=0,a=0;a<i.length;a++){var o=i[a],s=o._private.scratch.breadthfirst.index,l=o._private.scratch.breadthfirst.depth,u=b[l].length;(t>l||0===t)&&(n+=s/u,r++)}return r=Math.max(1,r),n/=r,0===r&&(n=void 0),V[e.id()]=n,n},U=function(e,t){var i=$(e),n=$(t);return i-n},K=0;3>K;K++){for(var h=0;h<b.length;h++)b[h]=b[h].sort(U);I()}for(var G=0,h=0;h<b.length;h++)G=Math.max(b[h].length,G);for(var Z={x:l.x1+l.w/2,y:l.x1+l.h/2},Q=function(e,t){var i=e._private.scratch.breadthfirst,r=i.depth,a=i.index,o=b[r].length;n.strictHierarchy&&(o=G);var s=Math.max(l.w/(o+1),Y),u=Math.max(l.h/(b.length+1),Y),h=Math.min(l.w/2/b.length,l.h/2/b.length);if(h=Math.max(h,Y),n.strictHierarchy&&!n.circle){var c={x:Z.x+(a+1-(o+1)/2)*s,y:(r+1)*u};if(t)return c;var d=C[e.id()];if(d){c.x=0;for(var p=0;p<d.length;p++){var f=J[d[p].id()];c.x+=f.x}c.x/=d.length}return c}if(n.circle){var g=h*r+h-(b.length>0&&b[0].length<=3?h/2:0),v=2*Math.PI/b[r].length*a;return 0===r&&1===b[0].length&&(g=1),{x:Z.x+g*Math.cos(v),y:Z.y+g*Math.sin(v)}}return{x:Z.x+(a+1-(o+1)/2)*s,y:(r+1)*u}},J={},h=b.length-1;h>=0;h--)for(var M=b[h],R=0;R<M.length;R++){var E=M[R];J[E.id()]=Q(E,h===b.length-1)}return o.layoutPositions(this,n,function(){return J[this.id()]}),this},e("layout","breadthfirst",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend({},i,t)}var i={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){for(var t,i=this.options,n=i,r=i.cy,a=n.eles,o=a.nodes().not(":parent"),s=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=n.startAngle,h=2*Math.PI/o.length,c=0,d=0;d<o.length;d++){var p=o[d].outerWidth(),f=o[d].outerHeight();c=Math.max(c,p,f)}if(t=e.is.number(n.radius)?n.radius:o.length<=1?0:Math.min(s.h,s.w)/2-c,o.length>1&&n.avoidOverlap){c*=1.75;var h=2*Math.PI/o.length,g=Math.cos(h)-Math.cos(0),v=Math.sin(h)-Math.sin(0),m=Math.sqrt(c*c/(g*g+v*v));t=Math.max(m,t)}var y=function(){var e=t*Math.cos(u),i=t*Math.sin(u),r={x:l.x+e,y:l.y+i};return u=n.counterclockwise?u-h:u+h,r};return o.layoutPositions(this,n,y),this},e("layout","circle",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},i,t)}var i={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.prototype.run=function(){var t=this,i=this.options;return e.util.require("cola",function(n){var r=i.cy,a=i.eles,o=a.nodes(),s=a.edges(),l=!1,u=e.util.makeBoundingBox(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),h=function(t,i){if(e.is.fn(t)){var n=t;return n.apply(i,[i])}return t},c=function(){for(var e={min:1/0,max:-1/0},t={min:1/0,max:-1/0},n=0;n<o.length;n++){var a=o[n],s=a._private.scratch.cola;e.min=Math.min(e.min,s.x),e.max=Math.max(e.max,s.x),t.min=Math.min(t.min,s.y),t.max=Math.max(t.max,s.y)}o.positions(function(i,n){var r=n._private.position,a=n._private.scratch.cola;n.grabbed()||(r.x=u.x1+a.x-e.min,r.y=u.y1+a.y-t.min)}),l||(p(),l=!0),i.fit&&r.fit(i.padding)},d=function(){t.manuallyStopped=!1,i.ungrabifyWhileSimulating&&m.grabify(),o.off("grab free position",y),o.off("lock unlock",b),t.one("layoutstop",i.stop),t.trigger({type:"layoutstop",layout:t})},p=function(){t.one("layoutready",i.ready),t.trigger({type:"layoutready",layout:t})},f=i.refresh,g=1;i.refresh<0?(g=Math.abs(i.refresh),f=1):f=Math.max(1,f);var v=n.adaptor({trigger:function(e){switch(e.type){case"tick":i.animate&&c();break;case"end":c(),(!i.infinite||t.manuallyStopped)&&d()}},kick:function(t){var n=0,r=function(){var e=t();return e&&i.infinite&&v.resume(),e},a=function(){var e,t=n;if(n=(n+1)%g,0!==t)return!1;for(var i=0;f>i&&!e;i++)e=e||r();return e};if(i.animate){var o=function(){a()||e.util.requestAnimationFrame(o)};e.util.requestAnimationFrame(o)}else for(;!r(););},on:function(){},drag:function(){}});t.adaptor=v;var m=o.filter(":grabbable");i.ungrabifyWhileSimulating&&m.ungrabify();var y;o.on("grab free position",y=function(t){var i=this,n=i._private.scratch.cola,r=i._private.position;switch(i.grabbed()?(n.x=r.x-u.x1,n.y=r.y-u.y1,v.dragstart(n)):e.is.number(n.x)&&e.is.number(n.y)&&(r.x=n.x+u.x1,r.y=n.y+u.y1),t.type){case"grab":v.dragstart(n),v.resume();break;case"free":v.dragend(n)}});var b;o.on("lock unlock",b=function(){var e=this,t=e._private.scratch.cola;e.locked()?v.dragstart(t):v.dragend(t)});var x=o.stdFilter(function(e){return!e.isParent()});if(v.nodes(x.map(function(e,t){var n=h(i.nodeSpacing,e),r=e.position(),a=e._private.scratch.cola={x:i.randomize?Math.round(Math.random()*u.w):r.x,y:i.randomize?Math.round(Math.random()*u.h):r.y,width:e.outerWidth()+2*n,height:e.outerHeight()+2*n,index:t};return a})),i.alignment){var _=[],w=[];x.forEach(function(e){var t=h(i.alignment,e),n=e._private.scratch.cola,r=n.index;t&&(null!=t.x&&_.push({node:r,offset:t.x}),null!=t.y&&w.push({node:r,offset:t.y}))});var k=[];_.length>0&&k.push({type:"alignment",axis:"x",offsets:_}),w.length>0&&k.push({type:"alignment",axis:"y",offsets:w}),v.constraints(k)}v.groups(o.stdFilter(function(e){return e.isParent()}).map(function(e,t){return e._private.scratch.cola={index:t,leaves:e.children().stdFilter(function(e){return!e.isParent()}).map(function(e){return e[0]._private.scratch.cola.index})},e}).map(function(e){return e._private.scratch.cola.groups=e.children().stdFilter(function(e){return e.isParent()}).map(function(e){return e._private.scratch.cola.index}),e._private.scratch.cola}));var C,D;null!=i.edgeLength?(C=i.edgeLength,D="linkDistance"):null!=i.edgeSymDiffLength?(C=i.edgeSymDiffLength,D="symmetricDiffLinkLengths"):null!=i.edgeJaccardLength?(C=i.edgeJaccardLength,D="jaccardLinkLengths"):(C=100,D="linkDistance");var T=function(e){return e.calcLength};if(v.links(s.stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}).map(function(e){var t=e._private.scratch.cola={source:e.source()[0]._private.scratch.cola.index,target:e.target()[0]._private.scratch.cola.index};return null!=C&&(t.calcLength=h(C,e)),t})),v.size([u.w,u.h]),null!=C&&v[D](T),i.flow){var S,E="y",P=50;e.is.string(i.flow)?S={axis:i.flow,minSeparation:P}:e.is.number(i.flow)?S={axis:E,minSeparation:i.flow}:e.is.plainObject(i.flow)?(S=i.flow,S.axis=S.axis||E,S.minSeparation=null!=S.minSeparation?S.minSeparation:P):S={axis:E,minSeparation:P},v.flowLayout(S.axis,S.minSeparation)}v.avoidOverlaps(i.avoidOverlap).handleDisconnected(i.handleDisconnected).start(i.unconstrIter,i.userConstIter,i.allConstIter),t.trigger({type:"layoutstart",layout:t}),i.infinite||setTimeout(function(){v.stop()},i.maxSimulationTime)}),this},t.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e("layout","cola",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend({},i,t)}var i={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(){return this.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){for(var t=this.options,i=t,n=t.cy,r=i.eles,a=r.nodes().not(":parent"),o=e.util.makeBoundingBox(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=i.startAngle,h=0,c=0;c<a.length;c++){var d,p=a[c];d=i.concentric.call(p),l.push({value:d,node:p}),p._private.layoutData.concentric=d}a.updateStyle();for(var c=0;c<a.length;c++){var p=a[c];h=Math.max(h,p.outerWidth(),p.outerHeight())}l.sort(function(e,t){return t.value-e.value});for(var f=i.levelWidth(a),g=[[]],v=g[0],c=0;c<l.length;c++){var m=l[c];if(v.length>0){var y=Math.abs(v[0].value-m.value);y>=f&&(v=[],g.push(v))}v.push(m)}var b={},x=0,_=h+i.minNodeSpacing;if(!i.avoidOverlap){var w=g.length>0&&g[0].length>1,k=Math.min(o.w,o.h)/2-_,C=k/(g.length+w?1:0);_=Math.min(_,C)}for(var c=0;c<g.length;c++){var D=g[c],T=2*Math.PI/D.length;if(D.length>1&&i.avoidOverlap){var S=Math.cos(T)-Math.cos(0),E=Math.sin(T)-Math.sin(0),P=Math.sqrt(_*_/(S*S+E*E));x=Math.max(P,x)}for(var N=0;N<D.length;N++){var m=D[N],u=i.startAngle+(i.counterclockwise?1:-1)*T*N,M={x:s.x+x*Math.cos(u),y:s.y+x*Math.sin(u)};b[m.node.id()]=M}x+=_}return a.layoutPositions(this,i,function(){var e=this.id();return b[e]}),this},e("layout","concentric",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend({},n,t)}var i,n={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4e5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};t.prototype.run=function(){var t=this.options,n=t.cy,a=this;a.stopped=!1,a.trigger({type:"layoutstart",layout:a}),i=!0===t.debug?!0:!1;var o=new Date,c=r(n,a,t);i&&s(c),!0===t.randomize&&l(c,n),y(c,n,t);var d=function(e){return a.stopped?(_("Layout manually stopped. Stopping computation in step "+e),!1):(h(c,n,t,e),c.temperature=c.temperature*t.coolingFactor,_("New temperature: "+c.temperature),c.temperature<t.minTemp?(_("Temperature drop below minimum threshold. Stopping computation in step "+e),!1):!0)},p=function(){u(c,n,t),!0===t.fit&&n.fit(t.padding);var e=new Date;console.info("Layout took "+(e-o)+" ms"),a.one("layoutstop",t.stop),a.trigger({type:"layoutstop",layout:a})};if(t.animate){var f=0,g=function(){for(var i,r=0;r<t.refresh&&f<t.numIter;){var i=d(f);if(i===!1)break;r++,f++}u(c,n,t),t.fit&&n.fit(t.padding),i!==!1&&f+1<t.numIter?e.util.requestAnimationFrame(g):p()};e.util.requestAnimationFrame(g)}else{for(var f=0;f<t.numIter&&d(f)!==!1;f++);p()}return this},t.prototype.stop=function(){return this.stopped=!0,this};var r=function(t,i,n){for(var r=n.eles.edges(),o=n.eles.nodes(),s={layout:i,layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},l=0;l<s.nodeSize;l++){var u={};u.id=o[l].data("id"),u.parentId=o[l].data("parent"),u.children=[],u.positionX=o[l].position("x"),u.positionY=o[l].position("y"),u.offsetX=0,u.offsetY=0,u.height=o[l].height(),u.width=o[l].width(),u.maxX=u.positionX+u.width/2,u.minX=u.positionX-u.width/2,u.maxY=u.positionY+u.height/2,u.minY=u.positionY-u.height/2,u.padLeft=o[l]._private.style["padding-left"].pxValue,u.padRight=o[l]._private.style["padding-right"].pxValue,u.padTop=o[l]._private.style["padding-top"].pxValue,u.padBottom=o[l]._private.style["padding-bottom"].pxValue,s.layoutNodes.push(u),s.idToIndex[u.id]=l}for(var h=[],c=0,d=-1,p=[],l=0;l<s.nodeSize;l++){var f=s.layoutNodes[l],g=f.parentId;null!=g?s.layoutNodes[s.idToIndex[g]].children.push(f.id):(h[++d]=f.id,p.push(f.id))}for(s.graphSet.push(p);d>=c;){var v=h[c++],m=s.idToIndex[v],y=s.layoutNodes[m],b=y.children;if(b.length>0){s.graphSet.push(b);for(var l=0;l<b.length;l++)h[++d]=b[l]}}for(var l=0;l<s.graphSet.length;l++)for(var x=s.graphSet[l],w=0;w<x.length;w++){var k=s.idToIndex[x[w]];s.indexToGraph[k]=l}for(var l=0;l<s.edgeSize;l++){var C=r[l],D={};D.id=C.data("id"),D.sourceId=C.data("source"),D.targetId=C.data("target");var T=n.idealEdgeLength,S=s.idToIndex[D.sourceId],E=s.idToIndex[D.targetId],P=s.indexToGraph[S],N=s.indexToGraph[E];if(P!=N){for(var M=a(D.sourceId,D.targetId,s),I=s.graphSet[M],z=0,u=s.layoutNodes[S];-1===$.inArray(u.id,I);)u=s.layoutNodes[s.idToIndex[u.parentId]],z++;for(u=s.layoutNodes[E];-1===$.inArray(u.id,I);)u=s.layoutNodes[s.idToIndex[u.parentId]],z++;_("LCA of nodes "+D.sourceId+" and "+D.targetId+". Index: "+M+" Contents: "+I.toString()+". Depth: "+z),T*=z*n.nestingFactor}D.idealLength=T,s.layoutEdges.push(D)}return s},a=function(e,t,i){var n=o(e,t,0,i);return 2>n.count?0:n.graph},o=function(e,t,i,n){var r=n.graphSet[i];if(-1<$.inArray(e,r)&&-1<$.inArray(t,r))return{count:2,graph:i};for(var a=0,s=0;s<r.length;s++){var l=r[s],u=n.idToIndex[l],h=n.layoutNodes[u].children;if(0!==h.length){var c=n.indexToGraph[n.idToIndex[h[0]]],d=o(e,t,c,n);if(0!==d.count){if(1!==d.count)return d;if(a++,2===a)break}}}return{count:a,graph:i}},s=function(e){if(i){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],r="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(r)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var a=e.graphSet,t=0;t<a.length;t++)console.debug("Set : "+t+": "+a[t].toString());for(var r="IndexToGraph",t=0;t<e.indexToGraph.length;t++)r+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(r),r="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var o=e.layoutEdges[t];r+="\nEdge Index: "+t+" ID: "+o.id+" SouceID: "+o.sourceId+" TargetId: "+o.targetId+" Ideal Length: "+o.idealLength}console.debug(r),r="nodeSize: "+e.nodeSize,r+="\nedgeSize: "+e.edgeSize,r+="\ntemperature: "+e.temperature,console.debug(r)}},l=function(e){for(var t=e.clientWidth,i=e.clientHeight,n=0;n<e.nodeSize;n++){var r=e.layoutNodes[n];r.positionX=Math.random()*t,r.positionY=Math.random()*i}},u=function(e,t,i){var n="Refreshing positions";_(n);var r=e.layout,a=i.eles.nodes(),o=e.boundingBox,s={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};i.boundingBox&&(a.forEach(function(t){var i=e.layoutNodes[e.idToIndex[t.data("id")]];s.x1=Math.min(s.x1,i.positionX),s.x2=Math.max(s.x2,i.positionX),s.y1=Math.min(s.y1,i.positionY),s.y2=Math.max(s.y2,i.positionY)}),s.w=s.x2-s.x1,s.h=s.y2-s.y1),a.positions(function(t,r){var a=e.layoutNodes[e.idToIndex[r.data("id")]];if(n="Node: "+a.id+". Refreshed position: ("+a.positionX+", "+a.positionY+").",_(n),i.boundingBox){var l=(a.positionX-s.x1)/s.w,u=(a.positionY-s.y1)/s.h;return{x:o.x1+l*o.w,y:o.y1+u*o.h}}return{x:a.positionX,y:a.positionY}}),!0!==e.ready&&(n="Triggering layoutready",_(n),e.ready=!0,r.one("layoutready",i.ready),r.trigger({type:"layoutready",layout:this}))},h=function(e,t,i,n){var r="\n\n###############################";r+="\nSTEP: "+n,r+="\n###############################\n",_(r),c(e,t,i),g(e,t,i),v(e,t,i),m(e,t,i),y(e,t,i)},c=function(e,t,i){var n="calculateNodeForces";_(n);for(var r=0;r<e.graphSet.length;r++){var a=e.graphSet[r],o=a.length;n="Set: "+a.toString(),_(n);for(var s=0;o>s;s++)for(var l=e.layoutNodes[e.idToIndex[a[s]]],u=s+1;o>u;u++){var h=e.layoutNodes[e.idToIndex[a[u]]];d(l,h,e,t,i)}}},d=function(e,t,i,n,r){var a="Node repulsion. Node1: "+e.id+" Node2: "+t.id,o=t.positionX-e.positionX,s=t.positionY-e.positionY;if(a+="\ndirectionX: "+o+", directionY: "+s,0===o&&0===s)return void(a+="\nNodes have the same position.");var l=f(e,t,o,s);if(l>0){a+="\nNodes DO overlap.",a+="\nOverlap: "+l;var u=r.nodeOverlap*l,h=Math.sqrt(o*o+s*s);a+="\nDistance: "+h;var c=u*o/h,d=u*s/h}else{a+="\nNodes do NOT overlap.";var g=p(e,o,s),v=p(t,-1*o,-1*s),m=v.x-g.x,y=v.y-g.y,b=m*m+y*y,h=Math.sqrt(b);a+="\nDistance: "+h;var u=r.nodeRepulsion/b,c=u*m/h,d=u*y/h}e.offsetX-=c,e.offsetY-=d,t.offsetX+=c,t.offsetY+=d,a+="\nForceX: "+c+" ForceY: "+d,_(a)},p=function(e,t,i){var n=e.positionX,r=e.positionY,a=e.height,o=e.width,s=i/t,l=a/o,u="Computing clipping point of node "+e.id+" . Height:  "+a+", Width: "+o+"\nDirection "+t+", "+i,h={};do{if(0===t&&i>0){h.x=n,u+="\nUp direction",h.y=r+a/2;break}if(0===t&&0>i){h.x=n,h.y=r+a/2,u+="\nDown direction";break}if(t>0&&s>=-1*l&&l>=s){h.x=n+o/2,h.y=r+o*i/2/t,u+="\nRightborder";break}if(0>t&&s>=-1*l&&l>=s){h.x=n-o/2,h.y=r-o*i/2/t,u+="\nLeftborder";break}if(i>0&&(-1*l>=s||s>=l)){h.x=n+a*t/2/i,h.y=r+a/2,u+="\nTop border";break}if(0>i&&(-1*l>=s||s>=l)){h.x=n-a*t/2/i,h.y=r-a/2,u+="\nBottom border";break}}while(!1);return u+="\nClipping point found at "+h.x+", "+h.y,_(u),h},f=function(e,t,i,n){if(i>0)var r=e.maxX-t.minX;else var r=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return r>=0&&a>=0?Math.sqrt(r*r+a*a):0},g=function(e,t,i){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],a=e.idToIndex[r.sourceId],o=e.layoutNodes[a],s=e.idToIndex[r.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,h=l.positionY-o.positionY;if(0===u&&0===h)return;var c=p(o,u,h),d=p(l,-1*u,-1*h),f=d.x-c.x,g=d.y-c.y,v=Math.sqrt(f*f+g*g),m=Math.pow(r.idealLength-v,2)/i.edgeElasticity;if(0!==v)var y=m*f/v,b=m*g/v;else var y=0,b=0;o.offsetX+=y,o.offsetY+=b,l.offsetX-=y,l.offsetY-=b;var x="Edge force between nodes "+o.id+" and "+l.id;x+="\nDistance: "+v+" Force: ("+y+", "+b+")",_(x)}},v=function(e,t,i){var n="calculateGravityForces";_(n);for(var r=0;r<e.graphSet.length;r++){var a=e.graphSet[r],o=a.length;if(n="Set: "+a.toString(),_(n),0===r)var s=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],h=e.layoutNodes[e.idToIndex[u.parentId]],s=h.positionX,l=h.positionY;n="Center found at: "+s+", "+l,_(n);for(var c=0;o>c;c++){var d=e.layoutNodes[e.idToIndex[a[c]]];n="Node: "+d.id;var p=s-d.positionX,f=l-d.positionY,g=Math.sqrt(p*p+f*f);if(g>1){var v=i.gravity*p/g,m=i.gravity*f/g;d.offsetX+=v,d.offsetY+=m,n+=": Applied force: "+v+", "+m}else n+=": skypped since it's too close to center";_(n)}}},m=function(e){var t=[],i=0,n=-1;for(_("propagateForces"),t.push.apply(t,e.graphSet[0]),n+=e.graphSet[0].length;n>=i;){var r=t[i++],a=e.idToIndex[r],o=e.layoutNodes[a],s=o.children;if(0<s.length){var l=o.offsetX,u=o.offsetY,h="Propagating offset from parent node : "+o.id+". OffsetX: "+l+". OffsetY: "+u;h+="\n Children: "+s.toString(),_(h);for(var c=0;c<s.length;c++){var d=e.layoutNodes[e.idToIndex[s[c]]];d.offsetX+=l,d.offsetY+=u,t[++n]=s[c]}o.offsetX=0,o.offsetY=0}}},y=function(e){var t="Updating positions";_(t);for(var i=0;i<e.nodeSize;i++){var n=e.layoutNodes[i];0<n.children.length&&(_("Resetting boundaries of compound node: "+n.id),n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0)}for(var i=0;i<e.nodeSize;i++){var n=e.layoutNodes[i];if(0<n.children.length)_("Skipping position update of node: "+n.id);else{t="Node: "+n.id+" Previous position: ("+n.positionX+", "+n.positionY+").";var r=b(n.offsetX,n.offsetY,e.temperature);n.positionX+=r.x,n.positionY+=r.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,t+=" New Position: ("+n.positionX+", "+n.positionY+").",_(t),x(n,e)}}for(var i=0;i<e.nodeSize;i++){var n=e.layoutNodes[i];0<n.children.length&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,t="Updating position, size of compound node "+n.id,t+="\nPositionX: "+n.positionX+", PositionY: "+n.positionY,t+="\nWidth: "+n.width+", Height: "+n.height,_(t))}},b=function(e,t,i){var n="Limiting force: ("+e+", "+t+"). Max: "+i,r=Math.sqrt(e*e+t*t);if(r>i)var a={x:i*e/r,y:i*t/r};else var a={x:e,y:t};return n+=".\nResult: ("+a.x+", "+a.y+")",_(n),a},x=function(e,t){var i="Propagating new position/size of node "+e.id,n=e.parentId;if(null==n)return i+=". No parent node.",void _(i);var r=t.layoutNodes[t.idToIndex[n]],a=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,a=!0,i+="\nNew maxX for parent node "+r.id+": "+r.maxX),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,a=!0,i+="\nNew minX for parent node "+r.id+": "+r.minX),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,a=!0,i+="\nNew maxY for parent node "+r.id+": "+r.maxY),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,a=!0,i+="\nNew minY for parent node "+r.id+": "+r.minY),a?(_(i),x(r,t)):(i+=". No changes in boundaries/position of parent node "+r.id,void _(i))},_=function(e){i&&console.debug(e)};e("layout","cose",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},i,t)}var i={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};t.prototype.run=function(){var t=this.options,i=this;return e.util.require("dagre",function(n){for(var r=t.cy,a=t.eles,o=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s=new n.Digraph,l=a.nodes().not(":parent"),u=0;u<l.length;u++){var h=l[u];s.addNode(h.id(),{width:h.width(),height:h.height()})}for(var c=a.edges(),u=0;u<c.length;u++){var d=c[u];s.addEdge(d.id(),d.source().id(),d.target().id(),{minLen:e.is.fn(t.minLen)?t.minLen.apply(d,[d]):t.minLen})}var p=n.layout();t.nodeSep&&p.nodeSep(t.nodeSep),t.edgeSep&&p.edgeSep(t.edgeSep),t.rankSep&&p.rankSep(t.rankSep),t.rankDir&&p.rankDir(t.rankDir),p=p.run(s),p.eachNode(function(e,t){r.getElementById(e).scratch().dagre=t});var f;t.boundingBox?(f={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},l.forEach(function(e){var t=e.scratch().dagre;f.x1=Math.min(f.x1,t.x),f.x2=Math.max(f.x2,t.x),f.y1=Math.min(f.y1,t.y),f.y2=Math.max(f.y2,t.y)}),f.w=f.x2-f.x1,f.h=f.y2-f.y1):f=o;var g=function(e){if(t.boundingBox){var i=(e.x-f.x1)/f.w,n=(e.y-f.y1)/f.h;return{x:o.x1+i*o.w,y:o.y1+n*o.h}}return e};l.layoutPositions(i,t,function(){var e=this.scratch().dagre;return g({x:e.x,y:e.y})})}),this},e("layout","dagre",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend({},i,t)}var i={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(){},animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,i=t,n=t.cy,r=i.eles,a=r.nodes().not(":parent"),o=e.util.makeBoundingBox(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)a.layoutPositions(this,i,function(){return{x:o.x1,y:o.y1}});else{var s=a.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),h=Math.round(o.w/o.h*l),c=function(e){if(null==e)return Math.min(u,h);var t=Math.min(u,h);t==u?u=e:h=e},d=function(e){if(null==e)return Math.max(u,h);var t=Math.max(u,h);t==u?u=e:h=e};if(null!=i.rows&&null!=i.columns)u=i.rows,h=i.columns;else if(null!=i.rows&&null==i.columns)u=i.rows,h=Math.ceil(s/u);else if(null==i.rows&&null!=i.columns)h=i.columns,u=Math.ceil(s/h);else if(h*u>s){var p=c(),f=d();(p-1)*f>=s?c(p-1):(f-1)*p>=s&&d(f-1)}else for(;s>h*u;){var p=c(),f=d();(f+1)*p>=s?d(f+1):c(p+1)}var g=o.w/h,v=o.h/u;if(i.avoidOverlap)for(var m=0;m<a.length;m++){var y=a[m],b=y.outerWidth(),x=y.outerHeight();g=Math.max(g,b),v=Math.max(v,x)}for(var _={},w=function(e,t){return _["c-"+e+"-"+t]?!0:!1},k=function(e,t){_["c-"+e+"-"+t]=!0},C=0,D=0,T=function(){D++,D>=h&&(D=0,C++)},S={},m=0;m<a.length;m++){var y=a[m],E=i.position(y);if(E&&(void 0!==E.row||void 0!==E.col)){var P={row:E.row,col:E.col};
if(void 0===P.col)for(P.col=0;w(P.row,P.col);)P.col++;else if(void 0===P.row)for(P.row=0;w(P.row,P.col);)P.row++;S[y.id()]=P,k(P.row,P.col)}}var N=function(e,t){var i,n;if(t.locked()||t.isFullAutoParent())return!1;var r=S[t.id()];if(r)i=r.col*g+g/2+o.x1,n=r.row*v+v/2+o.y1;else{for(;w(C,D);)T();i=D*g+g/2+o.x1,n=C*v+v/2+o.y1,k(C,D),T()}return{x:i,y:n}};a.layoutPositions(this,i,N)}return this},e("layout","grid",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},i,t)}var i={ready:function(){},stop:function(){}};t.prototype.run=function(){{var e=this.options,t=e.eles,i=this;e.cy}return i.trigger("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),i.one("layoutready",e.ready),i.trigger("layoutready"),i.one("layoutstop",e.stop),i.trigger("layoutstop"),this},t.prototype.stop=function(){return this},e("layout","null",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},i,t)}var i={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){function t(e){if(null==i.positions)return null;if(a)return i.positions.apply(e,[e]);var t=i.positions[e._private.data.id];return null==t?null:t}var i=this.options,n=i.eles,r=n.nodes(),a=e.is.fn(i.positions);return r.layoutPositions(this,i,function(e,i){var n=t(i);return i.locked()||null==n?!1:n}),this},e("layout","preset",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},i,t)}var i={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,i=t.cy,n=t.eles,r=n.nodes().not(":parent"),a=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),o=function(){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};return r.layoutPositions(this,t,o),this},e("layout","random",t)}(n),function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},i,t)}var i={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};t.prototype.run=function(){var t=this,i=this,n=this.options;return e.util.require("Springy",function(r){function a(e){var t=e.scratch("springy").model.id,i=_.layout.nodePoints[t].p,n=e.position(),r=null!=n.x&&null!=n.y?m(e.position()):{x:4*Math.random()-2,y:4*Math.random()-2};i.x=r.x,i.y=r.y}function o(){n.ungrabifyWhileSimulating&&k.ungrabify(),_.start()}var s=!1,l=n.cy;t.trigger({type:"layoutstart",layout:t});var u=n.eles,h=u.nodes().not(":parent"),c=u.edges(),d=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),p=new r.Graph;h.each(function(e,t){t.scratch("springy",{model:p.newNode({element:t})})}),c.each(function(e,t){var i=t.source().scratch("springy").model,n=t.target().scratch("springy").model;t.scratch("springy",{model:p.newEdge(i,n,{element:t})})});var f=window.sim=new r.Layout.ForceDirected(p,n.stiffness,n.repulsion,n.damping);n.infinite&&(f.minEnergyThreshold=-1/0);var g=f.getBoundingBox(),v=function(e){g=f.getBoundingBox();var t=g.topright.subtract(g.bottomleft),i=e.subtract(g.bottomleft).divide(t.x).x*d.w+d.x1,n=e.subtract(g.bottomleft).divide(t.y).y*d.h+d.x1;return new r.Vector(i,n)},m=function(e){g=f.getBoundingBox();var t=g.topright.subtract(g.bottomleft),i=(e.x-d.x1)/d.w*t.x+g.bottomleft.x,n=(e.y-d.y1)/d.h*t.y+g.bottomleft.y;return new r.Vector(i,n)},y=l.collection(),b=l.nodes().size(),x=1,_=new r.Renderer(f,function(){y.length>0&&n.animate&&(s=!0,y.rtrigger("position"),n.fit&&l.fit(n.padding),y=l.collection(),s=!1)},function(){},function(e,i){var r=v(i),a=e.data.element;a.locked()||a.grabbed()||(a._private.position={x:r.x,y:r.y},y.merge(a)),x==b&&(t.one("layoutready",n.ready),t.trigger({type:"layoutready",layout:t})),x++});h.each(function(e,t){n.random||a(t)});var w;h.on("position",w=function(){s||a(this)});var k=h.filter(":grabbable");i.stopSystem=function(){p.filterNodes(function(){return!1}),n.ungrabifyWhileSimulating&&k.grabify(),n.fit&&l.fit(n.padding),h.off("drag position",w),t.one("layoutstop",n.stop),t.trigger({type:"layoutstop",layout:t}),i.stopSystem=null},o(),n.infinite||setTimeout(function(){i.stop()},n.maxSimulationTime)}),this},t.prototype.stop=function(){return null!=this.stopSystem&&this.stopSystem(),this},e("layout","springy",t)}(n),function(e){"use strict";function t(e){this.options=e}t.prototype.recalculateRenderedStyle=function(){},t.prototype.notify=function(){},e("renderer","null",t)}(n)},{}],4:[function(e){var t=e("jquery");!function(e,t){function i(t,i){var r,a,o,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,a=r.name,t.href&&a&&"map"===r.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,r,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function r(t,i,n,r){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?s["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var r,a=e.ui[t].prototype;for(r in n)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([i,n[r]])},call:function(e,t,i){var n,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)e.options[r[n][0]]&&r[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0?!0:(t[n]=1,r=t[n]>0,t[n]=0,r)}})}(t),function(e,t){var i=0,n=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(a){}r(t)},e.widget=function(t,i,n){var r,a,o,s,l={},u=t.split(".")[0];t=t.split(".")[1],r=u+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},a=e[u][t],o=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,a,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=a,t}}()):void(l[t]=n)}),o.prototype=e.widget.extend(s,{widgetEventPrefix:a?s.widgetEventPrefix:t},l,{constructor:o,namespace:u,widgetName:t,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(i){for(var r,a,o=n.call(arguments,1),s=0,l=o.length;l>s;s++)for(r in o[s])a=o[s][r],o[s].hasOwnProperty(r)&&a!==t&&(i[r]=e.isPlainObject(a)?e.isPlainObject(i[r])?e.widget.extend({},i[r],a):e.widget.extend({},a):a);return i},e.widget.bridge=function(i,r){var a=r.prototype.widgetFullName||i;e.fn[i]=function(o){var s="string"==typeof o,l=n.call(arguments,1),u=this;return o=!s&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,this.each(s?function(){var n,r=e.data(this,a);return r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,l),n!==r&&n!==t?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=e.data(this,a);t?t.option(o||{})._init():e.data(this,a,new r(o,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var r,a,o,s=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(s={},r=i.split("."),i=r.shift(),r.length){for(a=s[i]=e.widget.extend({},this.options[i]),o=0;o<r.length-1;o++)a[r[o]]=a[r[o]]||{},a=a[r[o]];if(i=r.pop(),n===t)return a[i]===t?null:a[i];a[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];s[i]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var r,a=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,o){function s(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+a.eventNamespace,h=l[2];h?r.delegate(h,u,s):i.bind(u,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,a,o=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(r in a)r in i||(i[r]=a[r]);return this.element.trigger(i,n),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,a){"string"==typeof r&&(r={effect:r});var o,s=r?r===!0||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=a,r.delay&&n.delay(r.delay),o&&e.effects&&e.effects.effect[s]?n[t](r):s!==t&&n[s]?n[s](r.duration,r.easing,a):n.queue(function(i){e(this)[t](),a&&a.call(n[0]),i()})}})}(t),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return r&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(t),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=e(r.containment),n=i[0],void(n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,r,a,o=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,u=t.pageY;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,u=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),r=n.options,a=e.extend({},i,{item:n.element});n.sortables=[],e(r.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i){var n=e(this).data("ui-draggable"),r=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,i){var n=e(this).data("ui-draggable"),r=this;e.each(n.sortables,function(){var a=!1,o=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,r=!1;
i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,r,a,o,s,l,u,h,c,d,p=e(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,v=i.offset.left,m=v+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--)s=p.snapElements[c].left,l=s+p.snapElements[c].width,u=p.snapElements[c].top,h=u+p.snapElements[c].height,s-g>m||v>l+g||u-g>b||y>h+g||!e.contains(p.snapElements[c].item.ownerDocument,p.snapElements[c].item)?(p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(u-b)<=g,r=Math.abs(h-y)<=g,a=Math.abs(s-m)<=g,o=Math.abs(l-v)<=g,n&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:s-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||r||a||o,"outer"!==f.snapMode&&(n=Math.abs(u-y)<=g,r=Math.abs(h-b)<=g,a=Math.abs(s-v)<=g,o=Math.abs(l-m)<=g,n&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:s}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[c].snapping&&(n||r||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=n||r||a||o||d)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(t),function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,r=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,n){if(!i.offset)return!1;var r,a,o=(e.positionAbs||e.position.absolute).left,s=o+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,u=l+e.helperProportions.height,h=i.offset.left,c=h+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;switch(n){case"fit":return o>=h&&c>=s&&l>=d&&p>=u;case"intersect":return h<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<c&&d<l+e.helperProportions.height/2&&u-e.helperProportions.height/2<p;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,a=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(a,d,i.proportions.height)&&t(r,h,i.proportions.width);case"touch":return(l>=d&&p>=l||u>=d&&p>=u||d>l&&u>p)&&(o>=h&&c>=o||s>=h&&c>=s||h>o&&s>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,r,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<a.length;n++)if(!(a[n].options.disabled||t&&!a[n].accept.call(a[n].element[0],t.currentItem||t.element))){for(r=0;r<s.length;r++)if(s[r]===a[n].element[0]){a[n].proportions.height=0;continue e}a[n].visible="none"!==a[n].element.css("display"),a[n].visible&&("mousedown"===o&&a[n]._activate.call(a[n],i),a[n].offset=a[n].element.offset(),a[n].proportions={width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,a,o=e.ui.intersect(t,this,this.options.tolerance),s=!o&&this.isover?"isout":o&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===r}),a.length&&(n=e.data(a[0],"ui-droppable"),n.greedyChild="isover"===s)),n&&"isover"===s&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,i),n&&"isout"===s&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(t),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,r,a,o=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),a="ui-resizable-"+n,r=e("<div class='ui-resizable-handle "+a+"'></div>"),r.css({zIndex:s.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(t){var i,n,r,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,a),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(i){var n,r,a,o=this.options,s=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),n=t(this.helper.css("left")),r=t(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===a?this.axis+"-resize":a),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,r={},a=this.originalMousePosition,o=this.axis,s=this.position.top,l=this.position.left,u=this.size.width,h=this.size.height,c=t.pageX-a.left||0,d=t.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[t,c,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==u&&(r.width=this.size.width+"px"),this.size.height!==h&&(r.height=this.size.height+"px"),n.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,r,a,o,s,l,u=this.options,h=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&e.ui.hasScroll(i[0],"left")?0:h.sizeDiff.height,a=n?0:h.sizeDiff.width,o={width:h.helper.width()-a,height:h.helper.height()-r},s=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,u.animate||this.element.css(e.extend(o,{top:l,left:s})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,r,a,o,s=this.options;o={minWidth:i(s.minWidth)?s.minWidth:0,maxWidth:i(s.maxWidth)?s.maxWidth:1/0,minHeight:i(s.minHeight)?s.minHeight:0,maxHeight:i(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),a<o.maxHeight&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=i(e.width)&&t.minWidth&&t.minWidth>e.width,s=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,h=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),o&&h&&(e.left=l-t.minWidth),r&&h&&(e.left=l-t.maxWidth),s&&c&&(e.top=u-t.minHeight),a&&c&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,r,a=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],n=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);r.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,r=i._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,s=a?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-o},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,h&&u?{top:h,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,r,a,o,s,l,u=e(this).data("ui-resizable"),h=u.options,c=u.element,d=h.containment,p=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;p&&(u.containerElement=e(p),/document/.test(d)||d===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=t(i.css("padding"+r))}),u.containerOffset=i.offset(),u.containerPosition=i.position(),u.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},r=u.containerOffset,a=u.containerSize.height,o=u.containerSize.width,s=e.ui.hasScroll(p,"left")?p.scrollWidth:o,l=e.ui.hasScroll(p)?p.scrollHeight:a,u.parentData={element:p,left:r.left,top:r.top,width:s,height:l}))},resize:function(t){var i,n,r,a,o=e(this).data("ui-resizable"),s=o.options,l=o.containerOffset,u=o.position,h=o._aspectRatio||t.shiftKey,c={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(c=l),u.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-c.left),h&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=s.helper?l.left:0),u.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),h&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?l.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-c.left:o.offset.left-c.left)+o.sizeDiff.width),n=Math.abs((o._helper?o.offset.top-c.top:o.offset.top-l.top)+o.sizeDiff.height),r=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),r&&a&&(i-=o.parentData.left),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,h&&(o.size.height=o.size.width/o.aspectRatio)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,h&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,r=t.containerPosition,a=t.containerElement,o=e(t.helper),s=o.offset(),l=o.outerWidth()-t.sizeDiff.width,u=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:u}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),r=n.options,a=n.originalSize,o=n.originalPosition,s={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(t,n){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),a={},o=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(r[t]||0)+(s[t]||0);i&&i>=0&&(a[t]=i||null)}),t.css(a)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,r=t.originalSize,a=t.originalPosition,o=t.axis,s="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=s[0]||1,u=s[1]||1,h=Math.round((n.width-r.width)/l)*l,c=Math.round((n.height-r.height)/u)*u,d=r.width+h,p=r.height+c,f=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>d,m=i.minHeight&&i.minHeight>p;i.grid=s,v&&(d+=l),m&&(p+=u),f&&(d-=l),g&&(p-=u),/^(se|s|e)$/.test(o)?(t.size.width=d,t.size.height=p):/^(ne)$/.test(o)?(t.size.width=d,t.size.height=p,t.position.top=a.top-c):/^(sw)$/.test(o)?(t.size.width=d,t.size.height=p,t.position.left=a.left-h):(t.size.width=d,t.size.height=p,t.position.top=a.top-c,t.position.left=a.left-h)}})}(t),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");return r?(n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,a=this.opos[0],o=this.opos[1],s=t.pageX,l=t.pageY;return a>s&&(i=s,s=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:s-a,height:l-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),u=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?u=!(i.left>s||i.right<a||i.top>l||i.bottom<o):"fit"===r.tolerance&&(u=i.left>a&&i.right<s&&i.top>o&&i.bottom<l),u?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(t),function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();
for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,r=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(n=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var r,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,a,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],a=this._intersectsWithPointer(n),a&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,a=e.left,o=a+e.width,s=e.top,l=s+e.height,u=this.offset.click.top,h=this.offset.click.left,c="x"===this.options.axis||n+u>s&&l>n+u,d="y"===this.options.axis||t+h>a&&o>t+h,p=c&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&s<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=i&&n,a=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return r?this.floating?o&&"right"===o||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&n||"left"===a&&!n:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,r,a,o=[],s=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(r=e(l[i]),n=r.length-1;n>=0;n--)a=e.data(r[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&s.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=s.length-1;i>=0;i--)s[i][0].each(function(){o.push(this)});return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,a,o,s,l,u,h=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=e(d[i]),n=r.length-1;n>=0;n--)a=e.data(r[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(c.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=c.length-1;i>=0;i--)for(o=c[i][1],s=c[i][0],n=0,u=s.length;u>n;n++)l=e(s[n]),l.data(this.widgetName+"-item",o),h.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,a;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),a=r.offset(),n.left=a.left,n.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(n){var r,a,o,s,l,u,h,c,d,p,f=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",n,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",n,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(o=1e4,s=null,p=f.floating||i(this.currentItem),l=p?"left":"top",u=p?"width":"height",h=this.positionAbs[l]+this.offset.click[l],a=this.items.length-1;a>=0;a--)e.contains(this.containers[g].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[a].top,this.items[a].height))&&(c=this.items[a].item.offset()[l],d=!1,Math.abs(c-h)>Math.abs(c+this.items[a][u]-h)&&(d=!0,c+=this.items[a][u]),Math.abs(c-h)<o&&(o=Math.abs(c-h),s=this.items[a],this.direction=d?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;s?this._rearrange(n,s,null,!0):this._rearrange(n,null,this.containers[g].element,!0),this._trigger("change",n,this._uiHash()),this.containers[g]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",n,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,a=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(t),function(e,i){var n="ui-effects-";e.effects={effect:{}},function(e,t){function i(e,t,i){var n=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=u(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var a,o=r.re.exec(t),s=o&&r.parse(o),l=r.space||"rgba";return s?(a=i[l](s),i[h[l].cache]=a[h[l].cache],n=i._rgba=a._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),i):a[t]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=u.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(h,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,o,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(o),o=t);var c=this,d=e.type(r),p=this._rgba=[];return o!==t&&(r=[r,o,s,l],d="array"),"string"===d?this.parse(n(r)||a._default):"array"===d?(f(h.rgba.props,function(e,t){p[t.idx]=i(r[t.idx],t)}),this):"object"===d?(r instanceof u?f(h,function(e,t){r[t.cache]&&(c[t.cache]=r[t.cache].slice())}):f(h,function(t,n){var a=n.cache;f(n.props,function(e,t){if(!c[a]&&n.to){if("alpha"===e||null==r[e])return;c[a]=n.to(c._rgba)}c[a][t.idx]=i(r[e],t,!0)}),c[a]&&e.inArray(null,c[a].slice(0,3))<0&&(c[a][3]=1,n.from&&(c._rgba=n.from(c[a])))}),this):void 0},is:function(e){var t=u(e),i=!0,n=this;return f(h,function(e,r){var a,o=t[r.cache];return o&&(a=n[r.cache]||r.to&&r.to(n._rgba)||[],f(r.props,function(e,t){return null!=o[t.idx]?i=o[t.idx]===a[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(h,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=u(e),r=n._space(),a=h[r],o=0===this.alpha()?u("transparent"):this,s=o[a.cache]||a.to(o._rgba),l=s.slice();return n=n[a.cache],f(a.props,function(e,r){var a=r.idx,o=s[a],u=n[a],h=c[r.type]||{};null!==u&&(null===o?l[a]=u:(h.mod&&(u-o>h.mod/2?o+=h.mod:o-u>h.mod/2&&(o-=h.mod)),l[a]=i((u-o)*t+o,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=u(t)._rgba;return u(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,h.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,a=e[2]/255,o=e[3],s=Math.max(n,r,a),l=Math.min(n,r,a),u=s-l,h=s+l,c=.5*h;return t=l===s?0:n===s?60*(r-a)/u+360:r===s?60*(a-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5>=c?u/h:u/(2-h),[Math.round(t)%360,i,c,null==o?1:o]},h.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],a=e[3],o=.5>=n?n*(1+i):n+i-n*i,s=2*n-o;return[Math.round(255*r(s,o,t+1/3)),Math.round(255*r(s,o,t)),Math.round(255*r(s,o,t-1/3)),a]},f(h,function(n,r){var a=r.props,o=r.cache,l=r.to,h=r.from;u.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var r,s=e.type(n),c="array"===s||"object"===s?n:arguments,d=this[o].slice();return f(a,function(e,t){var n=c["object"===s?e:t.idx];null==n&&(n=d[t.idx]),d[t.idx]=i(n,t)}),h?(r=u(h(d)),r[o]=d,r):u(d)},f(a,function(t,i){u.fn[t]||(u.fn[t]=function(r){var a,o=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[l](),h=u[i.idx];return"undefined"===o?h:("function"===o&&(r=r.call(this,h),o=e.type(r)),null==r&&i.empty?this:("string"===o&&(a=s.exec(r),a&&(r=h+parseFloat(a[2])*("+"===a[1]?1:-1))),u[i.idx]=r,this[l](u)))})})}),u.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,r){var a,o,s="";if("transparent"!==r&&("string"!==e.type(r)||(a=n(r)))){if(r=u(a||r),!d.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&o&&o.style;)try{s=e.css(o,"backgroundColor"),o=o.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=u(t.elem,i),t.end=u(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function n(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(a[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(a[i]=r[i]);return a}function r(t,i){var n,r,a={};for(n in i)r=i[n],t[n]!==r&&(o[n]||(e.fx.step[n]||!isNaN(parseFloat(r)))&&(a[n]=r));return a}var a=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(i,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(t.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,i,o,s){var l=e.speed(i,o,s);return this.queue(function(){var i,o=e(this),s=o.attr("class")||"",u=l.children?o.find("*").addBack():o;u=u.map(function(){var t=e(this);return{el:t,start:n(this)}}),i=function(){e.each(a,function(e,i){t[i]&&o[i+"Class"](t[i])})},i(),u=u.map(function(){return this.end=n(this.el[0]),this.diff=r(this.start,this.end),this}),o.attr("class",s),u=u.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,u.get()).done(function(){i(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,n,r,a){return n?e.effects.animateClass.call(this,{add:i},n,r,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,r,a,o,s){return"boolean"==typeof r||r===i?a?e.effects.animateClass.call(this,r?{add:n}:{remove:n},a,o,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,a,o)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,a){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,a)}})}(),function(){function t(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t
}function r(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.3",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,t){var r,a;for(a=0;a<t.length;a++)null!==t[a]&&(r=e.data(n+t[a]),r===i&&(r=""),e.css(t[a],r))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(n),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(r[i]=a[0]*n+a[1])}),r}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(r[0]),e.isFunction(t)&&t()}var r=e(this),a=n.complete,s=n.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),i()):o.call(r[0],n,i)}var n=t.apply(this,arguments),r=n.mode,a=n.queue,o=e.effects.effect[n.effect];return e.fx.off||!o?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(i){if(r(i))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(i){if(r(i))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(i){if(r(i)||"boolean"==typeof i)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(t),function(e){var t=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,r=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:a=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[n-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,r=n.heightStyle,a=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),n=i.attr("id"),r=i.next(),a=r.attr("id");n||(n=o+"-header-"+t,i.attr("id",n)),a||(a=o+"-panel-"+t,r.attr("id",a)),i.attr("aria-controls",a),r.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(i=a.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),a=r[0]===n[0],o=a&&i.collapsible,s=o?e():r.next(),l=n.next(),u={oldHeader:n,oldPanel:l,newHeader:o?e():r,newPanel:s};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=o?!1:this.headers.index(r),this.active=a?e():r,this._toggle(u),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,r){var a,o,s,l=this,u=0,h=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},d=h&&c.down||c,p=function(){l._toggleComplete(r)};return"number"==typeof d&&(s=d),"string"==typeof d&&(o=d),o=o||d.easing||c.easing,s=s||d.duration||c.duration,t.length?e.length?(a=e.show().outerHeight(),t.animate(i,{duration:s,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(n,{duration:s,easing:o,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?u+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(a-t.outerHeight()-u),u=0)}})):t.animate(i,s,o,p):e.animate(n,s,o,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(t),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n,r=this.element[0].nodeName.toLowerCase(),a="textarea"===r,o="input"===r;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var a=e.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case a.UP:t=!0,this._keyEvent("previous",r);break;case a.DOWN:t=!0,this._keyEvent("next",r);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(n){i===t&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(t),function(e){var t,i,n,r,a="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},u=function(t){var i=t.name,n=t.form,r=e([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,s=this.options,h="checkbox"===this.type||"radio"===this.type,c=h?"":"ui-state-active",d="ui-state-focus";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||e(this).removeClass(c)}).bind("click"+this.eventNamespace,function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){o.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){o.buttonElement.removeClass(d)}),h&&(this.element.bind("change"+this.eventNamespace,function(){r||o.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){s.disabled||(r=!1,i=e.pageX,n=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){s.disabled||(i!==e.pageX||n!==e.pageY)&&(r=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return s.disabled||r?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||r)return!1;e(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var t=o.element[0];u(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return s.disabled?!1:(e(this).addClass("ui-state-active"),t=this,void o.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return s.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return s.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+o+" "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?void(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?u(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(s),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(t),function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(a.inline?t.parent()[0]:a.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function r(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"1.10.3"}});var a,o="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,r,a;n=t.nodeName.toLowerCase(),r="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),r),a.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,a):r&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,o,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,r,a,o=this._get(i,"appendText"),s=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[s?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:r,title:r}):r)),t[s?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,r,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,n=0,r=0;r<e.length;r++)e[r].length>i&&(i=e[r].length,n=r);return n},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,o,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))
},_dialogDatepicker:function(t,i,n,a,s){var l,u,h,c,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],o,p)),r(p.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(u=document.documentElement.clientWidth,h=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+c,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],o,p),this},_destroyDatepicker:function(t){var i,n=e(t),r=e.data(t,o);n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,o),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,r=e(t),a=e.data(t,o);r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,r=e(t),a=e.data(t,o);r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,o)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,a){var o,s,l,u,h=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):h?"all"===n?e.extend({},h.settings):this._get(h,n):null:(o=n||{},"string"==typeof n&&(o={},o[n]=a),void(h&&(this._curInst===h&&this._hideDatepicker(),s=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(h,"min"),u=this._getMinMaxDate(h,"max"),r(h.settings,o),null!==l&&o.dateFormat!==t&&o.minDate===t&&(h.settings.minDate=this._formatDate(h,l)),null!==u&&o.dateFormat!==t&&o.maxDate===t&&(h.settings.maxDate=this._formatDate(h,u)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),h),this._autoSize(h),this._setDate(h,s),this._updateAlternate(h),this._updateDatepicker(h))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,r,a=e.datepicker._getInst(t.target),o=!0,s=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),r[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,r[0]),i=e.datepicker._get(a,"onSelect"),i?(n=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[n,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,s,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),s={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),s=e.datepicker._checkOffset(i,s,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,a=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(t),r=n[1],o=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var r=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?r-o:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+s?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+a>u&&u>a?Math.abs(a+s):0),i},_findPos:function(t){for(var i,n=this._getInst(t),r=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,r,a,s=this._curInst;!s||t&&s!==e.data(t,o)||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),r=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[i]||e.effects[i])?s.dpDiv.hide(i,e.datepicker._get(s,"showOptions"),n,r):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,a=this._get(s,"onClose"),a&&a.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var r=e(t),a=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(a,i+("M"===n?this._get(a,"showCurrentAtPos"):0),n),this._updateDatepicker(a))},_gotoToday:function(t){var i,n=e(t),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var r=e(t),a=this._getInst(r[0]);a["selected"+("M"===n?"Month":"Year")]=a["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(r)},_selectDay:function(t,i,n,r){var a,o=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",r).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=n,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,r=e(t),a=this._getInst(r[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),n=this._get(a,"onSelect"),n?n.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,r,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t)),e(a).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var r,a,o,s,l=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,m=-1,y=-1,b=!1,x=function(e){var i=r+1<t.length&&t.charAt(r+1)===e;return i&&r++,i},_=function(e){var t=x(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=new RegExp("^\\d{1,"+n+"}"),a=i.substring(l).match(r);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},w=function(t,n,r){var a=-1,o=e.map(x(t)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(a=t[0],l+=n.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||x("'")?k():b=!1;else switch(t.charAt(r)){case"d":m=_("d");break;case"D":w("D",c,d);break;case"o":y=_("o");break;case"m":v=_("m");break;case"M":v=w("M",p,f);break;case"y":g=_("y");break;case"@":s=new Date(_("@")),g=s.getFullYear(),v=s.getMonth()+1,m=s.getDate();break;case"!":s=new Date((_("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),v=s.getMonth()+1,m=s.getDate();break;case"'":x("'")?k():b=!0;break;default:k()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=g?0:-100)),y>-1)for(v=1,m=y;;){if(a=this._getDaysInMonth(g,v-1),a>=m)break;v++,m-=a}if(s=this._daylightSavingAdjust(new Date(g,v-1,m)),s.getFullYear()!==g||s.getMonth()+1!==v||s.getDate()!==m)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},u=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},h=function(e,t,i,n){return l(e)?n[t]:i[t]},c="",d=!1;if(t)for(n=0;n<e.length;n++)if(d)"'"!==e.charAt(n)||l("'")?c+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":c+=u("d",t.getDate(),2);break;case"D":c+=h("D",t.getDay(),r,a);break;case"o":c+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=u("m",t.getMonth()+1,2);break;case"M":c+=h("M",t.getMonth(),o,s);break;case"y":c+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":d=!0;break;default:c+=e.charAt(n)}return c},_possibleChars:function(e){var t,i="",n=!1,r=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||r("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),a=r,o=this._getFormatConfig(e);try{a=this.parseDate(i,n,o)||r}catch(s){n=t?"":n}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=n?a.getDate():0,e.currentMonth=n?a.getMonth():0,e.currentYear=n?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=r.getFullYear(),o=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(i);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":o+=parseInt(u[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(u[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(a,o))}u=l.exec(i)}return new Date(a,o,s)},o=null==i||""===i?n:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return o=o&&"Invalid Date"===o.toString()?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,r=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),r===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,r,a,o,s,l,u,h,c,d,p,f,g,v,m,y,b,x,_,w,k,C,D,T,S,E,P,N,M,I,z,A,O,L,B,R,H,W=new Date,F=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),j=this._get(e,"isRTL"),Y=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),K=1!==V[0]||1!==V[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),J=e.drawMonth-$,et=e.drawYear;if(0>J&&(J+=12,et--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-V[0]*V[1]+1,Q.getDate())),t=Z&&Z>t?Z:t;this._daylightSavingAdjust(new Date(et,J,1))>t;)J--,0>J&&(J=11,et--);for(e.drawMonth=J,e.drawYear=et,i=this._get(e,"prevText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,J-U,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>",r=this._get(e,"nextText"),r=X?this.formatDate(r,this._daylightSavingAdjust(new Date(et,J+U,1)),this._getFormatConfig(e)):r,a=this._canAdjustMonth(e,1,et,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>",o=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?G:F,o=X?this.formatDate(o,s,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(j?"":l)+"</div>":"",h=parseInt(this._get(e,"firstDay"),10),h=isNaN(h)?0:h,c=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),v=this._get(e,"beforeShowDay"),m=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),x="",w=0;w<V[0];w++){for(k="",this.maxRows=4,C=0;C<V[1];C++){if(D=this._daylightSavingAdjust(new Date(et,J,e.selectedDay)),T=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",T=" ui-corner-"+(j?"right":"left");break;case V[1]-1:S+=" ui-datepicker-group-last",T=" ui-corner-"+(j?"left":"right");break;default:S+=" ui-datepicker-group-middle",T=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?j?a:n:"")+(/all|right/.test(T)&&0===w?j?n:a:"")+this._generateMonthYearHeader(e,J,et,Z,Q,w>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;7>_;_++)P=(_+h)%7,E+="<th"+((_+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[P]+"'>"+p[P]+"</span></th>";for(S+=E+"</tr></thead><tbody>",N=this._getDaysInMonth(et,J),et===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,N)),M=(this._getFirstDayOfMonth(et,J)-h+7)%7,I=Math.ceil((M+N)/7),z=K&&this.maxRows>I?this.maxRows:I,this.maxRows=z,A=this._daylightSavingAdjust(new Date(et,J,1-M)),O=0;z>O;O++){for(S+="<tr>",L=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(A)+"</td>":"",_=0;7>_;_++)B=v?v.apply(e.input?e.input[0]:null,[A]):[!0,""],R=A.getMonth()!==J,H=R&&!y||!B[0]||Z&&Z>A||Q&&A>Q,L+="<td class='"+((_+h+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&J===e.selectedMonth&&e._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!m?"":" "+B[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===F.getTime()?" ui-datepicker-today":""))+"'"+(R&&!m||!B[2]?"":" title='"+B[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(R&&!m?"&#xa0;":H?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===F.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);S+=L+"</tr>"}J++,J>11&&(J=0,et++),S+="</tbody></table>"+(K?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=S}x+=k}return x+=u,e._keyEvent=!1,x},_generateMonthYearHeader:function(e,t,i,n,r,a,o,s){var l,u,h,c,d,p,f,g,v=this._get(e,"changeMonth"),m=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",x="";if(a||!v)x+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=n&&n.getFullYear()===i,u=r&&r.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!l||h>=n.getMonth())&&(!u||h<=r.getMonth())&&(x+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+s[h]+"</option>");x+="</select>"}if(y||(b+=x+(!a&&v&&m?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!m)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},f=p(c[0]),g=Math.max(f,p(c[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&v&&m?"":"&#xa0;")+x),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),r=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(n,r))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,r,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=i&&i>t?i:t;return n&&r>n?n:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,n+(0>t?t:r[0]*r[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,n,r=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,s=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),s=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(s+=n)),(!r||t.getTime()>=r.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.3"}(t),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)
},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(r.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var r,a;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(t.element[0],arguments)},a={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(r))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(r,a){n.position=[a.position.left-i.document.scrollLeft(),a.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,r=n.resizable,a=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,r){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(r))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(r,a){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,t(a))}}).css("position",a)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(n){var r=this,a=!1,o={};e.each(n,function(e,n){r._setOption(e,n),e in t&&(a=!0),e in i&&(o[e]=n)}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var i,n,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=r.is(":data(ui-draggable)"),i&&!t&&r.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=r.is(":data(ui-resizable)"),n&&!t&&r.resizable("destroy"),n&&"string"==typeof t&&r.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],r=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(r[e]=n[e],n[e]=t)}),i={my:n[0]+(r[0]<0?r[0]:"+"+r[0])+" "+n[1]+(r[1]<0?r[1]:"+"+r[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(t),function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(n,r){var a,o,s,l=e(this),u=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(l,n.mode||"hide"),c=n.direction||"up",d=t.test(c),p=d?"height":"width",f=d?"top":"left",g=i.test(c),v={},m="show"===h;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),u):e.effects.save(l,u),l.show(),a=e.effects.createWrapper(l).css({overflow:"hidden"}),o=a[p](),s=parseFloat(a.css(f))||0,v[p]=m?o:0,g||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),v[f]=m?s:o+s),m&&(a.css(p,0),g||a.css(f,s+o)),a.animate(v,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===h&&l.hide(),e.effects.restore(l,u),e.effects.removeWrapper(l),r()}})}}(t),function(e){e.effects.effect.bounce=function(t,i){var n,r,a,o=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),u="hide"===l,h="show"===l,c=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(h||u?1:0),g=t.duration/f,v=t.easing,m="up"===c||"down"===c?"top":"left",y="up"===c||"left"===c,b=o.queue(),x=b.length;for((h||u)&&s.push("opacity"),e.effects.save(o,s),o.show(),e.effects.createWrapper(o),d||(d=o["top"===m?"outerHeight":"outerWidth"]()/3),h&&(a={opacity:1},a[m]=0,o.css("opacity",0).css(m,y?2*-d:2*d).animate(a,g,v)),u&&(d/=Math.pow(2,p-1)),a={},a[m]=0,n=0;p>n;n++)r={},r[m]=(y?"-=":"+=")+d,o.animate(r,g,v).animate(a,g,v),d=u?2*d:d/2;u&&(r={opacity:0},r[m]=(y?"-=":"+=")+d,o.animate(r,g,v)),o.queue(function(){u&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}),x>1&&b.splice.apply(b,[1,0].concat(b.splice(x,f+1))),o.dequeue()}}(t),function(e){e.effects.effect.clip=function(t,i){var n,r,a,o=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),u="show"===l,h=t.direction||"vertical",c="vertical"===h,d=c?"height":"width",p=c?"top":"left",f={};e.effects.save(o,s),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r="IMG"===o[0].tagName?n:o,a=r[d](),u&&(r.css(d,0),r.css(p,a/2)),f[d]=u?a:0,f[p]=u?0:a/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){u||o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})}}(t),function(e){e.effects.effect.drop=function(t,i){var n,r=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(r,t.mode||"hide"),s="show"===o,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",c={opacity:s?1:0};e.effects.save(r,a),r.show(),e.effects.createWrapper(r),n=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(u,"pos"===h?-n:n),c[u]=(s?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+n,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(t),function(e){e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===c*d&&r()}function r(){p.css({visibility:"visible"}),e(b).remove(),g||p.hide(),i()}var a,o,s,l,u,h,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=c,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),g="show"===f,v=p.show().css("visibility","hidden").offset(),m=Math.ceil(p.outerWidth()/d),y=Math.ceil(p.outerHeight()/c),b=[];for(a=0;c>a;a++)for(l=v.top+a*y,h=a-(c-1)/2,o=0;d>o;o++)s=v.left+o*m,u=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*m,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:y,left:s+(g?u*m:0),top:l+(g?h*y:0),opacity:g?0:1}).animate({left:s+(g?0:u*m),top:l+(g?0:h*y),opacity:g?1:0},t.duration||500,t.easing,n)}}(t),function(e){e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(t),function(e){e.effects.effect.fold=function(t,i){var n,r,a=e(this),o=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(a,t.mode||"hide"),l="show"===s,u="hide"===s,h=t.size||15,c=/([0-9]+)%/.exec(h),d=!!t.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],g=t.duration/2,v={},m={};e.effects.save(a,o),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),r=p?[n.width(),n.height()]:[n.height(),n.width()],c&&(h=parseInt(c[1],10)/100*r[u?0:1]),l&&n.css(d?{height:0,width:h}:{height:h,width:0}),v[f[0]]=l?r[0]:h,m[f[1]]=l?r[1]:0,n.animate(v,g,t.easing).animate(m,g,t.easing,function(){u&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})}}(t),function(e){e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(n,t.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&n.hide(),e.effects.restore(n,r),i()}})}}(t),function(e){e.effects.effect.pulsate=function(t,i){var n,r=e(this),a=e.effects.setMode(r,t.mode||"show"),o="show"===a,s="hide"===a,l=o||"hide"===a,u=2*(t.times||5)+(l?1:0),h=t.duration/u,c=0,d=r.queue(),p=d.length;for((o||!r.is(":visible"))&&(r.css("opacity",0).show(),c=1),n=1;u>n;n++)r.animate({opacity:c},h,t.easing),c=1-c;r.animate({opacity:c},h,t.easing),r.queue(function(){s&&r.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,u+1))),r.dequeue()}}(t),function(e){e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),a="hide"===r,o=parseInt(t.percent,10)||150,s=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:a?o:100,from:a?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),a=e.effects.setMode(n,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),s=t.direction||"both",l=t.origin,u={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},h={y:"horizontal"!==s?o/100:1,x:"vertical"!==s?o/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==a&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:u),r.to={height:u.height*h.y,width:u.width*h.x,outerHeight:u.outerHeight*h.y,outerWidth:u.outerWidth*h.x},r.fade&&("show"===a&&(r.from.opacity=0,r.to.opacity=1),"hide"===a&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},e.effects.effect.size=function(t,i){var n,r,a,o=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],h=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,g=t.scale||"both",v=t.origin||["middle","center"],m=o.css("position"),y=f?s:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||n):(o.from=t.from||("show"===p?b:n),o.to=t.to||("hide"===p?b:n)),a={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},("box"===g||"both"===g)&&(a.from.y!==a.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.y,o.from),o.to=e.effects.setTransition(o,c,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.x,o.from),o.to=e.effects.setTransition(o,d,a.to.x,o.to))),("content"===g||"both"===g)&&a.from.y!==a.to.y&&(y=y.concat(h).concat(u),o.from=e.effects.setTransition(o,h,a.from.y,o.from),o.to=e.effects.setTransition(o,h,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),v&&(r=e.effects.getBaseline(v,n),o.from.top=(n.outerHeight-o.outerHeight())*r.y,o.from.left=(n.outerWidth-o.outerWidth())*r.x,o.to.top=(n.outerHeight-o.to.outerHeight)*r.y,o.to.left=(n.outerWidth-o.to.outerWidth)*r.x),o.css(o.from),("content"===g||"both"===g)&&(c=c.concat(["marginTop","marginBottom"]).concat(h),d=d.concat(["marginLeft","marginRight"]),u=s.concat(c).concat(d),o.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,u),i.from={height:n.height*a.from.y,width:n.width*a.from.x,outerHeight:n.outerHeight*a.from.y,outerWidth:n.outerWidth*a.from.x},i.to={height:n.height*a.to.y,width:n.width*a.to.x,outerHeight:n.height*a.to.y,outerWidth:n.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,c,a.from.y,i.from),i.to=e.effects.setTransition(i,c,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,d,a.from.x,i.from),i.to=e.effects.setTransition(i,d,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,u)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===m?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var n=parseInt(i,10),r=e?o.to.left:o.to.top;return"auto"===i?r+"px":n+r+"px"})})),e.effects.removeWrapper(o),i()}})}}(t),function(e){e.effects.effect.shake=function(t,i){var n,r=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(r,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,u=t.times||3,h=2*u+1,c=Math.round(t.duration/h),d="up"===s||"down"===s?"top":"left",p="up"===s||"left"===s,f={},g={},v={},m=r.queue(),y=m.length;for(e.effects.save(r,a),r.show(),e.effects.createWrapper(r),f[d]=(p?"-=":"+=")+l,g[d]=(p?"+=":"-=")+2*l,v[d]=(p?"-=":"+=")+2*l,r.animate(f,c,t.easing),n=1;u>n;n++)r.animate(g,c,t.easing).animate(v,c,t.easing);r.animate(g,c,t.easing).animate(f,c/2,t.easing).queue(function(){"hide"===o&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}),y>1&&m.splice.apply(m,[1,0].concat(m.splice(y,h+1))),r.dequeue()}}(t),function(e){e.effects.effect.slide=function(t,i){var n,r=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(r,t.mode||"show"),s="show"===o,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,c={};e.effects.save(r,a),r.show(),n=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(u,h?isNaN(n)?"-"+n:-n:n),c[u]=(s?h?"+=":"-=":h?"-=":"+=")+n,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(t),function(e){e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),a="fixed"===r.css("position"),o=e("body"),s=a?o.scrollTop():0,l=a?o.scrollLeft():0,u=r.offset(),h={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},c=n.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-s,left:c.left-l,height:n.innerHeight(),width:n.innerWidth(),position:a?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){d.remove(),i()})}}(t),function(e){e.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,a,o,s,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",a=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),a===r?o=!0:a=r+a,s=new RegExp("^"+i(a),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())}),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(a=String.fromCharCode(t.keyCode),s=new RegExp("^"+i(a),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))}),t=n.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,r,a,o,s;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-n,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.height(),0>r?this.activeMenu.scrollTop(a+r):r+s>o&&this.activeMenu.scrollTop(a+r-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-r<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(t),function(e,t){function i(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}function r(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var a,o=Math.max,s=Math.abs,l=Math.round,u=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(a!==t)return a;var i,n,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),i=o.offsetWidth,r.css("overflow","scroll"),n=o.offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),a=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var a,p,g,v,m,y,b=e(t.of),x=e.position.getWithinInfo(t.within),_=e.position.getScrollInfo(x),w=(t.collision||"flip").split(" "),k={};return y=r(b),b[0].preventDefault&&(t.at="left top"),p=y.width,g=y.height,v=y.offset,m=e.extend({},v),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=h.test(n[1])?n[1]:"center",e=c.exec(n[0]),i=c.exec(n[1]),k[this]=[e?e[0]:0,i?i[0]:0],t[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]
}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?m.left+=p:"center"===t.at[0]&&(m.left+=p/2),"bottom"===t.at[1]?m.top+=g:"center"===t.at[1]&&(m.top+=g/2),a=i(k.at,p,g),m.left+=a[0],m.top+=a[1],this.each(function(){var r,u,h=e(this),c=h.outerWidth(),d=h.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),C=c+f+n(this,"marginRight")+_.width,D=d+y+n(this,"marginBottom")+_.height,T=e.extend({},m),S=i(k.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?T.left-=c:"center"===t.my[0]&&(T.left-=c/2),"bottom"===t.my[1]?T.top-=d:"center"===t.my[1]&&(T.top-=d/2),T.left+=S[0],T.top+=S[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:f,marginTop:y},e.each(["left","top"],function(i,n){e.ui.position[w[i]]&&e.ui.position[w[i]][n](T,{targetWidth:p,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:r,collisionWidth:C,collisionHeight:D,offset:[a[0]+S[0],a[1]+S[1]],my:t.my,at:t.at,within:x,elem:h})}),t.using&&(u=function(e){var i=v.left-T.left,n=i+p-c,r=v.top-T.top,a=r+g-d,l={target:{element:b,left:v.left,top:v.top,width:p,height:g},element:{element:h,left:T.left,top:T.top,width:c,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>a?"top":r>0?"bottom":"middle"};c>p&&s(i+n)<p&&(l.horizontal="center"),d>g&&s(r+a)<g&&(l.vertical="middle"),l.important=o(s(i),s(n))>o(s(r),s(a))?"horizontal":"vertical",t.using.call(this,e,l)}),h.offset(e.extend(T,{using:u}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,u=s+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&0>=u?(i=e.left+l+t.collisionWidth-a-r,e.left+=l-i):e.left=u>0&&0>=l?r:l>u?r+a-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=o(e.left-s,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,u=s+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&0>=u?(i=e.top+l+t.collisionHeight-a-r,e.top+=l-i):e.top=u>0&&0>=l?r:l>u?r+a-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=o(e.top-s,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,a=r.offset.left+r.scrollLeft,o=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,h=u-l,c=u+t.collisionWidth-o-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>h?(i=e.left+d+p+f+t.collisionWidth-o-a,(0>i||i<s(h))&&(e.left+=d+p+f)):c>0&&(n=e.left-t.collisionPosition.marginLeft+d+p+f-l,(n>0||s(n)<c)&&(e.left+=d+p+f))},top:function(e,t){var i,n,r=t.within,a=r.offset.top+r.scrollTop,o=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,h=u-l,c=u+t.collisionHeight-o-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];0>h?(n=e.top+p+f+g+t.collisionHeight-o-a,e.top+p+f+g>h&&(0>n||n<s(h))&&(e.top+=p+f+g)):c>0&&(i=e.top-t.collisionPosition.marginTop+p+f+g-l,e.top+p+f+g>c&&(i>0||s(i)<c)&&(e.top+=p+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,a,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)t.style[a]=n[a];t.appendChild(s),i=o||document.documentElement,i.insertBefore(t,i.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=e(s).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",i.removeChild(t)}()}(t),function(e,t){e.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(t),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),t=r.length;i>t;t++)o.push(a);this.handles=r.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,r,a,o,s,l,u,h=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-h.values(t));(r>i||r===i&&(t===h._lastChangedValue||h.values(t)===c.min))&&(r=i,a=e(this),o=t)}),s=this._start(t,o),s===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),l=a.offset(),u=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-l.left-a.width()/2,top:t.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),a=this._valueMin()+n*r,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,r,a;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(r=this.values(),r[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r}),n=this.values(t?0:1),a!==!1&&this.values(t,i,!0))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,r,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,r=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var n,r=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;r>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,r,a,o=this.options.range,s=this.options,l=this,u=this._animateOff?!1:s.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[u?"animate":"css"](h,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:s.animate}))),t=i}):(n=this.value(),r=this._valueMin(),a=this._valueMax(),i=a!==r?(n-r)/(a-r)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](h,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:s.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(i){var n,r,a,o,s=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),n=this._start(i,s),n===!1))return}switch(o=this.options.step,r=a=this.options.values&&this.options.values.length?this.values(s):this.value(),i.keyCode){case e.ui.keyCode.HOME:a=this._valueMin();break;case e.ui.keyCode.END:a=this._valueMax();break;case e.ui.keyCode.PAGE_UP:a=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;a=this._trimAlignValue(r+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;a=this._trimAlignValue(r-o)}this._slide(i,s,a)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(t),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var r=i.attr(n);void 0!==r&&r.length&&(t[n]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(t),function(e,t){function i(){return++r}function n(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var r=0,a=/#.*$/;e.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,r){return e(r).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,r){var a,o,s,l=e(r).uniqueId().attr("id"),u=e(r).closest("li"),h=u.attr("aria-controls");n(r)?(a=r.hash,o=t.element.find(t._sanitizeSelector(a))):(s=t._tabId(u),a="#"+s,o=t.element.find(a),o.length||(o=t._createPanel(s),o.insertAfter(t.panels[i-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),h&&u.data("ui-tabs-aria-controls",h),u.attr({"aria-controls":a.substring(1),"aria-labelledby":l}),o.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),a=r.closest("li"),o=a[0]===n[0],s=o&&i.collapsible,l=s?e():this._getPanelForTab(a),u=n.length?this._getPanelForTab(n):e(),h={oldTab:n,oldPanel:u,newTab:s?e():a,newPanel:l};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,h)===!1||(i.active=s?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),u.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(a),t),this._toggle(t,h))},_toggle:function(t,i){function n(){a.running=!1,a._trigger("activate",t,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,n):(o.show(),n())}var a=this,o=i.newPanel,s=i.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),r()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&s.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var r=this,a=this.tabs.eq(t),o=a.find(".ui-tabs-anchor"),s=this._getPanelForTab(a),l={tab:a,panel:s};n(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){s.html(e),r._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&r.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(t,i,n){var r=this;return{url:t.attr("href"),beforeSend:function(t,a){return r._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(t),function(e){function t(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(i,n);-1!==r&&n.splice(r,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}var n=0;e.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var r=e.Event("blur");r.target=r.currentTarget=n[0],t.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,r=this,a=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&r._delay(function(){t&&(t.type=a),this._open(t,e,i)})}),void(i&&this._open(t,e,i)))},_open:function(i,n,r){function a(e){u.of=e,o.is(":hidden")||o.position(u)}var o,s,l,u=e.extend({},this.options.position);if(r){if(o=this._find(n),o.length)return void o.find(".ui-tooltip-content").html(r);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),t(n,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:a}),a(i)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){o.is(":visible")&&(a(u.of),clearInterval(l))},e.fx.interval)),this._trigger("open",i,{tooltip:o}),s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(o)}},i&&"mouseover"!==i.type||(s.mouseleave="close"),i&&"focusin"!==i.type||(s.focusout="close"),this._on(!0,n,s)}},close:function(t){var n=this,r=e(t?t.currentTarget:this.element),a=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),i(r),a.stop(!0),this._hide(a,this.options.hide,function(){n._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:a}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+n++,r=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[i]=t,r},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var r=e.Event("blur");r.target=r.currentTarget=n[0],t.close(r,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(t)},{jquery:5}],5:[function(t,i){!function(e,t){"object"==typeof i&&"object"==typeof i.exports?i.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(t,i){function n(e){var t=e.length,i=et.type(e);return"function"===i||et.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,i){if(et.isFunction(t))return et.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return et.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(lt.test(t))return et.filter(t,e,i);t=et.filter(t,e)}return et.grep(e,function(e){return $.call(t,e)>=0!==i})}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=gt[e]={};return et.each(e.match(ft)||[],function(e,i){t[i]=!0}),t}function s(){Q.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),et.ready()}function l(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=et.expando+l.uid++}function u(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(_t,"-$1").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:xt.test(i)?et.parseJSON(i):i}catch(r){}bt.set(e,t,i)}else i=void 0;return i}function h(){return!0}function c(){return!1}function d(){try{return Q.activeElement}catch(e){}}function p(e,t){return et.nodeName(e,"table")&&et.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function g(e){var t=Bt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var i=0,n=e.length;n>i;i++)yt.set(e[i],"globalEval",!t||yt.get(t[i],"globalEval"))}function m(e,t){var i,n,r,a,o,s,l,u;if(1===t.nodeType){if(yt.hasData(e)&&(a=yt.access(e),o=yt.set(t,a),u=a.events)){delete o.handle,o.events={};for(r in u)for(i=0,n=u[r].length;n>i;i++)et.event.add(t,r,u[r][i])}bt.hasData(e)&&(s=bt.access(e),l=et.extend({},s),bt.set(t,l))}}function y(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&et.nodeName(e,t)?et.merge([e],i):i}function b(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Dt.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function x(e,i){var n,r=et(i.createElement(e)).appendTo(i.body),a=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(r[0]))?n.display:et.css(r[0],"display");return r.detach(),a}function _(e){var t=Q,i=Ft[e];return i||(i=x(e,t),"none"!==i&&i||(Wt=(Wt||et("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Wt[0].contentDocument,t.write(),t.close(),i=x(e,t),Wt.detach()),Ft[e]=i),i}function w(e,t,i){var n,r,a,o,s=e.style;return i=i||qt(e),i&&(o=i.getPropertyValue(t)||i[t]),i&&(""!==o||et.contains(e.ownerDocument,e)||(o=et.style(e,t)),Yt.test(o)&&jt.test(t)&&(n=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,r=Gt.length;r--;)if(t=Gt[r]+i,t in e)return t;return n}function D(e,t,i){var n=Vt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function T(e,t,i,n,r){for(var a=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===i&&(o+=et.css(e,i+kt[a],!0,r)),n?("content"===i&&(o-=et.css(e,"padding"+kt[a],!0,r)),"margin"!==i&&(o-=et.css(e,"border"+kt[a]+"Width",!0,r))):(o+=et.css(e,"padding"+kt[a],!0,r),"padding"!==i&&(o+=et.css(e,"border"+kt[a]+"Width",!0,r)));return o}function S(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=qt(e),o="border-box"===et.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=w(e,t,a),(0>r||null==r)&&(r=e.style[t]),Yt.test(r))return r;n=o&&(Z.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,i||(o?"border":"content"),n,a)+"px"}function E(e,t){for(var i,n,r,a=[],o=0,s=e.length;s>o;o++)n=e[o],n.style&&(a[o]=yt.get(n,"olddisplay"),i=n.style.display,t?(a[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Ct(n)&&(a[o]=yt.access(n,"olddisplay",_(n.nodeName)))):(r=Ct(n),"none"===i&&r||yt.set(n,"olddisplay",r?i:et.css(n,"display"))));for(o=0;s>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?a[o]||"":"none"));return e}function P(e,t,i,n,r){return new P.prototype.init(e,t,i,n,r)}function N(){return setTimeout(function(){Zt=void 0}),Zt=et.now()}function M(e,t){var i,n=0,r={height:e};for(t=t?1:0;4>n;n+=2-t)i=kt[n],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function I(e,t,i){for(var n,r=(ni[t]||[]).concat(ni["*"]),a=0,o=r.length;o>a;a++)if(n=r[a].call(i,t,e))return n}function z(e,t,i){var n,r,a,o,s,l,u,h,c=this,d={},p=e.style,f=e.nodeType&&Ct(e),g=yt.get(e,"fxshow");i.queue||(s=et._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,et.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=et.css(e,"display"),h="none"===u?yt.get(e,"olddisplay")||_(e.nodeName):u,"inline"===h&&"none"===et.css(e,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],Jt.exec(r)){if(delete t[n],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;f=!0}d[n]=g&&g[n]||et.style(e,n)}else u=void 0;if(et.isEmptyObject(d))"inline"===("none"===u?_(e.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=yt.access(e,"fxshow",{}),a&&(g.hidden=!f),f?et(e).show():c.done(function(){et(e).hide()}),c.done(function(){var t;yt.remove(e,"fxshow");for(t in d)et.style(e,t,d[t])});for(n in d)o=I(f?g[n]:0,n,c),n in g||(g[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function A(e,t){var i,n,r,a,o;for(i in e)if(n=et.camelCase(i),r=t[n],a=e[i],et.isArray(a)&&(r=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),o=et.cssHooks[n],o&&"expand"in o){a=o.expand(a),delete e[n];for(i in a)i in e||(e[i]=a[i],t[i]=r)}else t[n]=r}function O(e,t,i){var n,r,a=0,o=ii.length,s=et.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Zt||N(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,a=1-n,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(a);return s.notifyWith(e,[u,a,i]),1>a&&l?i:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:et.extend({},t),opts:et.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Zt||N(),duration:i.duration,tweens:[],createTween:function(t,i){var n=et.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)u.tweens[i].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),h=u.props;for(A(h,u.opts.specialEasing);o>a;a++)if(n=ii[a].call(u,e,h,u.opts))return n;return et.map(h,I,u),et.isFunction(u.opts.start)&&u.opts.start.call(e,u),et.fx.timer(et.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,a=t.toLowerCase().match(ft)||[];if(et.isFunction(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function B(e,t,i,n){function r(s){var l;return a[s]=!0,et.each(e[s]||[],function(e,s){var u=s(t,i,n);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var a={},o=e===xi;return r(t.dataTypes[0])||!a["*"]&&r("*")}function R(e,t){var i,n,r=et.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&et.extend(!0,e,n),e}function H(e,t,i){for(var n,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}return a?(a!==l[0]&&l.unshift(a),i[a]):void 0}function W(e,t,i,n){var r,a,o,s,l,u={},h=e.dataTypes.slice();if(h[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=h.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=h.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=u[l+" "+a]||u["* "+a],!o)for(r in u)if(s=r.split(" "),s[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){o===!0?o=u[r]:u[r]!==!0&&(a=s[0],h.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function F(e,t,i,n){var r;if(et.isArray(t))et.each(t,function(t,r){i||Di.test(e)?n(e,r):F(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==et.type(t))n(e,t);else for(r in t)F(e+"["+r+"]",t[r],i,n)}function j(e){return et.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],q=Y.slice,X=Y.concat,V=Y.push,$=Y.indexOf,U={},K=U.toString,G=U.hasOwnProperty,Z={},Q=t.document,J="2.1.3",et=function(e,t){return new et.fn.init(e,t)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};et.fn=et.prototype={jquery:J,constructor:et,selector:"",length:0,toArray:function(){return q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:q.call(this)},pushStack:function(e){var t=et.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return et.each(this,e,t)},map:function(e){return this.pushStack(et.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:Y.sort,splice:Y.splice},et.extend=et.fn.extend=function(){var e,t,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||et.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)i=o[t],n=e[t],o!==n&&(u&&n&&(et.isPlainObject(n)||(r=et.isArray(n)))?(r?(r=!1,a=i&&et.isArray(i)?i:[]):a=i&&et.isPlainObject(i)?i:{},o[t]=et.extend(u,a,n)):void 0!==n&&(o[t]=n));return o},et.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===et.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!et.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==et.type(e)||e.nodeType||et.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?U[K.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=et.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(it,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,o=e.length,s=n(e);if(i){if(s)for(;o>a&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(s)for(;o>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(tt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?et.merge(i,"string"==typeof e?[e]:e):V.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:$.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;i>n;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],a=0,o=e.length,s=!i;o>a;a++)n=!t(e[a],a),n!==s&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,o=e.length,s=n(e),l=[];if(s)for(;o>a;a++)r=t(e[a],a,i),null!=r&&l.push(r);else for(a in e)r=t(e[a],a,i),null!=r&&l.push(r);return X.apply([],l)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(i=e[t],t=e,e=i),et.isFunction(e)?(n=q.call(arguments,2),r=function(){return e.apply(t||this,n.concat(q.call(arguments)))},r.guid=e.guid=e.guid||et.guid++,r):void 0},now:Date.now,support:Z}),et.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){U["[object "+t+"]"]=t.toLowerCase()});var at=function(e){function t(e,t,i,n){var r,a,o,s,l,u,c,p,f,g;if((t?t.ownerDocument||t:W)!==I&&M(t),t=t||I,i=i||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return i;if(!n&&A){if(11!==s&&(r=yt.exec(e)))if(o=r[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return i;if(a.id===o)return i.push(a),i}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&R(t,a)&&a.id===o)return i.push(a),i}else{if(r[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((o=r[3])&&_.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(o)),i}if(_.qsa&&(!O||!O.test(e))){if(p=c=H,f=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=D(e),(c=t.getAttribute("id"))?p=c.replace(xt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);f=bt.test(e)&&h(t.parentNode)||t,g=u.join(",")}if(g)try{return Q.apply(i,f.querySelectorAll(g)),i}catch(v){}finally{c||t.removeAttribute("id")}}}return S(e.replace(lt,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[H]=!0,e}function r(e){var t=I.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var i=e.split("|"),n=e.length;n--;)w.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return n(function(t){return t=+t,n(function(i,n){for(var r,a=e([],i.length,t),o=a.length;o--;)i[r=a[o]]&&(i[r]=!(n[r]=i[r]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,r=i&&"parentNode"===n,a=j++;return t.first?function(t,i,a){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,a)}:function(t,i,o){var s,l,u=[F,a];if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(l=t[H]||(t[H]={}),(s=l[n])&&s[0]===F&&s[1]===a)return u[2]=s[2];if(l[n]=u,u[2]=e(t,i,o))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var r=0,a=i.length;a>r;r++)t(e,i[r],n);return n}function v(e,t,i,n,r){for(var a,o=[],s=0,l=e.length,u=null!=t;l>s;s++)(a=e[s])&&(!i||i(a,n,r))&&(o.push(a),u&&t.push(s));return o}function m(e,t,i,r,a,o){return r&&!r[H]&&(r=m(r)),a&&!a[H]&&(a=m(a,o)),n(function(n,o,s,l){var u,h,c,d=[],p=[],f=o.length,m=n||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?m:v(m,d,e,s,l),b=i?a||(n?e:f||r)?[]:o:y;if(i&&i(y,b,s,l),r)for(u=v(b,p),r(u,[],s,l),h=u.length;h--;)(c=u[h])&&(b[p[h]]=!(y[p[h]]=c));if(n){if(a||e){if(a){for(u=[],h=b.length;h--;)(c=b[h])&&u.push(y[h]=c);a(null,b=[],u,l)}for(h=b.length;h--;)(c=b[h])&&(u=a?et(n,c):d[h])>-1&&(n[u]=!(o[u]=c))}}else b=v(b===o?b.splice(f,b.length):b),a?a(null,o,b,l):Q.apply(o,b)})}function y(e){for(var t,i,n,r=e.length,a=w.relative[e[0].type],o=a||w.relative[" "],s=a?1:0,l=p(function(e){return e===t},o,!0),u=p(function(e){return et(t,e)>-1},o,!0),h=[function(e,i,n){var r=!a&&(n||i!==E)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,r}];r>s;s++)if(i=w.relative[e[s].type])h=[p(f(h),i)];else{if(i=w.filter[e[s].type].apply(null,e[s].matches),i[H]){for(n=++s;r>n&&!w.relative[e[n].type];n++);return m(s>1&&f(h),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),i,n>s&&y(e.slice(s,n)),r>n&&y(e=e.slice(n)),r>n&&d(e))}h.push(i)}return f(h)}function b(e,i){var r=i.length>0,a=e.length>0,o=function(n,o,s,l,u){var h,c,d,p=0,f="0",g=n&&[],m=[],y=E,b=n||a&&w.find.TAG("*",u),x=F+=null==y?1:Math.random()||.1,_=b.length;for(u&&(E=o!==I&&o);f!==_&&null!=(h=b[f]);f++){if(a&&h){for(c=0;d=e[c++];)if(d(h,o,s)){l.push(h);break}u&&(F=x)}r&&((h=!d&&h)&&p--,n&&g.push(h))}if(p+=f,r&&f!==p){for(c=0;d=i[c++];)d(g,m,o,s);if(n){if(p>0)for(;f--;)g[f]||m[f]||(m[f]=G.call(l));m=v(m)}Q.apply(l,m),u&&!n&&m.length>0&&p+i.length>1&&t.uniqueSort(l)}return u&&(F=x,E=y),g};return r?n(o):o}var x,_,w,k,C,D,T,S,E,P,N,M,I,z,A,O,L,B,R,H="sizzle"+1*new Date,W=e.document,F=0,j=0,Y=i(),q=i(),X=i(),V=function(e,t){return e===t&&(N=!0),0},$=1<<31,U={}.hasOwnProperty,K=[],G=K.pop,Z=K.push,Q=K.push,J=K.slice,et=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=nt.replace("w","w#"),at="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(ot),pt=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},kt=function(){M()};try{Q.apply(K=J.call(W.childNodes),W.childNodes),K[W.childNodes.length].nodeType}catch(Ct){Q={apply:K.length?function(e,t){Z.apply(e,J.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}_=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:W;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,z=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",kt,!1):i.attachEvent&&i.attachEvent("onunload",kt)),A=!C(n),_.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=mt.test(n.getElementsByClassName),_.getById=r(function(e){return z.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),_.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&A){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(e){var t=e.replace(_t,wt);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(_t,wt);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),w.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},w.find.CLASS=_.getElementsByClassName&&function(e,t){return A?t.getElementsByClassName(e):void 0},L=[],O=[],(_.qsa=mt.test(n.querySelectorAll))&&(r(function(e){z.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+it+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+H+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||O.push(".#.+[+~]")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(_.matchesSelector=mt.test(B=z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.oMatchesSelector||z.msMatchesSelector))&&r(function(e){_.disconnectedMatch=B.call(e,"div"),B.call(e,"[s!='']:x"),L.push("!=",ot)}),O=O.length&&new RegExp(O.join("|")),L=L.length&&new RegExp(L.join("|")),t=mt.test(z.compareDocumentPosition),R=t||mt.test(z.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return N=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!_.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===W&&R(W,e)?-1:t===n||t.ownerDocument===W&&R(W,t)?1:P?et(P,e)-et(P,t):0:4&i?-1:1)}:function(e,t){if(e===t)return N=!0,0;var i,r=0,a=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:P?et(P,e)-et(P,t):0;if(a===s)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?o(l[r],u[r]):l[r]===W?-1:u[r]===W?1:0},n):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&M(e),i=i.replace(ct,"='$1']"),!(!_.matchesSelector||!A||L&&L.test(i)||O&&O.test(i)))try{var n=B.call(e,i);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&M(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&M(e);var i=w.attrHandle[t.toLowerCase()],n=i&&U.call(w.attrHandle,t.toLowerCase())?i(e,t,!A):void 0;return void 0!==n?n:_.attributes||!A?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(N=!_.detectDuplicates,P=!_.sortStable&&e.slice(0),e.sort(V),N){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return P=null,e},k=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},w=t.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,wt),e[3]=(e[3]||e[4]||e[5]||"").replace(_t,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&dt.test(i)&&(t=D(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_t,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Y[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&Y(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var a=t.attr(r,e);return null==a?"!="===i:i?(a+="","="===i?a===n:"!="===i?a!==n:"^="===i?n&&0===a.indexOf(n):"*="===i?n&&a.indexOf(n)>-1:"$="===i?n&&a.slice(-n.length)===n:"~="===i?(" "+a.replace(st," ")+" ").indexOf(n)>-1:"|="===i?a===n||a.slice(0,n.length+1)===n+"-":!1):!0
}},CHILD:function(e,t,i,n,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,h,c,d,p,f,g=a!==o?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(v){if(a){for(;g;){for(c=t;c=c[g];)if(s?c.nodeName.toLowerCase()===m:1===c.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&y){for(h=v[H]||(v[H]={}),u=h[e]||[],p=u[0]===F&&u[1],d=u[0]===F&&u[2],c=p&&v.childNodes[p];c=++p&&c&&c[g]||(d=p=0)||f.pop();)if(1===c.nodeType&&++d&&c===t){h[e]=[F,p,d];break}}else if(y&&(u=(t[H]||(t[H]={}))[e])&&u[0]===F)d=u[1];else for(;(c=++p&&c&&c[g]||(d=p=0)||f.pop())&&((s?c.nodeName.toLowerCase()!==m:1!==c.nodeType)||!++d||(y&&((c[H]||(c[H]={}))[e]=[F,d]),c!==t)););return d-=r,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,i){var r,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[H]?a(i):a.length>1?(r=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)n=et(e,r[o]),e[n]=!(t[n]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:n(function(e){var t=[],i=[],r=T(e.replace(lt,"$1"));return r[H]?n(function(e,t,i,n){for(var a,o=r(e,null,n,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,n,a){return t[0]=e,r(t,null,a,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(_t,wt),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_t,wt).toLowerCase(),function(t){var i;do if(i=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===z},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,D=t.tokenize=function(e,i){var n,r,a,o,s,l,u,h=q[e+" "];if(h)return i?0:h.slice(0);for(s=e,l=[],u=w.preFilter;s;){(!n||(r=ut.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=ht.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(lt," ")}),s=s.slice(n.length));for(o in w.filter)!(r=ft[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):q(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],r=[],a=X[e+" "];if(!a){for(t||(t=D(e)),i=t.length;i--;)a=y(t[i]),a[H]?n.push(a):r.push(a);a=X(e,b(r,n)),a.selector=e}return a},S=t.select=function(e,t,i,n){var r,a,o,s,l,u="function"==typeof e&&e,c=!n&&D(e=u.selector||e);if(i=i||[],1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&_.getById&&9===t.nodeType&&A&&w.relative[a[1].type]){if(t=(w.find.ID(o.matches[0].replace(_t,wt),t)||[])[0],!t)return i;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=ft.needsContext.test(e)?0:a.length;r--&&(o=a[r],!w.relative[s=o.type]);)if((l=w.find[s])&&(n=l(o.matches[0].replace(_t,wt),bt.test(a[0].type)&&h(t.parentNode)||t))){if(a.splice(r,1),e=n.length&&d(a),!e)return Q.apply(i,n),i;break}}return(u||T(e,c))(n,t,!A,i,bt.test(e)&&h(t.parentNode)||t),i},_.sortStable=H.split("").sort(V).join("")===H,_.detectDuplicates=!!N,M(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(tt,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(t);et.find=at,et.expr=at.selectors,et.expr[":"]=et.expr.pseudos,et.unique=at.uniqueSort,et.text=at.getText,et.isXMLDoc=at.isXML,et.contains=at.contains;var ot=et.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lt=/^.[^:#\[\.,]*$/;et.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?et.find.matchesSelector(n,e)?[n]:[]:et.find.matches(e,et.grep(t,function(e){return 1===e.nodeType}))},et.fn.extend({find:function(e){var t,i=this.length,n=[],r=this;if("string"!=typeof e)return this.pushStack(et(e).filter(function(){for(t=0;i>t;t++)if(et.contains(r[t],this))return!0}));for(t=0;i>t;t++)et.find(e,r[t],n);return n=this.pushStack(i>1?et.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ot.test(e)?et(e):e||[],!1).length}});var ut,ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=et.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ht.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof et?t[0]:t,et.merge(this,et.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),st.test(i[1])&&et.isPlainObject(t))for(i in t)et.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=Q.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):et.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(et):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),et.makeArray(e,this))};ct.prototype=et.fn,ut=et(Q);var dt=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};et.extend({dir:function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&et(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),et.fn.extend({has:function(e){var t=et(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(et.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,a=[],o=ot.test(e)||"string"!=typeof e?et(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&et.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?et.unique(a):a)},index:function(e){return e?"string"==typeof e?$.call(et(e),this[0]):$.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(et.unique(et.merge(this.get(),et(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),et.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return et.dir(e,"parentNode")},parentsUntil:function(e,t,i){return et.dir(e,"parentNode",i)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return et.dir(e,"nextSibling")},prevAll:function(e){return et.dir(e,"previousSibling")},nextUntil:function(e,t,i){return et.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return et.dir(e,"previousSibling",i)},siblings:function(e){return et.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return et.sibling(e.firstChild)},contents:function(e){return e.contentDocument||et.merge([],e.childNodes)}},function(e,t){et.fn[e]=function(i,n){var r=et.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=et.filter(n,r)),this.length>1&&(pt[e]||et.unique(r),dt.test(e)&&r.reverse()),this.pushStack(r)}});var ft=/\S+/g,gt={};et.Callbacks=function(e){e="string"==typeof e?gt[e]||o(e):et.extend({},e);var t,i,n,r,a,s,l=[],u=!e.once&&[],h=function(o){for(t=e.memory&&o,i=!0,s=r||0,r=0,a=l.length,n=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(u?u.length&&h(u.shift()):t?l=[]:c.disable())},c={add:function(){if(l){var i=l.length;!function o(t){et.each(t,function(t,i){var n=et.type(i);"function"===n?e.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),n?a=l.length:t&&(r=i,h(t))}return this},remove:function(){return l&&et.each(arguments,function(e,t){for(var i;(i=et.inArray(t,l,i))>-1;)l.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(e){return e?et.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||c.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):h(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},et.extend({Deferred:function(e){var t=[["resolve","done",et.Callbacks("once memory"),"resolved"],["reject","fail",et.Callbacks("once memory"),"rejected"],["notify","progress",et.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return et.Deferred(function(i){et.each(t,function(t,a){var o=et.isFunction(e[t])&&e[t];r[a[1]](function(){var e=o&&o.apply(this,arguments);e&&et.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?et.extend(e,n):n}},r={};return n.pipe=n.then,et.each(t,function(e,a){var o=a[2],s=a[3];n[a[1]]=o.add,s&&o.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?n:this,arguments),this},r[a[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,a=q.call(arguments),o=a.length,s=1!==o||e&&et.isFunction(e.promise)?o:0,l=1===s?e:et.Deferred(),u=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?q.call(arguments):r,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)a[r]&&et.isFunction(a[r].promise)?a[r].promise().done(u(r,n,a)).fail(l.reject).progress(u(r,i,t)):--s;return s||l.resolveWith(n,a),l.promise()}});var vt;et.fn.ready=function(e){return et.ready.promise().done(e),this},et.extend({isReady:!1,readyWait:1,holdReady:function(e){e?et.readyWait++:et.ready(!0)},ready:function(e){(e===!0?--et.readyWait:et.isReady)||(et.isReady=!0,e!==!0&&--et.readyWait>0||(vt.resolveWith(Q,[et]),et.fn.triggerHandler&&(et(Q).triggerHandler("ready"),et(Q).off("ready"))))}}),et.ready.promise=function(e){return vt||(vt=et.Deferred(),"complete"===Q.readyState?setTimeout(et.ready):(Q.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),vt.promise(e)},et.ready.promise();var mt=et.access=function(e,t,i,n,r,a,o){var s=0,l=e.length,u=null==i;if("object"===et.type(i)){r=!0;for(s in i)et.access(e,t,s,i[s],!0,a,o)}else if(void 0!==n&&(r=!0,et.isFunction(n)||(o=!0),u&&(o?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(et(e),i)})),t))for(;l>s;s++)t(e[s],i,o?n:n.call(e[s],s,t(e[s],i)));return r?e:u?t.call(e):l?t(e[0],i):a};et.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},l.uid=1,l.accepts=et.acceptData,l.prototype={key:function(e){if(!l.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=l.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,et.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,r=this.key(e),a=this.cache[r];if("string"==typeof t)a[t]=i;else if(et.isEmptyObject(a))et.extend(this.cache[r],t);else for(n in t)a[n]=t[n];return a},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,et.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,r,a=this.key(e),o=this.cache[a];if(void 0===t)this.cache[a]={};else{et.isArray(t)?n=t.concat(t.map(et.camelCase)):(r=et.camelCase(t),t in o?n=[t,r]:(n=r,n=n in o?[n]:n.match(ft)||[])),i=n.length;for(;i--;)delete o[n[i]]}},hasData:function(e){return!et.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var yt=new l,bt=new l,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/([A-Z])/g;et.extend({hasData:function(e){return bt.hasData(e)||yt.hasData(e)},data:function(e,t,i){return bt.access(e,t,i)},removeData:function(e,t){bt.remove(e,t)},_data:function(e,t,i){return yt.access(e,t,i)},_removeData:function(e,t){yt.remove(e,t)}}),et.fn.extend({data:function(e,t){var i,n,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=bt.get(a),1===a.nodeType&&!yt.get(a,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=et.camelCase(n.slice(5)),u(a,n,r[n])));yt.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){bt.set(this,e)}):mt(this,function(t){var i,n=et.camelCase(e);if(a&&void 0===t){if(i=bt.get(a,e),void 0!==i)return i;if(i=bt.get(a,n),void 0!==i)return i;if(i=u(a,n,void 0),void 0!==i)return i}else this.each(function(){var i=bt.get(this,n);bt.set(this,n,t),-1!==e.indexOf("-")&&void 0!==i&&bt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){bt.remove(this,e)})}}),et.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=yt.get(e,t),i&&(!n||et.isArray(i)?n=yt.access(e,t,et.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=et.queue(e,t),n=i.length,r=i.shift(),a=et._queueHooks(e,t),o=function(){et.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return yt.get(e,i)||yt.access(e,i,{empty:et.Callbacks("once memory").add(function(){yt.remove(e,[t+"queue",i])})})}}),et.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?et.queue(this[0],e):void 0===t?this:this.each(function(){var i=et.queue(this,e,t);et._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&et.dequeue(this,e)})},dequeue:function(e){return this.each(function(){et.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=et.Deferred(),a=this,o=this.length,s=function(){--n||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=yt.get(a[o],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===et.css(e,"display")||!et.contains(e.ownerDocument,e)},Dt=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),i=Q.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Tt="undefined";Z.focusinBubbles="onfocusin"in t;var St=/^key/,Et=/^(?:mouse|pointer|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;et.event={global:{},add:function(e,t,i,n,r){var a,o,s,l,u,h,c,d,p,f,g,v=yt.get(e);if(v)for(i.handler&&(a=i,i=a.handler,r=a.selector),i.guid||(i.guid=et.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(t){return typeof et!==Tt&&et.event.triggered!==t.type?et.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ft)||[""],u=t.length;u--;)s=Nt.exec(t[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p&&(c=et.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=et.event.special[p]||{},h=et.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&et.expr.match.needsContext.test(r),namespace:f.join(".")},a),(d=l[p])||(d=l[p]=[],d.delegateCount=0,c.setup&&c.setup.call(e,n,f,o)!==!1||e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),et.event.global[p]=!0)},remove:function(e,t,i,n,r){var a,o,s,l,u,h,c,d,p,f,g,v=yt.hasData(e)&&yt.get(e);if(v&&(l=v.events)){for(t=(t||"").match(ft)||[""],u=t.length;u--;)if(s=Nt.exec(t[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(c=et.event.special[p]||{},p=(n?c.delegateType:c.bindType)||p,d=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)h=d[a],!r&&g!==h.origType||i&&i.guid!==h.guid||s&&!s.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(a,1),h.selector&&d.delegateCount--,c.remove&&c.remove.call(e,h));o&&!d.length&&(c.teardown&&c.teardown.call(e,f,v.handle)!==!1||et.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)et.event.remove(e,p+t[u],i,n,!0);et.isEmptyObject(l)&&(delete v.handle,yt.remove(e,"events"))}},trigger:function(e,i,n,r){var a,o,s,l,u,h,c,d=[n||Q],p=G.call(e,"type")?e.type:e,f=G.call(e,"namespace")?e.namespace.split("."):[];if(o=s=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!Pt.test(p+et.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[et.expando]?e:new et.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:et.makeArray(i,[e]),c=et.event.special[p]||{},r||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!r&&!c.noBubble&&!et.isWindow(n)){for(l=c.delegateType||p,Pt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(n.ownerDocument||Q)&&d.push(s.defaultView||s.parentWindow||t)}for(a=0;(o=d[a++])&&!e.isPropagationStopped();)e.type=a>1?l:c.bindType||p,h=(yt.get(o,"events")||{})[e.type]&&yt.get(o,"handle"),h&&h.apply(o,i),h=u&&o[u],h&&h.apply&&et.acceptData(o)&&(e.result=h.apply(o,i),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||c._default&&c._default.apply(d.pop(),i)!==!1||!et.acceptData(n)||u&&et.isFunction(n[p])&&!et.isWindow(n)&&(s=n[u],s&&(n[u]=null),et.event.triggered=p,n[p](),et.event.triggered=void 0,s&&(n[u]=s)),e.result}},dispatch:function(e){e=et.event.fix(e);var t,i,n,r,a,o=[],s=q.call(arguments),l=(yt.get(this,"events")||{})[e.type]||[],u=et.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=et.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,n=((et.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(n=[],i=0;s>i;i++)a=t[i],r=a.selector+" ",void 0===n[r]&&(n[r]=a.needsContext?et(r,this).index(l)>=0:et.find(r,this,null,[l]).length),n[r]&&n.push(a);n.length&&o.push({elem:l,handlers:n})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,a=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||Q,n=i.documentElement,r=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[et.expando])return e;var t,i,n,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Et.test(r)?this.mouseHooks:St.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new et.Event(a),t=n.length;t--;)i=n[t],e[i]=a[i];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&et.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return et.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=et.extend(new et.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?et.event.trigger(r,null,t):et.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},et.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},et.Event=function(e,t){return this instanceof et.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:c):this.type=e,t&&et.extend(this,t),this.timeStamp=e&&e.timeStamp||et.now(),void(this[et.expando]=!0)):new et.Event(e,t)},et.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},et.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){et.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==n&&!et.contains(n,r))&&(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),Z.focusinBubbles||et.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){et.event.simulate(t,e.target,et.event.fix(e),!0)};et.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=yt.access(n,t);r||n.addEventListener(e,i,!0),yt.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=yt.access(n,t)-1;r?yt.access(n,t,r):(n.removeEventListener(e,i,!0),yt.remove(n,t))}}}),et.fn.extend({on:function(e,t,i,n,r){var a,o;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(o in e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=c;else if(!n)return this;return 1===r&&(a=n,n=function(e){return et().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=et.guid++)),this.each(function(){et.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,et(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=c),this.each(function(){et.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){et.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?et.event.trigger(e,t,i,!0):void 0}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,It=/<([\w:]+)/,zt=/<|&#?\w+;/,At=/<(?:script|style|link)/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^$|\/(?:java|ecma)script/i,Bt=/^true\/(.*)/,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ht={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ht.optgroup=Ht.option,Ht.tbody=Ht.tfoot=Ht.colgroup=Ht.caption=Ht.thead,Ht.th=Ht.td,et.extend({clone:function(e,t,i){var n,r,a,o,s=e.cloneNode(!0),l=et.contains(e.ownerDocument,e);if(!(Z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||et.isXMLDoc(e)))for(o=y(s),a=y(e),n=0,r=a.length;r>n;n++)b(a[n],o[n]);if(t)if(i)for(a=a||y(e),o=o||y(s),n=0,r=a.length;r>n;n++)m(a[n],o[n]);else m(e,s);return o=y(s,"script"),o.length>0&&v(o,!l&&y(e,"script")),s},buildFragment:function(e,t,i,n){for(var r,a,o,s,l,u,h=t.createDocumentFragment(),c=[],d=0,p=e.length;p>d;d++)if(r=e[d],r||0===r)if("object"===et.type(r))et.merge(c,r.nodeType?[r]:r);else if(zt.test(r)){for(a=a||h.appendChild(t.createElement("div")),o=(It.exec(r)||["",""])[1].toLowerCase(),s=Ht[o]||Ht._default,a.innerHTML=s[1]+r.replace(Mt,"<$1></$2>")+s[2],u=s[0];u--;)a=a.lastChild;et.merge(c,a.childNodes),a=h.firstChild,a.textContent=""}else c.push(t.createTextNode(r));for(h.textContent="",d=0;r=c[d++];)if((!n||-1===et.inArray(r,n))&&(l=et.contains(r.ownerDocument,r),a=y(h.appendChild(r),"script"),l&&v(a),i))for(u=0;r=a[u++];)Lt.test(r.type||"")&&i.push(r);return h},cleanData:function(e){for(var t,i,n,r,a=et.event.special,o=0;void 0!==(i=e[o]);o++){if(et.acceptData(i)&&(r=i[yt.expando],r&&(t=yt.cache[r]))){if(t.events)for(n in t.events)a[n]?et.event.remove(i,n):et.removeEvent(i,n,t.handle);yt.cache[r]&&delete yt.cache[r]}delete bt.cache[i[bt.expando]]}}}),et.fn.extend({text:function(e){return mt(this,function(e){return void 0===e?et.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?et.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||et.cleanData(y(i)),i.parentNode&&(t&&et.contains(i.ownerDocument,i)&&v(y(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(et.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return et.clone(this,e,t)})},html:function(e){return mt(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!At.test(e)&&!Ht[(It.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Mt,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(et.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,et.cleanData(y(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var i,n,r,a,o,s,l=0,u=this.length,h=this,c=u-1,d=e[0],p=et.isFunction(d);if(p||u>1&&"string"==typeof d&&!Z.checkClone&&Ot.test(d))return this.each(function(i){var n=h.eq(i);p&&(e[0]=d.call(this,i,n.html())),n.domManip(e,t)});if(u&&(i=et.buildFragment(e,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=et.map(y(i,"script"),f),a=r.length;u>l;l++)o=i,l!==c&&(o=et.clone(o,!0,!0),a&&et.merge(r,y(o,"script"))),t.call(this[l],o,l);if(a)for(s=r[r.length-1].ownerDocument,et.map(r,g),l=0;a>l;l++)o=r[l],Lt.test(o.type||"")&&!yt.access(o,"globalEval")&&et.contains(s,o)&&(o.src?et._evalUrl&&et._evalUrl(o.src):et.globalEval(o.textContent.replace(Rt,"")))}return this}}),et.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){et.fn[e]=function(e){for(var i,n=[],r=et(e),a=r.length-1,o=0;a>=o;o++)i=o===a?this:this.clone(!0),et(r[o])[t](i),V.apply(n,i.get());return this.pushStack(n)}});var Wt,Ft={},jt=/^margin/,Yt=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),qt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(a);var e=t.getComputedStyle(o,null);i="1%"!==e.top,n="4px"===e.width,r.removeChild(a)}var i,n,r=Q.documentElement,a=Q.createElement("div"),o=Q.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===o.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(o),t.getComputedStyle&&et.extend(Z,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=o.appendChild(Q.createElement("div"));return i.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",o.style.width="1px",r.appendChild(a),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(a),o.removeChild(i),e
}}))}(),et.swap=function(e,t,i,n){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=i.apply(e,n||[]);for(a in t)e.style[a]=o[a];return r};var Xt=/^(none|table(?!-c[ea]).+)/,Vt=new RegExp("^("+wt+")(.*)$","i"),$t=new RegExp("^([+-])=("+wt+")","i"),Ut={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","O","Moz","ms"];et.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=w(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=et.camelCase(t),l=e.style;return t=et.cssProps[s]||(et.cssProps[s]=C(l,s)),o=et.cssHooks[t]||et.cssHooks[s],void 0===i?o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:l[t]:(a=typeof i,"string"===a&&(r=$t.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(et.css(e,t)),a="number"),null!=i&&i===i&&("number"!==a||et.cssNumber[s]||(i+="px"),Z.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l[t]=i)),void 0)}},css:function(e,t,i,n){var r,a,o,s=et.camelCase(t);return t=et.cssProps[s]||(et.cssProps[s]=C(e.style,s)),o=et.cssHooks[t]||et.cssHooks[s],o&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=w(e,t,n)),"normal"===r&&t in Kt&&(r=Kt[t]),""===i||i?(a=parseFloat(r),i===!0||et.isNumeric(a)?a||0:r):r}}),et.each(["height","width"],function(e,t){et.cssHooks[t]={get:function(e,i,n){return i?Xt.test(et.css(e,"display"))&&0===e.offsetWidth?et.swap(e,Ut,function(){return S(e,t,n)}):S(e,t,n):void 0},set:function(e,i,n){var r=n&&qt(e);return D(e,i,n?T(e,t,n,"border-box"===et.css(e,"boxSizing",!1,r),r):0)}}}),et.cssHooks.marginRight=k(Z.reliableMarginRight,function(e,t){return t?et.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),et.each({margin:"",padding:"",border:"Width"},function(e,t){et.cssHooks[e+t]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+kt[n]+t]=a[n]||a[n-2]||a[0];return r}},jt.test(e)||(et.cssHooks[e+t].set=D)}),et.fn.extend({css:function(e,t){return mt(this,function(e,t,i){var n,r,a={},o=0;if(et.isArray(t)){for(n=qt(e),r=t.length;r>o;o++)a[t[o]]=et.css(e,t[o],!1,n);return a}return void 0!==i?et.style(e,t,i):et.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?et(this).show():et(this).hide()})}}),et.Tween=P,P.prototype={constructor:P,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(et.cssNumber[i]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,i=P.propHooks[this.prop];return this.pos=t=this.options.duration?et.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=et.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){et.fx.step[e.prop]?et.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[et.cssProps[e.prop]]||et.cssHooks[e.prop])?et.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},et.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},et.fx=P.prototype.init,et.fx.step={};var Zt,Qt,Jt=/^(?:toggle|show|hide)$/,ei=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),ti=/queueHooks$/,ii=[z],ni={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=ei.exec(t),a=r&&r[3]||(et.cssNumber[e]?"":"px"),o=(et.cssNumber[e]||"px"!==a&&+n)&&ei.exec(et.css(i.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],r=r||[],o=+n||1;do s=s||".5",o/=s,et.style(i.elem,e,o+a);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return r&&(o=i.start=+o||+n||0,i.unit=a,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};et.Animation=et.extend(O,{tweener:function(e,t){et.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],ni[i]=ni[i]||[],ni[i].unshift(t)},prefilter:function(e,t){t?ii.unshift(e):ii.push(e)}}),et.speed=function(e,t,i){var n=e&&"object"==typeof e?et.extend({},e):{complete:i||!i&&t||et.isFunction(e)&&e,duration:e,easing:i&&t||t&&!et.isFunction(t)&&t};return n.duration=et.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in et.fx.speeds?et.fx.speeds[n.duration]:et.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){et.isFunction(n.old)&&n.old.call(this),n.queue&&et.dequeue(this,n.queue)},n},et.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=et.isEmptyObject(e),a=et.speed(t,i,n),o=function(){var t=O(this,et.extend({},e),a);(r||yt.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=et.timers,o=yt.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&ti.test(r)&&n(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(i),t=!1,a.splice(r,1));(t||!i)&&et.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=yt.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],a=et.timers,o=n?n.length:0;for(i.finish=!0,et.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),et.each(["toggle","show","hide"],function(e,t){var i=et.fn[t];et.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(M(t,!0),e,n,r)}}),et.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){et.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),et.timers=[],et.fx.tick=function(){var e,t=0,i=et.timers;for(Zt=et.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||et.fx.stop(),Zt=void 0},et.fx.timer=function(e){et.timers.push(e),e()?et.fx.start():et.timers.pop()},et.fx.interval=13,et.fx.start=function(){Qt||(Qt=setInterval(et.fx.tick,et.fx.interval))},et.fx.stop=function(){clearInterval(Qt),Qt=null},et.fx.speeds={slow:600,fast:200,_default:400},et.fn.delay=function(e,t){return e=et.fx?et.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),i=t.appendChild(Q.createElement("option"));e.type="checkbox",Z.checkOn=""!==e.value,Z.optSelected=i.selected,t.disabled=!0,Z.optDisabled=!i.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",Z.radioValue="t"===e.value}();var ri,ai,oi=et.expr.attrHandle;et.fn.extend({attr:function(e,t){return mt(this,et.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){et.removeAttr(this,e)})}}),et.extend({attr:function(e,t,i){var n,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Tt?et.prop(e,t,i):(1===a&&et.isXMLDoc(e)||(t=t.toLowerCase(),n=et.attrHooks[t]||(et.expr.match.bool.test(t)?ai:ri)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=et.find.attr(e,t),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void et.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,a=t&&t.match(ft);if(a&&1===e.nodeType)for(;i=a[r++];)n=et.propFix[i]||i,et.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!Z.radioValue&&"radio"===t&&et.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),ai={set:function(e,t,i){return t===!1?et.removeAttr(e,i):e.setAttribute(i,i),i}},et.each(et.expr.match.bool.source.match(/\w+/g),function(e,t){var i=oi[t]||et.find.attr;oi[t]=function(e,t,n){var r,a;return n||(a=oi[t],oi[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,oi[t]=a),r}});var si=/^(?:input|select|textarea|button)$/i;et.fn.extend({prop:function(e,t){return mt(this,et.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[et.propFix[e]||e]})}}),et.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,r,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!et.isXMLDoc(e),a&&(t=et.propFix[t]||t,r=et.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||si.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSelected||(et.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),et.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){et.propFix[this.toLowerCase()]=this});var li=/[\t\r\n\f]/g;et.fn.extend({addClass:function(e){var t,i,n,r,a,o,s="string"==typeof e&&e,l=0,u=this.length;if(et.isFunction(e))return this.each(function(t){et(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(ft)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(li," "):" ")){for(a=0;r=t[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o=et.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(e){var t,i,n,r,a,o,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(et.isFunction(e))return this.each(function(t){et(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(ft)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(li," "):"")){for(a=0;r=t[a++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");o=e?et.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(et.isFunction(e)?function(i){et(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,r=et(this),a=e.match(ft)||[];t=a[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===Tt||"boolean"===i)&&(this.className&&yt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":yt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(li," ").indexOf(t)>=0)return!0;return!1}});var ui=/\r/g;et.fn.extend({val:function(e){var t,i,n,r=this[0];{if(arguments.length)return n=et.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,et(this).val()):e,null==r?r="":"number"==typeof r?r+="":et.isArray(r)&&(r=et.map(r,function(e){return null==e?"":e+""})),t=et.valHooks[this.type]||et.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=et.valHooks[r.type]||et.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(ui,""):null==i?"":i)}}}),et.extend({valHooks:{option:{get:function(e){var t=et.find.attr(e,"value");return null!=t?t:et.trim(et.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,o=a?null:[],s=a?r+1:n.length,l=0>r?s:a?r:0;s>l;l++)if(i=n[l],!(!i.selected&&l!==r||(Z.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&et.nodeName(i.parentNode,"optgroup"))){if(t=et(i).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,a=et.makeArray(t),o=r.length;o--;)n=r[o],(n.selected=et.inArray(n.value,a)>=0)&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),et.each(["radio","checkbox"],function(){et.valHooks[this]={set:function(e,t){return et.isArray(t)?e.checked=et.inArray(et(e).val(),t)>=0:void 0}},Z.checkOn||(et.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),et.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){et.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),et.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var hi=et.now(),ci=/\?/;et.parseJSON=function(e){return JSON.parse(e+"")},et.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(n){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&et.error("Invalid XML: "+e),t};var di=/#.*$/,pi=/([?&])_=[^&]*/,fi=/^(.*?):[ \t]*([^\r\n]*)$/gm,gi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vi=/^(?:GET|HEAD)$/,mi=/^\/\//,yi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bi={},xi={},_i="*/".concat("*"),wi=t.location.href,ki=yi.exec(wi.toLowerCase())||[];et.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wi,type:"GET",isLocal:gi.test(ki[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_i,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":et.parseJSON,"text xml":et.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,et.ajaxSettings),t):R(et.ajaxSettings,e)},ajaxPrefilter:L(bi),ajaxTransport:L(xi),ajax:function(e,t){function i(e,t,i,o){var l,h,m,y,x,w=t;2!==b&&(b=2,s&&clearTimeout(s),n=void 0,a=o||"",_.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(y=H(c,_,i)),y=W(c,y,_,l),l?(c.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(et.lastModified[r]=x),x=_.getResponseHeader("etag"),x&&(et.etag[r]=x)),204===e||"HEAD"===c.type?w="nocontent":304===e?w="notmodified":(w=y.state,h=y.data,m=y.error,l=!m)):(m=w,(e||!w)&&(w="error",0>e&&(e=0))),_.status=e,_.statusText=(t||w)+"",l?f.resolveWith(d,[h,w,_]):f.rejectWith(d,[_,w,m]),_.statusCode(v),v=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[_,c,l?h:m]),g.fireWith(d,[_,w]),u&&(p.trigger("ajaxComplete",[_,c]),--et.active||et.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,a,o,s,l,u,h,c=et.ajaxSetup({},t),d=c.context||c,p=c.context&&(d.nodeType||d.jquery)?et(d):et.event,f=et.Deferred(),g=et.Callbacks("once memory"),v=c.statusCode||{},m={},y={},b=0,x="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=fi.exec(a);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,m[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||x;return n&&n.abort(t),i(0,t),this}};if(f.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,c.url=((e||c.url||wi)+"").replace(di,"").replace(mi,ki[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=et.trim(c.dataType||"*").toLowerCase().match(ft)||[""],null==c.crossDomain&&(l=yi.exec(c.url.toLowerCase()),c.crossDomain=!(!l||l[1]===ki[1]&&l[2]===ki[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ki[3]||("http:"===ki[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=et.param(c.data,c.traditional)),B(bi,c,t,_),2===b)return _;u=et.event&&c.global,u&&0===et.active++&&et.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!vi.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(ci.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=pi.test(r)?r.replace(pi,"$1_="+hi++):r+(ci.test(r)?"&":"?")+"_="+hi++)),c.ifModified&&(et.lastModified[r]&&_.setRequestHeader("If-Modified-Since",et.lastModified[r]),et.etag[r]&&_.setRequestHeader("If-None-Match",et.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",c.contentType),_.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+_i+"; q=0.01":""):c.accepts["*"]);for(h in c.headers)_.setRequestHeader(h,c.headers[h]);if(c.beforeSend&&(c.beforeSend.call(d,_,c)===!1||2===b))return _.abort();x="abort";for(h in{success:1,error:1,complete:1})_[h](c[h]);if(n=B(xi,c,t,_)){_.readyState=1,u&&p.trigger("ajaxSend",[_,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},c.timeout));try{b=1,n.send(m,i)}catch(w){if(!(2>b))throw w;i(-1,w)}}else i(-1,"No Transport");return _},getJSON:function(e,t,i){return et.get(e,t,i,"json")},getScript:function(e,t){return et.get(e,void 0,t,"script")}}),et.each(["get","post"],function(e,t){et[t]=function(e,i,n,r){return et.isFunction(i)&&(r=r||n,n=i,i=void 0),et.ajax({url:e,type:t,dataType:r,data:i,success:n})}}),et._evalUrl=function(e){return et.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},et.fn.extend({wrapAll:function(e){var t;return et.isFunction(e)?this.each(function(t){et(this).wrapAll(e.call(this,t))}):(this[0]&&(t=et(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(et.isFunction(e)?function(t){et(this).wrapInner(e.call(this,t))}:function(){var t=et(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=et.isFunction(e);return this.each(function(i){et(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){et.nodeName(this,"body")||et(this).replaceWith(this.childNodes)}).end()}}),et.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},et.expr.filters.visible=function(e){return!et.expr.filters.hidden(e)};var Ci=/%20/g,Di=/\[\]$/,Ti=/\r?\n/g,Si=/^(?:submit|button|image|reset|file)$/i,Ei=/^(?:input|select|textarea|keygen)/i;et.param=function(e,t){var i,n=[],r=function(e,t){t=et.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=et.ajaxSettings&&et.ajaxSettings.traditional),et.isArray(e)||e.jquery&&!et.isPlainObject(e))et.each(e,function(){r(this.name,this.value)});else for(i in e)F(i,e[i],t,r);return n.join("&").replace(Ci,"+")},et.fn.extend({serialize:function(){return et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=et.prop(this,"elements");return e?et.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!et(this).is(":disabled")&&Ei.test(this.nodeName)&&!Si.test(e)&&(this.checked||!Dt.test(e))}).map(function(e,t){var i=et(this).val();return null==i?null:et.isArray(i)?et.map(i,function(e){return{name:t.name,value:e.replace(Ti,"\r\n")}}):{name:t.name,value:i.replace(Ti,"\r\n")}}).get()}}),et.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Pi=0,Ni={},Mi={0:200,1223:204},Ii=et.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var e in Ni)Ni[e]()}),Z.cors=!!Ii&&"withCredentials"in Ii,Z.ajax=Ii=!!Ii,et.ajaxTransport(function(e){var t;return Z.cors||Ii&&!e.crossDomain?{send:function(i,n){var r,a=e.xhr(),o=++Pi;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)a.setRequestHeader(r,i[r]);t=function(e){return function(){t&&(delete Ni[o],t=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?n(a.status,a.statusText):n(Mi[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=t(),a.onerror=t("error"),t=Ni[o]=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),et.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return et.globalEval(e),e}}}),et.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),et.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,r){t=et("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){i&&i()}}}});var zi=[],Ai=/(=)\?(?=&|$)|\?\?/;et.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zi.pop()||et.expando+"_"+hi++;return this[e]=!0,e}}),et.ajaxPrefilter("json jsonp",function(e,i,n){var r,a,o,s=e.jsonp!==!1&&(Ai.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ai.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=et.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ai,"$1"+r):e.jsonp!==!1&&(e.url+=(ci.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||et.error(r+" was not called"),o[0]},e.dataTypes[0]="json",a=t[r],t[r]=function(){o=arguments},n.always(function(){t[r]=a,e[r]&&(e.jsonpCallback=i.jsonpCallback,zi.push(r)),o&&et.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),et.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||Q;var n=st.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=et.buildFragment([e],t,r),r&&r.length&&et(r).remove(),et.merge([],n.childNodes))};var Oi=et.fn.load;et.fn.load=function(e,t,i){if("string"!=typeof e&&Oi)return Oi.apply(this,arguments);var n,r,a,o=this,s=e.indexOf(" ");return s>=0&&(n=et.trim(e.slice(s)),e=e.slice(0,s)),et.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&et.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){a=arguments,o.html(n?et("<div>").append(et.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){o.each(i,a||[e.responseText,t,e])}),this},et.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){et.fn[t]=function(e){return this.on(t,e)}}),et.expr.filters.animated=function(e){return et.grep(et.timers,function(t){return e===t.elem}).length};var Li=t.document.documentElement;et.offset={setOffset:function(e,t,i){var n,r,a,o,s,l,u,h=et.css(e,"position"),c=et(e),d={};"static"===h&&(e.style.position="relative"),s=c.offset(),a=et.css(e,"top"),l=et.css(e,"left"),u=("absolute"===h||"fixed"===h)&&(a+l).indexOf("auto")>-1,u?(n=c.position(),o=n.top,r=n.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),et.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):c.css(d)}},et.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){et.offset.setOffset(this,e,t)});var t,i,n=this[0],r={top:0,left:0},a=n&&n.ownerDocument;if(a)return t=a.documentElement,et.contains(t,n)?(typeof n.getBoundingClientRect!==Tt&&(r=n.getBoundingClientRect()),i=j(a),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===et.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),et.nodeName(e[0],"html")||(n=e.offset()),n.top+=et.css(e[0],"borderTopWidth",!0),n.left+=et.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-et.css(i,"marginTop",!0),left:t.left-n.left-et.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Li;e&&!et.nodeName(e,"html")&&"static"===et.css(e,"position");)e=e.offsetParent;return e||Li})}}),et.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;et.fn[e]=function(r){return mt(this,function(e,r,a){var o=j(e);return void 0===a?o?o[i]:e[r]:void(o?o.scrollTo(n?t.pageXOffset:a,n?a:t.pageYOffset):e[r]=a)},e,r,arguments.length,null)}}),et.each(["top","left"],function(e,t){et.cssHooks[t]=k(Z.pixelPosition,function(e,i){return i?(i=w(e,t),Yt.test(i)?et(e).position()[t]+"px":i):void 0})}),et.each({Height:"height",Width:"width"},function(e,t){et.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){et.fn[n]=function(n,r){var a=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||r===!0?"margin":"border");return mt(this,function(t,i,n){var r;return et.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?et.css(t,i,o):et.style(t,i,n,o)},t,a?n:void 0,a,null)}})}),et.fn.size=function(){return this.length},et.fn.andSelf=et.fn.addBack,"function"==typeof e&&e.amd&&e("jquery",[],function(){return et});var Bi=t.jQuery,Ri=t.$;return et.noConflict=function(e){return t.$===et&&(t.$=Ri),e&&t.jQuery===et&&(t.jQuery=Bi),et},typeof i===Tt&&(t.jQuery=t.$=et),et})},{}],"biojs-vis-keggviewer":[function(e,t){biojsviskegg=e("./js/app.js"),t.exports=biojsviskegg},{"./js/app.js":1}]},{},["biojs-vis-keggviewer"])("biojs-vis-keggviewer")});